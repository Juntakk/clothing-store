"use strict";(()=>{var Og=Object.create;var Ui=Object.defineProperty;var Ng=Object.getOwnPropertyDescriptor;var Dg=Object.getOwnPropertyNames;var Ug=Object.getPrototypeOf,Lg=Object.prototype.hasOwnProperty;var q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Mg=(e,t)=>{for(var r in t)Ui(e,r,{get:t[r],enumerable:!0})},jg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Dg(t))!Lg.call(e,o)&&o!==r&&Ui(e,o,{get:()=>t[o],enumerable:!(n=Ng(t,o))||n.enumerable});return e};var pt=(e,t,r)=>(r=e!=null?Og(Ug(e)):{},jg(t||!e||!e.__esModule?Ui(r,"default",{value:e,enumerable:!0}):r,e));var ia=q(sa=>{"use strict";sa.parse=L0;sa.serialize=M0;var I0=Object.prototype.toString,O0=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,N0=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,D0=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,U0=/^[\u0020-\u003A\u003D-\u007E]*$/;function L0(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var o=t&&t.decode||j0,s=0,i=0,a=0;do{if(i=e.indexOf("=",s),i===-1)break;if(a=e.indexOf(";",s),a===-1)a=n;else if(i>a){s=e.lastIndexOf(";",i-1)+1;continue}var c=id(e,s,i),l=ad(e,i,c),u=e.slice(c,l);if(!r.hasOwnProperty(u)){var f=id(e,i+1,a),p=ad(e,a,f);e.charCodeAt(f)===34&&e.charCodeAt(p-1)===34&&(f++,p--);var w=e.slice(f,p);r[u]=$0(w,o)}s=a+1}while(s<n);return r}function id(e,t,r){do{var n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function ad(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function M0(e,t,r){var n=r&&r.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!O0.test(e))throw new TypeError("argument name is invalid");var o=n(t);if(!N0.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(!r)return s;if(r.maxAge!=null){var i=Math.floor(r.maxAge);if(!isFinite(i))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+i}if(r.domain){if(!D0.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!U0.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){var a=r.expires;if(!B0(a)||isNaN(a.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+a.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority){var c=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(c){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function j0(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function B0(e){return I0.call(e)==="[object Date]"}function $0(e,t){try{return t(e)}catch{return e}}});var Hf=q($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});Object.defineProperty($a,"detectDomainLocale",{enumerable:!0,get:function(){return E1}});function E1(e,t,r){if(e){r&&(r=r.toLowerCase());for(let s of e){var n,o;let i=(n=s.domain)==null?void 0:n.split(":",1)[0].toLowerCase();if(t===i||r===s.defaultLocale.toLowerCase()||(o=s.locales)!=null&&o.some(a=>a.toLowerCase()===r))return s}}}});var qf=q(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Object.defineProperty(Ha,"removeTrailingSlash",{enumerable:!0,get:function(){return S1}});function S1(e){return e.replace(/\/$/,"")||"/"}});var Vs=q(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});Object.defineProperty(qa,"parsePath",{enumerable:!0,get:function(){return A1}});function A1(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}});var Fa=q(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Object.defineProperty(Wa,"addPathPrefix",{enumerable:!0,get:function(){return x1}});var R1=Vs();function x1(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:o}=(0,R1.parsePath)(e);return""+t+r+n+o}});var Wf=q(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Object.defineProperty(Ka,"addPathSuffix",{enumerable:!0,get:function(){return P1}});var T1=Vs();function P1(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:o}=(0,T1.parsePath)(e);return""+r+t+n+o}});var Ys=q(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Object.defineProperty(Ja,"pathHasPrefix",{enumerable:!0,get:function(){return k1}});var C1=Vs();function k1(e,t){if(typeof e!="string")return!1;let{pathname:r}=(0,C1.parsePath)(e);return r===t||r.startsWith(t+"/")}});var Kf=q(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Object.defineProperty(Ga,"addLocale",{enumerable:!0,get:function(){return O1}});var I1=Fa(),Ff=Ys();function O1(e,t,r,n){if(!t||t===r)return e;let o=e.toLowerCase();return!n&&((0,Ff.pathHasPrefix)(o,"/api")||(0,Ff.pathHasPrefix)(o,"/"+t.toLowerCase()))?e:(0,I1.addPathPrefix)(e,"/"+t)}});var Vf=q(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});Object.defineProperty(za,"formatNextPathnameInfo",{enumerable:!0,get:function(){return D1}});var Jf=qf(),Gf=Fa(),zf=Wf(),N1=Kf();function D1(e){let t=(0,N1.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,Jf.removeTrailingSlash)(t)),e.buildId&&(t=(0,zf.addPathSuffix)((0,Gf.addPathPrefix)(t,"/_next/data/"+e.buildId),e.pathname==="/"?"index.json":".json")),t=(0,Gf.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,zf.addPathSuffix)(t,"/"):(0,Jf.removeTrailingSlash)(t)}});var Yf=q(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Object.defineProperty(Va,"getHostname",{enumerable:!0,get:function(){return U1}});function U1(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else if(e.hostname)r=e.hostname;else return;return r.toLowerCase()}});var Qf=q(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Object.defineProperty(Ya,"normalizeLocalePath",{enumerable:!0,get:function(){return L1}});function L1(e,t){let r,n=e.split("/");return(t||[]).some(o=>n[1]&&n[1].toLowerCase()===o.toLowerCase()?(r=o,n.splice(1,1),e=n.join("/")||"/",!0):!1),{pathname:e,detectedLocale:r}}});var Xf=q(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Object.defineProperty(Qa,"removePathPrefix",{enumerable:!0,get:function(){return j1}});var M1=Ys();function j1(e,t){if(!(0,M1.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}});var eh=q(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Object.defineProperty(Xa,"getNextPathnameInfo",{enumerable:!0,get:function(){return H1}});var Zf=Qf(),B1=Xf(),$1=Ys();function H1(e,t){var r;let{basePath:n,i18n:o,trailingSlash:s}=(r=t.nextConfig)!=null?r:{},i={pathname:e,trailingSlash:e!=="/"?e.endsWith("/"):s};n&&(0,$1.pathHasPrefix)(i.pathname,n)&&(i.pathname=(0,B1.removePathPrefix)(i.pathname,n),i.basePath=n);let a=i.pathname;if(i.pathname.startsWith("/_next/data/")&&i.pathname.endsWith(".json")){let l=i.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),u=l[0];i.buildId=u,a=l[1]!=="index"?"/"+l.slice(1).join("/"):"/",t.parseData===!0&&(i.pathname=a)}if(o){let l=t.i18nProvider?t.i18nProvider.analyze(i.pathname):(0,Zf.normalizeLocalePath)(i.pathname,o.locales);i.locale=l.detectedLocale;var c;i.pathname=(c=l.pathname)!=null?c:i.pathname,!l.detectedLocale&&i.buildId&&(l=t.i18nProvider?t.i18nProvider.analyze(a):(0,Zf.normalizeLocalePath)(a,o.locales),l.detectedLocale&&(i.locale=l.detectedLocale))}return i}});var tc=q(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});Object.defineProperty(ec,"NextURL",{enumerable:!0,get:function(){return Za}});var q1=Hf(),W1=Vf(),F1=Yf(),K1=eh(),th=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function rh(e,t){return new URL(String(e).replace(th,"localhost"),t&&String(t).replace(th,"localhost"))}var G=Symbol("NextURLInternal"),Za=class e{constructor(t,r,n){let o,s;typeof r=="object"&&"pathname"in r||typeof r=="string"?(o=r,s=n||{}):s=n||r||{},this[G]={url:rh(t,o??s.base),options:s,basePath:""},this.analyze()}analyze(){var t,r,n,o,s;let i=(0,K1.getNextPathnameInfo)(this[G].url.pathname,{nextConfig:this[G].options.nextConfig,parseData:!process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE,i18nProvider:this[G].options.i18nProvider}),a=(0,F1.getHostname)(this[G].url,this[G].options.headers);this[G].domainLocale=this[G].options.i18nProvider?this[G].options.i18nProvider.detectDomainLocale(a):(0,q1.detectDomainLocale)((r=this[G].options.nextConfig)==null||(t=r.i18n)==null?void 0:t.domains,a);let c=((n=this[G].domainLocale)==null?void 0:n.defaultLocale)||((s=this[G].options.nextConfig)==null||(o=s.i18n)==null?void 0:o.defaultLocale);this[G].url.pathname=i.pathname,this[G].defaultLocale=c,this[G].basePath=i.basePath??"",this[G].buildId=i.buildId,this[G].locale=i.locale??c,this[G].trailingSlash=i.trailingSlash}formatPathname(){return(0,W1.formatNextPathnameInfo)({basePath:this[G].basePath,buildId:this[G].buildId,defaultLocale:this[G].options.forceLocale?void 0:this[G].defaultLocale,locale:this[G].locale,pathname:this[G].url.pathname,trailingSlash:this[G].trailingSlash})}formatSearch(){return this[G].url.search}get buildId(){return this[G].buildId}set buildId(t){this[G].buildId=t}get locale(){return this[G].locale??""}set locale(t){var r,n;if(!this[G].locale||!(!((n=this[G].options.nextConfig)==null||(r=n.i18n)==null)&&r.locales.includes(t)))throw new TypeError(`The NextURL configuration includes no locale "${t}"`);this[G].locale=t}get defaultLocale(){return this[G].defaultLocale}get domainLocale(){return this[G].domainLocale}get searchParams(){return this[G].url.searchParams}get host(){return this[G].url.host}set host(t){this[G].url.host=t}get hostname(){return this[G].url.hostname}set hostname(t){this[G].url.hostname=t}get port(){return this[G].url.port}set port(t){this[G].url.port=t}get protocol(){return this[G].url.protocol}set protocol(t){this[G].url.protocol=t}get href(){let t=this.formatPathname(),r=this.formatSearch();return`${this.protocol}//${this.host}${t}${r}${this.hash}`}set href(t){this[G].url=rh(t),this.analyze()}get origin(){return this[G].url.origin}get pathname(){return this[G].url.pathname}set pathname(t){this[G].url.pathname=t}get hash(){return this[G].url.hash}set hash(t){this[G].url.hash=t}get search(){return this[G].url.search}set search(t){this[G].url.search=t}get password(){return this[G].url.password}set password(t){this[G].url.password=t}get username(){return this[G].url.username}set username(t){this[G].url.username=t}get basePath(){return this[G].basePath}set basePath(t){this[G].basePath=t.startsWith("/")?t:`/${t}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new e(String(this),this[G].options)}}});var oh=q(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});function J1(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}J1(rc,{ACTION_SUFFIX:function(){return rb},APP_DIR_ALIAS:function(){return Eb},CACHE_ONE_YEAR:function(){return mb},DOT_NEXT_ALIAS:function(){return _b},ESLINT_DEFAULT_DIRS:function(){return Hb},GSP_NO_RETURNED_VALUE:function(){return Ub},GSSP_COMPONENT_MEMBER_ERROR:function(){return jb},GSSP_NO_RETURNED_VALUE:function(){return Lb},INFINITE_CACHE:function(){return yb},INSTRUMENTATION_HOOK_FILENAME:function(){return wb},MATCHED_PATH_HEADER:function(){return V1},MIDDLEWARE_FILENAME:function(){return nh},MIDDLEWARE_LOCATION_REGEXP:function(){return gb},NEXT_BODY_SUFFIX:function(){return sb},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return pb},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return cb},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return ub},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return ab},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return hb},NEXT_CACHE_TAGS_HEADER:function(){return ib},NEXT_CACHE_TAG_MAX_ITEMS:function(){return db},NEXT_CACHE_TAG_MAX_LENGTH:function(){return fb},NEXT_DATA_SUFFIX:function(){return nb},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return z1},NEXT_META_SUFFIX:function(){return ob},NEXT_QUERY_PARAM_PREFIX:function(){return G1},NEXT_RESUME_HEADER:function(){return lb},NON_STANDARD_NODE_ENV:function(){return Bb},PAGES_DIR_ALIAS:function(){return bb},PRERENDER_REVALIDATE_HEADER:function(){return Y1},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return Q1},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return Cb},ROOT_DIR_ALIAS:function(){return vb},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return Pb},RSC_ACTION_ENCRYPTION_ALIAS:function(){return Tb},RSC_ACTION_PROXY_ALIAS:function(){return Rb},RSC_ACTION_VALIDATE_ALIAS:function(){return Ab},RSC_CACHE_WRAPPER_ALIAS:function(){return xb},RSC_MOD_REF_PROXY_ALIAS:function(){return Sb},RSC_PREFETCH_SUFFIX:function(){return X1},RSC_SEGMENTS_DIR_SUFFIX:function(){return Z1},RSC_SEGMENT_SUFFIX:function(){return eb},RSC_SUFFIX:function(){return tb},SERVER_PROPS_EXPORT_ERROR:function(){return Db},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return Ib},SERVER_PROPS_SSG_CONFLICT:function(){return Ob},SERVER_RUNTIME:function(){return qb},SSG_FALLBACK_EXPORT_ERROR:function(){return $b},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return kb},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return Nb},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return Mb},WEBPACK_LAYERS:function(){return Wb},WEBPACK_RESOURCE_QUERIES:function(){return Fb}});var G1="nxtP",z1="nxtI",V1="x-matched-path",Y1="x-prerender-revalidate",Q1="x-prerender-revalidate-if-generated",X1=".prefetch.rsc",Z1=".segments",eb=".segment.rsc",tb=".rsc",rb=".action",nb=".json",ob=".meta",sb=".body",ib="x-next-cache-tags",ab="x-next-cache-soft-tags",cb="x-next-revalidated-tags",ub="x-next-revalidate-tag-token",lb="next-resume",db=128,fb=256,hb=1024,pb="_N_T_",mb=31536e3,yb=4294967294,nh="middleware",gb=`(?:src/)?${nh}`,wb="instrumentation",bb="private-next-pages",_b="private-dot-next",vb="private-next-root-dir",Eb="private-next-app-dir",Sb="private-next-rsc-mod-ref-proxy",Ab="private-next-rsc-action-validate",Rb="private-next-rsc-server-reference",xb="private-next-rsc-cache-wrapper",Tb="private-next-rsc-action-encryption",Pb="private-next-rsc-action-client-wrapper",Cb="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",kb="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",Ib="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",Ob="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",Nb="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",Db="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Ub="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",Lb="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",Mb="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",jb="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",Bb='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',$b="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",Hb=["app","pages","components","lib","src"],qb={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},Oe={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser"},Wb={...Oe,GROUP:{builtinReact:[Oe.reactServerComponents,Oe.actionBrowser],serverOnly:[Oe.reactServerComponents,Oe.actionBrowser,Oe.instrument,Oe.middleware],neutralTarget:[Oe.api],clientOnly:[Oe.serverSideRendering,Oe.appPagesBrowser],bundled:[Oe.reactServerComponents,Oe.actionBrowser,Oe.serverSideRendering,Oe.appPagesBrowser,Oe.shared,Oe.instrument],appPages:[Oe.reactServerComponents,Oe.serverSideRendering,Oe.appPagesBrowser,Oe.actionBrowser]}},Fb={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}});var oc=q(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});function Kb(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Kb(nc,{fromNodeOutgoingHttpHeaders:function(){return Jb},normalizeNextQueryParam:function(){return Vb},splitCookiesString:function(){return ih},toNodeOutgoingHttpHeaders:function(){return Gb},validateURL:function(){return zb}});var sh=oh();function Jb(e){let t=new Headers;for(let[r,n]of Object.entries(e)){let o=Array.isArray(n)?n:[n];for(let s of o)typeof s>"u"||(typeof s=="number"&&(s=s.toString()),t.append(r,s))}return t}function ih(e){var t=[],r=0,n,o,s,i,a;function c(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function l(){return o=e.charAt(r),o!=="="&&o!==";"&&o!==","}for(;r<e.length;){for(n=r,a=!1;c();)if(o=e.charAt(r),o===","){for(s=r,r+=1,c(),i=r;r<e.length&&l();)r+=1;r<e.length&&e.charAt(r)==="="?(a=!0,r=i,t.push(e.substring(n,s)),n=r):r=s+1}else r+=1;(!a||r>=e.length)&&t.push(e.substring(n,e.length))}return t}function Gb(e){let t={},r=[];if(e)for(let[n,o]of e.entries())n.toLowerCase()==="set-cookie"?(r.push(...ih(o)),t[n]=r.length===1?r[0]:r):t[n]=o;return t}function zb(e){try{return String(new URL(String(e)))}catch(t){throw new Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}function Vb(e,t){let r=[sh.NEXT_QUERY_PARAM_PREFIX,sh.NEXT_INTERCEPTION_MARKER_PREFIX];for(let n of r)if(e!==n&&e.startsWith(n)){let o=e.substring(n.length);t(o)}}});var ah=q(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});function Yb(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Yb(cc,{PageSignatureError:function(){return sc},RemovedPageError:function(){return ic},RemovedUAError:function(){return ac}});var sc=class extends Error{constructor({page:t}){super(`The middleware "${t}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}},ic=class extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}},ac=class extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}});var dh=q((rP,lh)=>{"use strict";var uc=Object.defineProperty,Qb=Object.getOwnPropertyDescriptor,Xb=Object.getOwnPropertyNames,Zb=Object.prototype.hasOwnProperty,e_=(e,t)=>{for(var r in t)uc(e,r,{get:t[r],enumerable:!0})},t_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xb(t))!Zb.call(e,o)&&o!==r&&uc(e,o,{get:()=>t[o],enumerable:!(n=Qb(t,o))||n.enumerable});return e},r_=e=>t_(uc({},"__esModule",{value:!0}),e),ch={};e_(ch,{RequestCookies:()=>u_,ResponseCookies:()=>l_,parseCookie:()=>lc,parseSetCookie:()=>uh,stringifyCookie:()=>ko});lh.exports=r_(ch);function ko(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||e.expires===0)&&`Expires=${(typeof e.expires=="number"?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&typeof e.maxAge=="number"&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent((t=e.value)!=null?t:"")}`;return r.length===0?n:`${n}; ${r.join("; ")}`}function lc(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let n=r.indexOf("=");if(n===-1){t.set(r,"true");continue}let[o,s]=[r.slice(0,n),r.slice(n+1)];try{t.set(o,decodeURIComponent(s??"true"))}catch{}}return t}function uh(e){if(!e)return;let[[t,r],...n]=lc(e),{domain:o,expires:s,httponly:i,maxage:a,path:c,samesite:l,secure:u,partitioned:f,priority:p}=Object.fromEntries(n.map(([m,h])=>[m.toLowerCase().replace(/-/g,""),h])),w={name:t,value:decodeURIComponent(r),domain:o,...s&&{expires:new Date(s)},...i&&{httpOnly:!0},...typeof a=="string"&&{maxAge:Number(a)},path:c,...l&&{sameSite:s_(l)},...u&&{secure:!0},...p&&{priority:a_(p)},...f&&{partitioned:!0}};return n_(w)}function n_(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}var o_=["strict","lax","none"];function s_(e){return e=e.toLowerCase(),o_.includes(e)?e:void 0}var i_=["low","medium","high"];function a_(e){return e=e.toLowerCase(),i_.includes(e)?e:void 0}function c_(e){if(!e)return[];var t=[],r=0,n,o,s,i,a;function c(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function l(){return o=e.charAt(r),o!=="="&&o!==";"&&o!==","}for(;r<e.length;){for(n=r,a=!1;c();)if(o=e.charAt(r),o===","){for(s=r,r+=1,c(),i=r;r<e.length&&l();)r+=1;r<e.length&&e.charAt(r)==="="?(a=!0,r=i,t.push(e.substring(n,s)),n=r):r=s+1}else r+=1;(!a||r>=e.length)&&t.push(e.substring(n,e.length))}return t}var u_=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t){let r=lc(t);for(let[n,o]of r)this._parsed.set(n,{name:n,value:o})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t=typeof e[0]=="string"?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([o,s])=>s);let n=typeof e[0]=="string"?e[0]:(t=e[0])==null?void 0:t.name;return r.filter(([o])=>o===n).map(([o,s])=>s)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=e.length===1?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([o,s])=>ko(s)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(n=>t.delete(n)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([n,o])=>ko(o)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},l_=class{constructor(e){this._parsed=new Map;var t,r,n;this._headers=e;let o=(n=(r=(t=e.getSetCookie)==null?void 0:t.call(e))!=null?r:e.get("set-cookie"))!=null?n:[],s=Array.isArray(o)?o:c_(o);for(let i of s){let a=uh(i);a&&this._parsed.set(a.name,a)}}get(...e){let t=typeof e[0]=="string"?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n=typeof e[0]=="string"?e[0]:(t=e[0])==null?void 0:t.name;return r.filter(o=>o.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=e.length===1?[e[0].name,e[0].value,e[0]]:e,o=this._parsed;return o.set(t,f_({name:t,value:r,...n})),d_(o,this._headers),this}delete(...e){let[t,r]=typeof e[0]=="string"?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(ko).join("; ")}};function d_(e,t){t.delete("set-cookie");for(let[,r]of e){let n=ko(r);t.append("set-cookie",n)}}function f_(e={name:"",value:""}){return typeof e.expires=="number"&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+e.maxAge*1e3)),(e.path===null||e.path===void 0)&&(e.path="/"),e}});var yn=q(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});function h_(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}h_(fc,{RequestCookies:function(){return dc.RequestCookies},ResponseCookies:function(){return dc.ResponseCookies},stringifyCookie:function(){return dc.stringifyCookie}});var dc=dh()});var ph=q(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});function p_(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}p_(pc,{INTERNALS:function(){return Io},NextRequest:function(){return hc}});var m_=tc(),fh=oc(),hh=ah(),y_=yn(),Io=Symbol("internal request"),hc=class extends Request{constructor(t,r={}){let n=typeof t!="string"&&"url"in t?t.url:String(t);(0,fh.validateURL)(n),t instanceof Request?super(t,r):super(n,r);let o=new m_.NextURL(n,{headers:(0,fh.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:r.nextConfig});this[Io]={cookies:new y_.RequestCookies(this.headers),nextUrl:o,url:process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE?n:o.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[Io].cookies}get nextUrl(){return this[Io].nextUrl}get page(){throw new hh.RemovedPageError}get ua(){throw new hh.RemovedUAError}get url(){return this[Io].url}}});var Qs=q(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});Object.defineProperty(yc,"ReflectAdapter",{enumerable:!0,get:function(){return mc}});var mc=class{static get(t,r,n){let o=Reflect.get(t,r,n);return typeof o=="function"?o.bind(t):o}static set(t,r,n,o){return Reflect.set(t,r,n,o)}static has(t,r){return Reflect.has(t,r)}static deleteProperty(t,r){return Reflect.deleteProperty(t,r)}}});var gh=q(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});Object.defineProperty(_c,"NextResponse",{enumerable:!0,get:function(){return bc}});var g_=yn(),w_=tc(),gc=oc(),b_=Qs(),mh=yn(),yh=Symbol("internal response"),__=new Set([301,302,303,307,308]);function wc(e,t){var r;if(!(e==null||(r=e.request)==null)&&r.headers){if(!(e.request.headers instanceof Headers))throw new Error("request.headers must be an instance of Headers");let n=[];for(let[o,s]of e.request.headers)t.set("x-middleware-request-"+o,s),n.push(o);t.set("x-middleware-override-headers",n.join(","))}}var bc=class e extends Response{constructor(t,r={}){super(t,r);let n=this.headers,o=new mh.ResponseCookies(n),s=new Proxy(o,{get(i,a,c){switch(a){case"delete":case"set":return(...l)=>{let u=Reflect.apply(i[a],i,l),f=new Headers(n);return u instanceof mh.ResponseCookies&&n.set("x-middleware-set-cookie",u.getAll().map(p=>(0,g_.stringifyCookie)(p)).join(",")),wc(r,f),u};default:return b_.ReflectAdapter.get(i,a,c)}}});this[yh]={cookies:s,url:r.url?new w_.NextURL(r.url,{headers:(0,gc.toNodeOutgoingHttpHeaders)(n),nextConfig:r.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[yh].cookies}static json(t,r){let n=Response.json(t,r);return new e(n.body,n)}static redirect(t,r){let n=typeof r=="number"?r:r?.status??307;if(!__.has(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');let o=typeof r=="object"?r:{},s=new Headers(o?.headers);return s.set("Location",(0,gc.validateURL)(t)),new e(null,{...o,headers:s,status:n})}static rewrite(t,r){let n=new Headers(r?.headers);return n.set("x-middleware-rewrite",(0,gc.validateURL)(t)),wc(r,n),new e(null,{...r,headers:n})}static next(t){let r=new Headers(t?.headers);return r.set("x-middleware-next","1"),wc(t,r),new e(null,{...t,headers:r})}}});var wh=q(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});Object.defineProperty(vc,"ImageResponse",{enumerable:!0,get:function(){return v_}});function v_(){throw new Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}});var _h=q((lP,bh)=>{(()=>{var e={226:function(o,s){(function(i,a){"use strict";var c="1.0.35",l="",u="?",f="function",p="undefined",w="object",m="string",h="major",y="model",v="name",_="type",E="vendor",R="version",k="architecture",A="console",x="mobile",P="tablet",T="smarttv",N="wearable",I="embedded",$=350,H="Amazon",U="Apple",M="ASUS",B="BlackBerry",K="Browser",Z="Chrome",ae="Edge",be="Firefox",ce="Google",ye="Huawei",$e="LG",et="Microsoft",it="Motorola",tt="Opera",ht="Samsung",Wt="Sharp",Ft="Sony",Yo="Viera",Kr="Xiaomi",Pr="Zebra",Dt="Facebook",Kt="Chromium OS",Qo="Mac OS",Xo=function(C,O){var D={};for(var L in C)O[L]&&O[L].length%2===0?D[L]=O[L].concat(C[L]):D[L]=C[L];return D},Jt=function(C){for(var O={},D=0;D<C.length;D++)O[C[D].toUpperCase()]=C[D];return O},Ln=function(C,O){return typeof C===m?ur(O).indexOf(ur(C))!==-1:!1},ur=function(C){return C.toLowerCase()},Mn=function(C){return typeof C===m?C.replace(/[^\d\.]/g,l).split(".")[0]:a},Gt=function(C,O){if(typeof C===m)return C=C.replace(/^\s\s*/,l),typeof O===p?C:C.substring(0,$)},He=function(C,O){for(var D=0,L,pe,ve,V,F,we;D<O.length&&!F;){var Di=O[D],wl=O[D+1];for(L=pe=0;L<Di.length&&!F&&Di[L];)if(F=Di[L++].exec(C),F)for(ve=0;ve<wl.length;ve++)we=F[++pe],V=wl[ve],typeof V===w&&V.length>0?V.length===2?typeof V[1]==f?this[V[0]]=V[1].call(this,we):this[V[0]]=V[1]:V.length===3?typeof V[1]===f&&!(V[1].exec&&V[1].test)?this[V[0]]=we?V[1].call(this,we,V[2]):a:this[V[0]]=we?we.replace(V[1],V[2]):a:V.length===4&&(this[V[0]]=we?V[3].call(this,we.replace(V[1],V[2])):a):this[V]=we||a;D+=2}},lr=function(C,O){for(var D in O)if(typeof O[D]===w&&O[D].length>0){for(var L=0;L<O[D].length;L++)if(Ln(O[D][L],C))return D===u?a:D}else if(Ln(O[D],C))return D===u?a:D;return C},Ni={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},at={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},jn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,R],[/opios[\/ ]+([\w\.]+)/i],[R,[v,tt+" Mini"]],[/\bopr\/([\w\.]+)/i],[R,[v,tt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[v,R],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[v,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[R,[v,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[R,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[v,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[R,[v,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+K],R],[/\bfocus\/([\w\.]+)/i],[R,[v,be+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[v,tt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[v,tt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[v,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[R,[v,be]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360 "+K]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1 "+K],R],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[v,R],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,Dt],R],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[v,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[v,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[R,[v,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[v,Z+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,Z+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[v,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,R],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[R,[v,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[R,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[R,lr,Ni]],[/(webkit|khtml)\/([\w\.]+)/i],[v,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[v,be+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[v,R],[/(cobalt)\/([\w\.]+)/i],[v,[R,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[k,"amd64"]],[/(ia32(?=;))/i],[[k,ur]],[/((?:i[346]|x)86)[;\)]/i],[[k,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[k,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[k,"armhf"]],[/windows (ce|mobile); ppc;/i],[[k,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[k,/ower/,l,ur]],[/(sun4\w)[;\)]/i],[[k,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[k,ur]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[E,ht],[_,P]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[y,[E,ht],[_,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[y,[E,U],[_,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[E,U],[_,P]],[/(macintosh);/i],[y,[E,U]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[E,Wt],[_,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[y,[E,ye],[_,P]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[E,ye],[_,x]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[y,/_/g," "],[E,Kr],[_,x]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[y,/_/g," "],[E,Kr],[_,P]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[E,"OPPO"],[_,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[E,"Vivo"],[_,x]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[y,[E,"Realme"],[_,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[E,it],[_,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[E,it],[_,P]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[E,$e],[_,P]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[E,$e],[_,x]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[y,[E,"Lenovo"],[_,P]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[y,/_/g," "],[E,"Nokia"],[_,x]],[/(pixel c)\b/i],[y,[E,ce],[_,P]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[E,ce],[_,x]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[E,Ft],[_,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[E,Ft],[_,P]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[E,"OnePlus"],[_,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[E,H],[_,P]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[E,H],[_,x]],[/(playbook);[-\w\),; ]+(rim)/i],[y,E,[_,P]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[E,B],[_,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[E,M],[_,P]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[E,M],[_,x]],[/(nexus 9)/i],[y,[E,"HTC"],[_,P]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[y,/_/g," "],[_,x]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[E,"Acer"],[_,P]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[E,"Meizu"],[_,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,y,[_,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,y,[_,P]],[/(surface duo)/i],[y,[E,et],[_,P]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[E,"Fairphone"],[_,x]],[/(u304aa)/i],[y,[E,"AT&T"],[_,x]],[/\bsie-(\w*)/i],[y,[E,"Siemens"],[_,x]],[/\b(rct\w+) b/i],[y,[E,"RCA"],[_,P]],[/\b(venue[\d ]{2,7}) b/i],[y,[E,"Dell"],[_,P]],[/\b(q(?:mv|ta)\w+) b/i],[y,[E,"Verizon"],[_,P]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[y,[E,"Barnes & Noble"],[_,P]],[/\b(tm\d{3}\w+) b/i],[y,[E,"NuVision"],[_,P]],[/\b(k88) b/i],[y,[E,"ZTE"],[_,P]],[/\b(nx\d{3}j) b/i],[y,[E,"ZTE"],[_,x]],[/\b(gen\d{3}) b.+49h/i],[y,[E,"Swiss"],[_,x]],[/\b(zur\d{3}) b/i],[y,[E,"Swiss"],[_,P]],[/\b((zeki)?tb.*\b) b/i],[y,[E,"Zeki"],[_,P]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],y,[_,P]],[/\b(ns-?\w{0,9}) b/i],[y,[E,"Insignia"],[_,P]],[/\b((nxa|next)-?\w{0,9}) b/i],[y,[E,"NextBook"],[_,P]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],y,[_,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],y,[_,x]],[/\b(ph-1) /i],[y,[E,"Essential"],[_,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[y,[E,"Envizen"],[_,P]],[/\b(trio[-\w\. ]+) b/i],[y,[E,"MachSpeed"],[_,P]],[/\btu_(1491) b/i],[y,[E,"Rotor"],[_,P]],[/(shield[\w ]+) b/i],[y,[E,"Nvidia"],[_,P]],[/(sprint) (\w+)/i],[E,y,[_,x]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[E,et],[_,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[E,Pr],[_,P]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[E,Pr],[_,x]],[/smart-tv.+(samsung)/i],[E,[_,T]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[E,ht],[_,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,$e],[_,T]],[/(apple) ?tv/i],[E,[y,U+" TV"],[_,T]],[/crkey/i],[[y,Z+"cast"],[E,ce],[_,T]],[/droid.+aft(\w)( bui|\))/i],[y,[E,H],[_,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[E,Wt],[_,T]],[/(bravia[\w ]+)( bui|\))/i],[y,[E,Ft],[_,T]],[/(mitv-\w{5}) bui/i],[y,[E,Kr],[_,T]],[/Hbbtv.*(technisat) (.*);/i],[E,y,[_,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,Gt],[y,Gt],[_,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,y,[_,A]],[/droid.+; (shield) bui/i],[y,[E,"Nvidia"],[_,A]],[/(playstation [345portablevi]+)/i],[y,[E,Ft],[_,A]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[E,et],[_,A]],[/((pebble))app/i],[E,y,[_,N]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[y,[E,U],[_,N]],[/droid.+; (glass) \d/i],[y,[E,ce],[_,N]],[/droid.+; (wt63?0{2,3})\)/i],[y,[E,Pr],[_,N]],[/(quest( 2| pro)?)/i],[y,[E,Dt],[_,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[_,I]],[/(aeobc)\b/i],[y,[E,H],[_,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[y,[_,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[y,[_,P]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,P]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[_,x]],[/(android[-\w\. ]{0,9});.+buil/i],[y,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[v,ae+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[v,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,R],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[v,[R,lr,at]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,"Windows"],[R,lr,at]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,Qo],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[R,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,R],[/\(bb(10);/i],[R,[v,B]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[v,be+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[v,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[R,[v,"watchOS"]],[/crkey\/([\d\.]+)/i],[R,[v,Z+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[v,Kt],R],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,R],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[v,R]]},d=function(C,O){if(typeof C===w&&(O=C,C=a),!(this instanceof d))return new d(C,O).getResult();var D=typeof i!==p&&i.navigator?i.navigator:a,L=C||(D&&D.userAgent?D.userAgent:l),pe=D&&D.userAgentData?D.userAgentData:a,ve=O?Xo(jn,O):jn,V=D&&D.userAgent==L;return this.getBrowser=function(){var F={};return F[v]=a,F[R]=a,He.call(F,L,ve.browser),F[h]=Mn(F[R]),V&&D&&D.brave&&typeof D.brave.isBrave==f&&(F[v]="Brave"),F},this.getCPU=function(){var F={};return F[k]=a,He.call(F,L,ve.cpu),F},this.getDevice=function(){var F={};return F[E]=a,F[y]=a,F[_]=a,He.call(F,L,ve.device),V&&!F[_]&&pe&&pe.mobile&&(F[_]=x),V&&F[y]=="Macintosh"&&D&&typeof D.standalone!==p&&D.maxTouchPoints&&D.maxTouchPoints>2&&(F[y]="iPad",F[_]=P),F},this.getEngine=function(){var F={};return F[v]=a,F[R]=a,He.call(F,L,ve.engine),F},this.getOS=function(){var F={};return F[v]=a,F[R]=a,He.call(F,L,ve.os),V&&!F[v]&&pe&&pe.platform!="Unknown"&&(F[v]=pe.platform.replace(/chrome os/i,Kt).replace(/macos/i,Qo)),F},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return L},this.setUA=function(F){return L=typeof F===m&&F.length>$?Gt(F,$):F,this},this.setUA(L),this};d.VERSION=c,d.BROWSER=Jt([v,R,h]),d.CPU=Jt([k]),d.DEVICE=Jt([y,E,_,A,x,T,P,N,I]),d.ENGINE=d.OS=Jt([v,R]),typeof s!==p?(p!=="object"&&o.exports&&(s=o.exports=d),s.UAParser=d):typeof define===f&&define.amd?define(function(){return d}):typeof i!==p&&(i.UAParser=d);var g=typeof i!==p&&(i.jQuery||i.Zepto);if(g&&!g.ua){var b=new d;g.ua=b.getResult(),g.ua.get=function(){return b.getUA()},g.ua.set=function(C){b.setUA(C);var O=b.getResult();for(var D in O)g.ua[D]=O[D]}}})(typeof window=="object"?window:this)}},t={};function r(o){var s=t[o];if(s!==void 0)return s.exports;var i=t[o]={exports:{}},a=!0;try{e[o].call(i.exports,i,i.exports,r),a=!1}finally{a&&delete t[o]}return i.exports}typeof r<"u"&&(r.ab=__dirname+"/");var n=r(226);bh.exports=n})()});var Sc=q(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});function E_(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}E_(Ec,{isBot:function(){return vh},userAgent:function(){return R_},userAgentFromString:function(){return Eh}});var S_=A_(_h());function A_(e){return e&&e.__esModule?e:{default:e}}function vh(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function Eh(e){return{...(0,S_.default)(e),isBot:e===void 0?!1:vh(e)}}function R_({headers:e}){return Eh(e.get("user-agent")||void 0)}});var Sh=q(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Object.defineProperty(Ac,"URLPattern",{enumerable:!0,get:function(){return x_}});var x_=typeof URLPattern>"u"?void 0:URLPattern});var Oo=q(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});function T_(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}T_(Rc,{bindSnapshot:function(){return C_},createAsyncLocalStorage:function(){return P_},createSnapshot:function(){return k_}});var Xs=new Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),Zs=class{disable(){throw Xs}getStore(){}run(){throw Xs}exit(){throw Xs}enterWith(){throw Xs}static bind(t){return t}},gn=typeof globalThis<"u"&&globalThis.AsyncLocalStorage;function P_(){return gn?new gn:new Zs}function C_(e){return gn?gn.bind(e):Zs.bind(e)}function k_(){return gn?gn.snapshot():function(e,...t){return e(...t)}}});var Ah=q(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});Object.defineProperty(xc,"workAsyncStorageInstance",{enumerable:!0,get:function(){return O_}});var I_=Oo(),O_=(0,I_.createAsyncLocalStorage)()});var rr=q(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Object.defineProperty(Tc,"workAsyncStorage",{enumerable:!0,get:function(){return N_.workAsyncStorageInstance}});var N_=Ah()});var Rh=q(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Object.defineProperty(Pc,"after",{enumerable:!0,get:function(){return U_}});var D_=rr();function U_(e){let t=D_.workAsyncStorage.getStore();if(!t)throw new Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context");let{afterContext:r}=t;return r.after(e)}});var xh=q(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});L_(Rh(),Cc);function L_(e,t){return Object.keys(e).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),e}});var Th=q(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});Object.defineProperty(kc,"workUnitAsyncStorageInstance",{enumerable:!0,get:function(){return j_}});var M_=Oo(),j_=(0,M_.createAsyncLocalStorage)()});var jr=q(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});function B_(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}B_(Ic,{getExpectedRequestStore:function(){return $_},getPrerenderResumeDataCache:function(){return H_},getRenderResumeDataCache:function(){return q_},workUnitAsyncStorage:function(){return Ph.workUnitAsyncStorageInstance}});var Ph=Th();function $_(e){let t=Ph.workUnitAsyncStorageInstance.getStore();if(t){if(t.type==="request")return t;if(t.type==="prerender"||t.type==="prerender-ppr"||t.type==="prerender-legacy")throw new Error(`\`${e}\` cannot be called inside a prerender. This is a bug in Next.js.`);if(t.type==="cache")throw new Error(`\`${e}\` cannot be called inside "use cache". Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/messages/next-request-in-use-cache`);if(t.type==="unstable-cache")throw new Error(`\`${e}\` cannot be called inside unstable_cache. Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}throw new Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`)}function H_(e){return e.type==="prerender"||e.type==="prerender-ppr"?e.prerenderResumeDataCache:null}function q_(e){return e.type!=="prerender-legacy"&&e.type!=="cache"&&e.type!=="unstable-cache"?e.type==="request"?e.renderResumeDataCache:e.prerenderResumeDataCache:null}});var $h=q(ue=>{"use strict";var Nc=Symbol.for("react.transitional.element"),W_=Symbol.for("react.portal"),F_=Symbol.for("react.fragment"),K_=Symbol.for("react.strict_mode"),J_=Symbol.for("react.profiler"),G_=Symbol.for("react.consumer"),z_=Symbol.for("react.context"),V_=Symbol.for("react.forward_ref"),Y_=Symbol.for("react.suspense"),Q_=Symbol.for("react.memo"),Dh=Symbol.for("react.lazy"),Ch=Symbol.iterator;function X_(e){return e===null||typeof e!="object"?null:(e=Ch&&e[Ch]||e["@@iterator"],typeof e=="function"?e:null)}var Uh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lh=Object.assign,Mh={};function bn(e,t,r){this.props=e,this.context=t,this.refs=Mh,this.updater=r||Uh}bn.prototype.isReactComponent={};bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jh(){}jh.prototype=bn.prototype;function Dc(e,t,r){this.props=e,this.context=t,this.refs=Mh,this.updater=r||Uh}var Uc=Dc.prototype=new jh;Uc.constructor=Dc;Lh(Uc,bn.prototype);Uc.isPureReactComponent=!0;var kh=Array.isArray,xe={H:null,A:null,T:null,S:null},Bh=Object.prototype.hasOwnProperty;function Lc(e,t,r,n,o,s){return r=s.ref,{$$typeof:Nc,type:e,key:t,ref:r!==void 0?r:null,props:s}}function Z_(e,t){return Lc(e.type,t,void 0,void 0,void 0,e.props)}function Mc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nc}function e2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ih=/\/+/g;function Oc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?e2(""+e.key):t.toString(36)}function Oh(){}function t2(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Oh,Oh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function wn(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Nc:case W_:i=!0;break;case Dh:return i=e._init,wn(i(e._payload),t,r,n,o)}}if(i)return o=o(e),i=n===""?"."+Oc(e,0):n,kh(o)?(r="",i!=null&&(r=i.replace(Ih,"$&/")+"/"),wn(o,t,r,"",function(l){return l})):o!=null&&(Mc(o)&&(o=Z_(o,r+(o.key==null||e&&e.key===o.key?"":(""+o.key).replace(Ih,"$&/")+"/")+i)),t.push(o)),1;i=0;var a=n===""?".":n+":";if(kh(e))for(var c=0;c<e.length;c++)n=e[c],s=a+Oc(n,c),i+=wn(n,t,r,s,o);else if(c=X_(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,s=a+Oc(n,c++),i+=wn(n,t,r,s,o);else if(s==="object"){if(typeof e.then=="function")return wn(t2(e),t,r,n,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function ei(e,t,r){if(e==null)return e;var n=[],o=0;return wn(e,n,"","",function(s){return t.call(r,s,o++)}),n}function r2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function n2(){}ue.Children={map:ei,forEach:function(e,t,r){ei(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ei(e,function(){t++}),t},toArray:function(e){return ei(e,function(t){return t})||[]},only:function(e){if(!Mc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=bn;ue.Fragment=F_;ue.Profiler=J_;ue.PureComponent=Dc;ue.StrictMode=K_;ue.Suspense=Y_;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;ue.act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.cache=function(e){return function(){return e.apply(null,arguments)}};ue.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Lh({},e.props),o=e.key,s=void 0;if(t!=null)for(i in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(o=""+t.key),t)!Bh.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+2];n.children=a}return Lc(e.type,o,void 0,void 0,s,n)};ue.createContext=function(e){return e={$$typeof:z_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:G_,_context:e},e};ue.createElement=function(e,t,r){var n,o={},s=null;if(t!=null)for(n in t.key!==void 0&&(s=""+t.key),t)Bh.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(o[n]=t[n]);var i=arguments.length-2;if(i===1)o.children=r;else if(1<i){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+2];o.children=a}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)o[n]===void 0&&(o[n]=i[n]);return Lc(e,s,void 0,void 0,null,o)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:V_,render:e}};ue.isValidElement=Mc;ue.lazy=function(e){return{$$typeof:Dh,_payload:{_status:-1,_result:e},_init:r2}};ue.memo=function(e,t){return{$$typeof:Q_,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=xe.T,r={};xe.T=r;try{var n=e(),o=xe.S;o!==null&&o(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(n2,Nh)}catch(s){Nh(s)}finally{xe.T=t}};ue.unstable_useCacheRefresh=function(){return xe.H.useCacheRefresh()};ue.use=function(e){return xe.H.use(e)};ue.useActionState=function(e,t,r){return xe.H.useActionState(e,t,r)};ue.useCallback=function(e,t){return xe.H.useCallback(e,t)};ue.useContext=function(e){return xe.H.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e,t){return xe.H.useDeferredValue(e,t)};ue.useEffect=function(e,t){return xe.H.useEffect(e,t)};ue.useId=function(){return xe.H.useId()};ue.useImperativeHandle=function(e,t,r){return xe.H.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return xe.H.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return xe.H.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return xe.H.useMemo(e,t)};ue.useOptimistic=function(e,t){return xe.H.useOptimistic(e,t)};ue.useReducer=function(e,t,r){return xe.H.useReducer(e,t,r)};ue.useRef=function(e){return xe.H.useRef(e)};ue.useState=function(e){return xe.H.useState(e)};ue.useSyncExternalStore=function(e,t,r){return xe.H.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return xe.H.useTransition()};ue.version="19.0.0"});var Br=q((vP,Hh)=>{"use strict";Hh.exports=$h()});var ti=q((yt,Wh)=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});function o2(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}o2(yt,{DynamicServerError:function(){return jc},isDynamicServerError:function(){return s2}});var qh="DYNAMIC_SERVER_USAGE",jc=class extends Error{constructor(t){super("Dynamic server usage: "+t),this.description=t,this.digest=qh}};function s2(e){return typeof e!="object"||e===null||!("digest"in e)||typeof e.digest!="string"?!1:e.digest===qh}(typeof yt.default=="function"||typeof yt.default=="object"&&yt.default!==null)&&typeof yt.default.__esModule>"u"&&(Object.defineProperty(yt.default,"__esModule",{value:!0}),Object.assign(yt.default,yt),Wh.exports=yt.default)});var $r=q((gt,Kh)=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});function i2(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}i2(gt,{StaticGenBailoutError:function(){return Bc},isStaticGenBailoutError:function(){return a2}});var Fh="NEXT_STATIC_GEN_BAILOUT",Bc=class extends Error{constructor(...t){super(...t),this.code=Fh}};function a2(e){return typeof e!="object"||e===null||!("code"in e)?!1:e.code===Fh}(typeof gt.default=="function"||typeof gt.default=="object"&&gt.default!==null)&&typeof gt.default.__esModule>"u"&&(Object.defineProperty(gt.default,"__esModule",{value:!0}),Object.assign(gt.default,gt),Kh.exports=gt.default)});var No=q($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});Object.defineProperty($c,"makeHangingPromise",{enumerable:!0,get:function(){return c2}});function c2(e,t){let r=new Promise((n,o)=>{e.addEventListener("abort",()=>{o(new Error(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`))},{once:!0})});return r.catch(u2),r}function u2(){}});var Jh=q(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});function l2(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}l2(Hc,{METADATA_BOUNDARY_NAME:function(){return d2},OUTLET_BOUNDARY_NAME:function(){return h2},VIEWPORT_BOUNDARY_NAME:function(){return f2}});var d2="__next_metadata_boundary__",f2="__next_viewport_boundary__",h2="__next_outlet_boundary__"});var qr=q(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});function p2(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}p2(Fc,{Postpone:function(){return P2},abortAndThrowOnSynchronousRequestDataAccess:function(){return x2},abortOnSynchronousPlatformIOAccess:function(){return R2},accessedDynamicData:function(){return I2},annotateDynamicAccess:function(){return U2},consumeDynamicAccess:function(){return O2},createDynamicTrackingState:function(){return b2},createDynamicValidationState:function(){return _2},createPostponedAbortSignal:function(){return D2},formatDynamicAPIAccesses:function(){return N2},getFirstDynamicReason:function(){return v2},isDynamicPostpone:function(){return C2},isPrerenderInterruptedError:function(){return k2},markCurrentScopeAsDynamic:function(){return E2},postponeWithTracking:function(){return Do},throwIfDisallowedDynamic:function(){return W2},throwToInterruptStaticGeneration:function(){return zh},trackAllowedDynamicAccess:function(){return H2},trackDynamicDataInDynamicRender:function(){return A2},trackFallbackParamAccessed:function(){return S2},trackSynchronousPlatformIOAccessInDev:function(){return Yh},trackSynchronousRequestDataAccessInDev:function(){return T2},useDynamicRouteParams:function(){return L2}});var ri=g2(Br()),Gh=ti(),Hr=$r(),qc=jr(),m2=rr(),y2=No(),Wc=Jh();function g2(e){return e&&e.__esModule?e:{default:e}}var w2=typeof ri.default.unstable_postpone=="function";function b2(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function _2(){return{hasSuspendedDynamic:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasSyncDynamicErrors:!1,dynamicErrors:[]}}function v2(e){var t;return(t=e.dynamicAccesses[0])==null?void 0:t.expression}function E2(e,t,r){if(!(t&&(t.type==="cache"||t.type==="unstable-cache"))&&!(e.forceDynamic||e.forceStatic)){if(e.dynamicShouldError)throw new Hr.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if(t.type==="prerender-ppr")Do(e.route,r,t.dynamicTracking);else if(t.type==="prerender-legacy"){t.revalidate=0;let n=new Gh.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}}function S2(e,t){let r=qc.workUnitAsyncStorage.getStore();!r||r.type!=="prerender-ppr"||Do(e.route,t,r.dynamicTracking)}function zh(e,t,r){let n=new Gh.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function A2(e,t){if(t){if(t.type==="cache"||t.type==="unstable-cache")return;(t.type==="prerender"||t.type==="prerender-legacy")&&(t.revalidate=0)}}function Vh(e,t,r){let n=`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`,o=ep(n);r.controller.abort(o);let s=r.dynamicTracking;s&&s.dynamicAccesses.push({stack:s.isDebugDynamicAccesses?new Error().stack:void 0,expression:t})}function R2(e,t,r,n){let o=n.dynamicTracking;return o&&o.syncDynamicErrorWithStack===null&&(o.syncDynamicExpression=t,o.syncDynamicErrorWithStack=r),Vh(e,t,n)}function Yh(e){e.prerenderPhase=!1}function x2(e,t,r,n){let o=n.dynamicTracking;throw o&&o.syncDynamicErrorWithStack===null&&(o.syncDynamicExpression=t,o.syncDynamicErrorWithStack=r,n.validating===!0&&(o.syncDynamicLogged=!0)),Vh(e,t,n),ep(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}var T2=Yh;function P2({reason:e,route:t}){let r=qc.workUnitAsyncStorage.getStore(),n=r&&r.type==="prerender-ppr"?r.dynamicTracking:null;Do(t,e,n)}function Do(e,t,r){tp(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?new Error().stack:void 0,expression:t}),ri.default.unstable_postpone(Qh(e,t))}function Qh(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function C2(e){return typeof e=="object"&&e!==null&&typeof e.message=="string"?Xh(e.message):!1}function Xh(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(Xh(Qh("%%%","^^^"))===!1)throw new Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js");var Zh="NEXT_PRERENDER_INTERRUPTED";function ep(e){let t=new Error(e);return t.digest=Zh,t}function k2(e){return typeof e=="object"&&e!==null&&e.digest===Zh&&"name"in e&&"message"in e&&e instanceof Error}function I2(e){return e.length>0}function O2(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function N2(e){return e.filter(t=>typeof t.stack=="string"&&t.stack.length>0).map(({expression:t,stack:r})=>(r=r.split(`
`).slice(4).filter(n=>!(n.includes("node_modules/next/")||n.includes(" (<anonymous>)")||n.includes(" (node:"))).join(`
`),`Dynamic API Usage Debug - ${t}:
${r}`))}function tp(){if(!w2)throw new Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function D2(e){tp();let t=new AbortController;try{ri.default.unstable_postpone(e)}catch(r){t.abort(r)}return t.signal}function U2(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?new Error().stack:void 0,expression:e})}function L2(e){if(typeof window>"u"){let t=m2.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){let r=qc.workUnitAsyncStorage.getStore();r&&(r.type==="prerender"?ri.default.use((0,y2.makeHangingPromise)(r.renderSignal,e)):r.type==="prerender-ppr"?Do(t.route,e,r.dynamicTracking):r.type==="prerender-legacy"&&zh(e,t,r))}}}var M2=/\n\s+at Suspense \(<anonymous>\)/,j2=new RegExp(`\\n\\s+at ${Wc.METADATA_BOUNDARY_NAME}[\\n\\s]`),B2=new RegExp(`\\n\\s+at ${Wc.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),$2=new RegExp(`\\n\\s+at ${Wc.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function H2(e,t,r,n,o){if(!$2.test(t))if(j2.test(t)){r.hasDynamicMetadata=!0;return}else if(B2.test(t)){r.hasDynamicViewport=!0;return}else if(M2.test(t)){r.hasSuspendedDynamic=!0;return}else if(n.syncDynamicErrorWithStack||o.syncDynamicErrorWithStack){r.hasSyncDynamicErrors=!0;return}else{let s=`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,i=q2(s,t);r.dynamicErrors.push(i);return}}function q2(e,t){let r=new Error(e);return r.stack="Error: "+e+t,r}function W2(e,t,r,n){let o,s,i;if(r.syncDynamicErrorWithStack?(o=r.syncDynamicErrorWithStack,s=r.syncDynamicExpression,i=r.syncDynamicLogged===!0):n.syncDynamicErrorWithStack?(o=n.syncDynamicErrorWithStack,s=n.syncDynamicExpression,i=n.syncDynamicLogged===!0):(o=null,s=void 0,i=!1),t.hasSyncDynamicErrors&&o)throw i||console.error(o),new Hr.StaticGenBailoutError;let a=t.dynamicErrors;if(a.length){for(let c=0;c<a.length;c++)console.error(a[c]);throw new Hr.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata)throw o?(console.error(o),new Hr.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`)):new Hr.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`);if(t.hasDynamicViewport)throw o?(console.error(o),new Hr.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`)):new Hr.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`)}}});var rp=q(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Object.defineProperty(Kc,"afterTaskAsyncStorageInstance",{enumerable:!0,get:function(){return K2}});var F2=Oo(),K2=(0,F2.createAsyncLocalStorage)()});var np=q(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Object.defineProperty(Jc,"afterTaskAsyncStorage",{enumerable:!0,get:function(){return J2.afterTaskAsyncStorageInstance}});var J2=rp()});var ni=q(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});function G2(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}G2(Gc,{describeHasCheckingStringProperty:function(){return Q2},describeStringPropertyAccess:function(){return Y2},isRequestAPICallableInsideAfter:function(){return ev},throwWithStaticGenerationBailoutError:function(){return X2},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return Z2},wellKnownProperties:function(){return tv}});var op=$r(),z2=np(),V2=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function Y2(e,t){return V2.test(t)?`\`${e}.${t}\``:`\`${e}[${JSON.stringify(t)}]\``}function Q2(e,t){let r=JSON.stringify(t);return`\`Reflect.has(${e}, ${r})\`, \`${r} in ${e}\`, or similar`}function X2(e,t){throw new op.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function Z2(e,t){throw new op.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function ev(){let e=z2.afterTaskAsyncStorage.getStore();return e?.rootTaskSpawnPhase==="action"}var tv=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])});var sp=q(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Object.defineProperty(Vc,"connection",{enumerable:!0,get:function(){return av}});var rv=rr(),nv=jr(),zc=qr(),ov=$r(),sv=No(),iv=ni();function av(){let e=rv.workAsyncStorage.getStore(),t=nv.workUnitAsyncStorage.getStore();if(e){if(t&&t.phase==="after"&&!(0,iv.isRequestAPICallableInsideAfter)())throw new Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic)return Promise.resolve(void 0);if(t){if(t.type==="cache")throw new Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if(t.type==="unstable-cache")throw new Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new ov.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if(t.type==="prerender")return(0,sv.makeHangingPromise)(t.renderSignal,"`connection()`");t.type==="prerender-ppr"?(0,zc.postponeWithTracking)(e.route,"connection",t.dynamicTracking):t.type==="prerender-legacy"&&(0,zc.throwToInterruptStaticGeneration)("connection",e,t)}(0,zc.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}});var Yc=q((or,ip)=>{var nr={NextRequest:ph().NextRequest,NextResponse:gh().NextResponse,ImageResponse:wh().ImageResponse,userAgentFromString:Sc().userAgentFromString,userAgent:Sc().userAgent,URLPattern:Sh().URLPattern,after:xh().after,connection:sp().connection};ip.exports=nr;or.NextRequest=nr.NextRequest;or.NextResponse=nr.NextResponse;or.ImageResponse=nr.ImageResponse;or.userAgentFromString=nr.userAgentFromString;or.userAgent=nr.userAgent;or.URLPattern=nr.URLPattern;or.after=nr.after;or.connection=nr.connection});var fp=q(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});function cv(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}cv(eu,{MutableRequestCookiesAdapter:function(){return Xc},ReadonlyRequestCookiesError:function(){return Lo},RequestCookiesAdapter:function(){return Qc},appendMutableCookies:function(){return dv},areCookiesMutableInCurrentPhase:function(){return dp},getModifiedCookieValues:function(){return lp},responseCookiesToRequestCookies:function(){return hv},wrapWithMutableAccessCheck:function(){return fv}});var oi=yn(),Zc=Qs(),uv=rr(),lv=jr(),Lo=class e extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new e}},Qc=class{static seal(t){return new Proxy(t,{get(r,n,o){switch(n){case"clear":case"delete":case"set":return Lo.callable;default:return Zc.ReflectAdapter.get(r,n,o)}}})}},up=Symbol.for("next.mutated.cookies");function lp(e){let t=e[up];return!t||!Array.isArray(t)||t.length===0?[]:t}function dv(e,t){let r=lp(t);if(r.length===0)return!1;let n=new oi.ResponseCookies(e),o=n.getAll();for(let s of r)n.set(s);for(let s of o)n.set(s);return!0}var Xc=class{static wrap(t,r){let n=new oi.ResponseCookies(new Headers);for(let c of t.getAll())n.set(c);let o=[],s=new Set,i=()=>{let c=uv.workAsyncStorage.getStore();if(c&&(c.pathWasRevalidated=!0),o=n.getAll().filter(u=>s.has(u.name)),r){let u=[];for(let f of o){let p=new oi.ResponseCookies(new Headers);p.set(f),u.push(p.toString())}r(u)}},a=new Proxy(n,{get(c,l,u){switch(l){case up:return o;case"delete":return function(...f){s.add(typeof f[0]=="string"?f[0]:f[0].name);try{return c.delete(...f),a}finally{i()}};case"set":return function(...f){s.add(typeof f[0]=="string"?f[0]:f[0].name);try{return c.set(...f),a}finally{i()}};default:return Zc.ReflectAdapter.get(c,l,u)}}});return a}};function fv(e){let t=new Proxy(e,{get(r,n,o){switch(n){case"delete":return function(...s){return cp("cookies().delete"),r.delete(...s),t};case"set":return function(...s){return cp("cookies().set"),r.set(...s),t};default:return Zc.ReflectAdapter.get(r,n,o)}}});return t}function dp(e){return e.phase==="action"}function cp(e){let t=(0,lv.getExpectedRequestStore)(e);if(!dp(t))throw new Lo}function hv(e){let t=new oi.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}});var si=q(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});Object.defineProperty(tu,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return yv}});var hp=pv(Br());function mp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(mp=function(n){return n?r:t})(e)}function pv(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=mp(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var pp={current:null},mv=typeof hp.cache=="function"?hp.cache:e=>e,yp=process.env.__NEXT_DYNAMIC_IO?console.error:console.warn,OP=mv(e=>{try{yp(pp.current)}finally{pp.current=null}});function yv(e){return function(...r){let n=e(...r);if(0)var o;else yp(n)}}});var nu=q(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});function gv(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}gv(ru,{atLeastOneTask:function(){return bv},scheduleImmediate:function(){return gp},scheduleOnNextTick:function(){return wv},waitAtLeastOneReactRenderTask:function(){return _v}});var wv=e=>{Promise.resolve().then(()=>{process.env.NEXT_RUNTIME==="edge"?setTimeout(e,0):process.nextTick(e)})},gp=e=>{process.env.NEXT_RUNTIME==="edge"?setTimeout(e,0):setImmediate(e)};function bv(){return new Promise(e=>gp(e))}function _v(){return process.env.NEXT_RUNTIME==="edge"?new Promise(e=>setTimeout(e,0)):new Promise(e=>setImmediate(e))}});var vp=q(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});Object.defineProperty(ou,"cookies",{enumerable:!0,get:function(){return Tv}});var _p=fp(),vv=yn(),Ev=rr(),wp=jr(),ut=qr(),Sv=$r(),Av=No(),Rv=si(),UP=nu(),xv=ni();function Tv(){let e="cookies",t=Ev.workAsyncStorage.getStore(),r=wp.workUnitAsyncStorage.getStore();if(t){if(r&&r.phase==="after"&&!(0,xv.isRequestAPICallableInsideAfter)())throw new Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(t.forceStatic){let s=Pv();return bp(s)}if(r){if(r.type==="cache")throw new Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if(r.type==="unstable-cache")throw new Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(t.dynamicShouldError)throw new Sv.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(r){if(r.type==="prerender")return Cv(t.route,r);r.type==="prerender-ppr"?(0,ut.postponeWithTracking)(t.route,e,r.dynamicTracking):r.type==="prerender-legacy"&&(0,ut.throwToInterruptStaticGeneration)(e,t,r)}(0,ut.trackDynamicDataInDynamicRender)(t,r)}let n=(0,wp.getExpectedRequestStore)(e),o;return(0,_p.areCookiesMutableInCurrentPhase)(n)?o=n.userspaceMutableCookies:o=n.cookies,bp(o)}function Pv(){return _p.RequestCookiesAdapter.seal(new vv.RequestCookies(new Headers({})))}var ii=new WeakMap;function Cv(e,t){let r=ii.get(t);if(r)return r;let n=(0,Av.makeHangingPromise)(t.renderSignal,"`cookies()`");return ii.set(t,n),Object.defineProperties(n,{[Symbol.iterator]:{value:function(){let o="`cookies()[Symbol.iterator]()`",s=$t(e,o);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,o,s,t)}},size:{get(){let o="`cookies().size`",s=$t(e,o);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,o,s,t)}},get:{value:function(){let s;arguments.length===0?s="`cookies().get()`":s=`\`cookies().get(${_n(arguments[0])})\``;let i=$t(e,s);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},getAll:{value:function(){let s;arguments.length===0?s="`cookies().getAll()`":s=`\`cookies().getAll(${_n(arguments[0])})\``;let i=$t(e,s);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},has:{value:function(){let s;arguments.length===0?s="`cookies().has()`":s=`\`cookies().has(${_n(arguments[0])})\``;let i=$t(e,s);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},set:{value:function(){let s;if(arguments.length===0)s="`cookies().set()`";else{let a=arguments[0];a?s=`\`cookies().set(${_n(a)}, ...)\``:s="`cookies().set(...)`"}let i=$t(e,s);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},delete:{value:function(){let o;arguments.length===0?o="`cookies().delete()`":arguments.length===1?o=`\`cookies().delete(${_n(arguments[0])})\``:o=`\`cookies().delete(${_n(arguments[0])}, ...)\``;let s=$t(e,o);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,o,s,t)}},clear:{value:function(){let s="`cookies().clear()`",i=$t(e,s);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},toString:{value:function(){let s="`cookies().toString()`",i=$t(e,s);(0,ut.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}}}),n}function bp(e){let t=ii.get(e);if(t)return t;let r=Promise.resolve(e);return ii.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):Iv.bind(e)},size:{get(){return e.size}},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:typeof e.clear=="function"?e.clear.bind(e):Ov.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function _n(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"?`'${e.name}'`:typeof e=="string"?`'${e}'`:"..."}var kv=()=>{},LP=process.env.__NEXT_DISABLE_SYNC_DYNAMIC_API_WARNINGS?kv:(0,Rv.createDedupedByCallsiteServerErrorLoggerDev)($t);function $t(e,t){let r=e?`Route "${e}" `:"This route ";return new Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}function Iv(){return this.getAll().map(e=>[e.name,e]).values()}function Ov(e){for(let t of this.getAll())this.delete(t.name);return e}});var Ep=q(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});function Nv(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Nv(iu,{HeadersAdapter:function(){return su},ReadonlyHeadersError:function(){return ai}});var sr=Qs(),ai=class e extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new e}},su=class e extends Headers{constructor(t){super(),this.headers=new Proxy(t,{get(r,n,o){if(typeof n=="symbol")return sr.ReflectAdapter.get(r,n,o);let s=n.toLowerCase(),i=Object.keys(t).find(a=>a.toLowerCase()===s);if(!(typeof i>"u"))return sr.ReflectAdapter.get(r,i,o)},set(r,n,o,s){if(typeof n=="symbol")return sr.ReflectAdapter.set(r,n,o,s);let i=n.toLowerCase(),a=Object.keys(t).find(c=>c.toLowerCase()===i);return sr.ReflectAdapter.set(r,a??n,o,s)},has(r,n){if(typeof n=="symbol")return sr.ReflectAdapter.has(r,n);let o=n.toLowerCase(),s=Object.keys(t).find(i=>i.toLowerCase()===o);return typeof s>"u"?!1:sr.ReflectAdapter.has(r,s)},deleteProperty(r,n){if(typeof n=="symbol")return sr.ReflectAdapter.deleteProperty(r,n);let o=n.toLowerCase(),s=Object.keys(t).find(i=>i.toLowerCase()===o);return typeof s>"u"?!0:sr.ReflectAdapter.deleteProperty(r,s)}})}static seal(t){return new Proxy(t,{get(r,n,o){switch(n){case"append":case"delete":case"set":return ai.callable;default:return sr.ReflectAdapter.get(r,n,o)}}})}merge(t){return Array.isArray(t)?t.join(", "):t}static from(t){return t instanceof Headers?t:new e(t)}append(t,r){let n=this.headers[t];typeof n=="string"?this.headers[t]=[n,r]:Array.isArray(n)?n.push(r):this.headers[t]=r}delete(t){delete this.headers[t]}get(t){let r=this.headers[t];return typeof r<"u"?this.merge(r):null}has(t){return typeof this.headers[t]<"u"}set(t,r){this.headers[t]=r}forEach(t,r){for(let[n,o]of this.entries())t.call(r,o,n,this)}*entries(){for(let t of Object.keys(this.headers)){let r=t.toLowerCase(),n=this.get(r);yield[r,n]}}*keys(){for(let t of Object.keys(this.headers))yield t.toLowerCase()}*values(){for(let t of Object.keys(this.headers))yield this.get(t)}[Symbol.iterator](){return this.entries()}}});var Rp=q(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});Object.defineProperty(au,"headers",{enumerable:!0,get:function(){return $v}});var Dv=Ep(),Uv=rr(),Sp=jr(),Qe=qr(),Lv=$r(),Mv=No(),jv=si(),BP=nu(),Bv=ni();function $v(){let e=Uv.workAsyncStorage.getStore(),t=Sp.workUnitAsyncStorage.getStore();if(e){if(t&&t.phase==="after"&&!(0,Bv.isRequestAPICallableInsideAfter)())throw new Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic){let n=Dv.HeadersAdapter.seal(new Headers({}));return Ap(n)}if(t){if(t.type==="cache")throw new Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if(t.type==="unstable-cache")throw new Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new Lv.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if(t.type==="prerender")return Hv(e.route,t);t.type==="prerender-ppr"?(0,Qe.postponeWithTracking)(e.route,"headers",t.dynamicTracking):t.type==="prerender-legacy"&&(0,Qe.throwToInterruptStaticGeneration)("headers",e,t)}(0,Qe.trackDynamicDataInDynamicRender)(e,t)}let r=(0,Sp.getExpectedRequestStore)("headers");return Ap(r.headers)}var ci=new WeakMap;function Hv(e,t){let r=ci.get(t);if(r)return r;let n=(0,Mv.makeHangingPromise)(t.renderSignal,"`headers()`");return ci.set(t,n),Object.defineProperties(n,{append:{value:function(){let s=`\`headers().append(${Mo(arguments[0])}, ...)\``,i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},delete:{value:function(){let s=`\`headers().delete(${Mo(arguments[0])})\``,i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},get:{value:function(){let s=`\`headers().get(${Mo(arguments[0])})\``,i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},has:{value:function(){let s=`\`headers().has(${Mo(arguments[0])})\``,i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},set:{value:function(){let s=`\`headers().set(${Mo(arguments[0])}, ...)\``,i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},getSetCookie:{value:function(){let s="`headers().getSetCookie()`",i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},forEach:{value:function(){let s="`headers().forEach(...)`",i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},keys:{value:function(){let s="`headers().keys()`",i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},values:{value:function(){let s="`headers().values()`",i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},entries:{value:function(){let s="`headers().entries()`",i=lt(e,s);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,s,i,t)}},[Symbol.iterator]:{value:function(){let o="`headers()[Symbol.iterator]()`",s=lt(e,o);(0,Qe.abortAndThrowOnSynchronousRequestDataAccess)(e,o,s,t)}}}),n}function Ap(e){let t=ci.get(e);if(t)return t;let r=Promise.resolve(e);return ci.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function Mo(e){return typeof e=="string"?`'${e}'`:"..."}var qv=()=>{},$P=process.env.__NEXT_DISABLE_SYNC_DYNAMIC_API_WARNINGS?qv:(0,jv.createDedupedByCallsiteServerErrorLoggerDev)(lt);function lt(e,t){let r=e?`Route "${e}" `:"This route ";return new Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}});var Ip=q(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});Object.defineProperty(lu,"draftMode",{enumerable:!0,get:function(){return Jv}});var cu=jr(),kp=rr(),xp=qr(),Wv=si(),Fv=$r(),Kv=ti();function Jv(){let e="draftMode",t=kp.workAsyncStorage.getStore(),r=cu.workUnitAsyncStorage.getStore();if(r&&(r.type==="cache"||r.type==="unstable-cache"||r.type==="prerender"||r.type==="prerender-ppr"||r.type==="prerender-legacy"))return Pp(null);let n=(0,cu.getExpectedRequestStore)(e),o=Tp.get(n.draftMode);if(o)return o;let s;return s=Pp(n.draftMode),Tp.set(n.draftMode,s),s}var Tp=new WeakMap;function Pp(e){let t=new uu(e),r=Promise.resolve(t);return Object.defineProperty(r,"isEnabled",{get(){return t.isEnabled},set(n){Object.defineProperty(r,"isEnabled",{value:n,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),r.enable=t.enable.bind(t),r.disable=t.disable.bind(t),r}var uu=class{constructor(t){this._provider=t}get isEnabled(){return this._provider!==null?this._provider.isEnabled:!1}enable(){Cp("draftMode().enable()"),this._provider!==null&&this._provider.enable()}disable(){Cp("draftMode().disable()"),this._provider!==null&&this._provider.disable()}},Gv=()=>{},qP=process.env.__NEXT_DISABLE_SYNC_DYNAMIC_API_WARNINGS?Gv:(0,Wv.createDedupedByCallsiteServerErrorLoggerDev)(zv);function zv(e,t){let r=e?`Route "${e}" `:"This route ";return new Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}function Cp(e){let t=kp.workAsyncStorage.getStore(),r=cu.workUnitAsyncStorage.getStore();if(t){if(r){if(r.type==="cache")throw new Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if(r.type==="unstable-cache")throw new Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(r.phase==="after")throw new Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`)}if(t.dynamicShouldError)throw new Fv.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(r){if(r.type==="prerender"){let n=new Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`);(0,xp.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,n,r)}else if(r.type==="prerender-ppr")(0,xp.postponeWithTracking)(t.route,e,r.dynamicTracking);else if(r.type==="prerender-legacy"){r.revalidate=0;let n=new Kv.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}}}}});var du=q((FP,ui)=>{ui.exports.cookies=vp().cookies;ui.exports.headers=Rp().headers;ui.exports.draftMode=Ip().draftMode});var Dp=q(Np=>{"use strict";function Qv(e){return e&&e.__esModule?e:{default:e}}Np._=Qv});var Up=q(pu=>{"use client";"use strict";Object.defineProperty(pu,"__esModule",{value:!0});function Xv(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Xv(pu,{AppRouterContext:function(){return eE},GlobalLayoutRouterContext:function(){return rE},LayoutRouterContext:function(){return tE},MissingSlotContext:function(){return oE},TemplateContext:function(){return nE}});var Zv=Dp(),Bo=Zv._(Br()),eE=Bo.default.createContext(null),tE=Bo.default.createContext(null),rE=Bo.default.createContext(null),nE=Bo.default.createContext(null),oE=Bo.default.createContext(new Set)});var Lp=q(yu=>{"use client";"use strict";Object.defineProperty(yu,"__esModule",{value:!0});function sE(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}sE(yu,{PathParamsContext:function(){return cE},PathnameContext:function(){return aE},SearchParamsContext:function(){return iE}});var mu=Br(),iE=(0,mu.createContext)(null),aE=(0,mu.createContext)(null),cE=(0,mu.createContext)(null)});var jp=q((wt,Mp)=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});Object.defineProperty(wt,"getSegmentValue",{enumerable:!0,get:function(){return uE}});function uE(e){return Array.isArray(e)?e[1]:e}(typeof wt.default=="function"||typeof wt.default=="object"&&wt.default!==null)&&typeof wt.default.__esModule>"u"&&(Object.defineProperty(wt.default,"__esModule",{value:!0}),Object.assign(wt.default,wt),Mp.exports=wt.default)});var Bp=q(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});function lE(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}lE(gu,{DEFAULT_SEGMENT_KEY:function(){return pE},PAGE_SEGMENT_KEY:function(){return fi},addSearchParamsIfPageSegment:function(){return hE},isGroupSegment:function(){return dE},isParallelRouteSegment:function(){return fE}});function dE(e){return e[0]==="("&&e.endsWith(")")}function fE(e){return e.startsWith("@")&&e!=="@children"}function hE(e,t){if(e.includes(fi)){let n=JSON.stringify(t);return n!=="{}"?fi+"?"+n:fi}return e}var fi="__PAGE__",pE="__DEFAULT__"});var $p=q(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});Object.defineProperty(wu,"actionAsyncStorageInstance",{enumerable:!0,get:function(){return yE}});var mE=Oo(),yE=(0,mE.createAsyncLocalStorage)()});var Hp=q(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});Object.defineProperty(bu,"actionAsyncStorage",{enumerable:!0,get:function(){return gE.actionAsyncStorageInstance}});var gE=$p()});var _u=q((bt,qp)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});Object.defineProperty(bt,"RedirectStatusCode",{enumerable:!0,get:function(){return wE}});var wE=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});(typeof bt.default=="function"||typeof bt.default=="object"&&bt.default!==null)&&typeof bt.default.__esModule>"u"&&(Object.defineProperty(bt.default,"__esModule",{value:!0}),Object.assign(bt.default,bt),qp.exports=bt.default)});var hi=q((_t,Fp)=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});function bE(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}bE(_t,{REDIRECT_ERROR_CODE:function(){return Wp},RedirectType:function(){return vE},isRedirectError:function(){return EE}});var _E=_u(),Wp="NEXT_REDIRECT",vE=function(e){return e.push="push",e.replace="replace",e}({});function EE(e){if(typeof e!="object"||e===null||!("digest"in e)||typeof e.digest!="string")return!1;let t=e.digest.split(";"),[r,n]=t,o=t.slice(2,-2).join(";"),s=t.at(-2),i=Number(s);return r===Wp&&(n==="replace"||n==="push")&&typeof o=="string"&&!isNaN(i)&&i in _E.RedirectStatusCode}(typeof _t.default=="function"||typeof _t.default=="object"&&_t.default!==null)&&typeof _t.default.__esModule>"u"&&(Object.defineProperty(_t.default,"__esModule",{value:!0}),Object.assign(_t.default,_t),Fp.exports=_t.default)});var Jp=q((vt,Kp)=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});function SE(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}SE(vt,{getRedirectError:function(){return Eu},getRedirectStatusCodeFromError:function(){return CE},getRedirectTypeFromError:function(){return PE},getURLFromRedirectError:function(){return TE},permanentRedirect:function(){return xE},redirect:function(){return RE}});var AE=Hp(),vu=_u(),_r=hi();function Eu(e,t,r){r===void 0&&(r=vu.RedirectStatusCode.TemporaryRedirect);let n=new Error(_r.REDIRECT_ERROR_CODE);return n.digest=_r.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",n}function RE(e,t){let r=AE.actionAsyncStorage.getStore(),n=t||(r?.isAction?_r.RedirectType.push:_r.RedirectType.replace);throw Eu(e,n,vu.RedirectStatusCode.TemporaryRedirect)}function xE(e,t){throw t===void 0&&(t=_r.RedirectType.replace),Eu(e,t,vu.RedirectStatusCode.PermanentRedirect)}function TE(e){return(0,_r.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function PE(e){if(!(0,_r.isRedirectError)(e))throw new Error("Not a redirect error");return e.digest.split(";",2)[1]}function CE(e){if(!(0,_r.isRedirectError)(e))throw new Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}(typeof vt.default=="function"||typeof vt.default=="object"&&vt.default!==null)&&typeof vt.default.__esModule>"u"&&(Object.defineProperty(vt.default,"__esModule",{value:!0}),Object.assign(vt.default,vt),Kp.exports=vt.default)});var $o=q((Et,Vp)=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});function kE(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}kE(Et,{HTTPAccessErrorStatus:function(){return Gp},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return zp},getAccessFallbackErrorTypeByStatus:function(){return DE},getAccessFallbackHTTPStatus:function(){return NE},isHTTPAccessFallbackError:function(){return OE}});var Gp={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},IE=new Set(Object.values(Gp)),zp="NEXT_HTTP_ERROR_FALLBACK";function OE(e){if(typeof e!="object"||e===null||!("digest"in e)||typeof e.digest!="string")return!1;let[t,r]=e.digest.split(";");return t===zp&&IE.has(Number(r))}function NE(e){let t=e.digest.split(";")[1];return Number(t)}function DE(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}(typeof Et.default=="function"||typeof Et.default=="object"&&Et.default!==null)&&typeof Et.default.__esModule>"u"&&(Object.defineProperty(Et.default,"__esModule",{value:!0}),Object.assign(Et.default,Et),Vp.exports=Et.default)});var Xp=q((St,Qp)=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});Object.defineProperty(St,"notFound",{enumerable:!0,get:function(){return LE}});var UE=$o(),Yp=""+UE.HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function LE(){let e=new Error(Yp);throw e.digest=Yp,e}(typeof St.default=="function"||typeof St.default=="object"&&St.default!==null)&&typeof St.default.__esModule>"u"&&(Object.defineProperty(St.default,"__esModule",{value:!0}),Object.assign(St.default,St),Qp.exports=St.default)});var tm=q((At,em)=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});Object.defineProperty(At,"forbidden",{enumerable:!0,get:function(){return jE}});var ME=$o(),Zp=""+ME.HTTP_ERROR_FALLBACK_ERROR_CODE+";403";function jE(){if(!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS)throw new Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled.");let e=new Error(Zp);throw e.digest=Zp,e}(typeof At.default=="function"||typeof At.default=="object"&&At.default!==null)&&typeof At.default.__esModule>"u"&&(Object.defineProperty(At.default,"__esModule",{value:!0}),Object.assign(At.default,At),em.exports=At.default)});var om=q((Rt,nm)=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Object.defineProperty(Rt,"unauthorized",{enumerable:!0,get:function(){return $E}});var BE=$o(),rm=""+BE.HTTP_ERROR_FALLBACK_ERROR_CODE+";401";function $E(){if(!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS)throw new Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled.");let e=new Error(rm);throw e.digest=rm,e}(typeof Rt.default=="function"||typeof Rt.default=="object"&&Rt.default!==null)&&typeof Rt.default.__esModule>"u"&&(Object.defineProperty(Rt.default,"__esModule",{value:!0}),Object.assign(Rt.default,Rt),nm.exports=Rt.default)});var pi=q(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});function HE(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}HE(Au,{BailoutToCSRError:function(){return Su},isBailoutToCSRError:function(){return qE}});var sm="BAILOUT_TO_CLIENT_SIDE_RENDERING",Su=class extends Error{constructor(t){super("Bail out to client-side rendering: "+t),this.reason=t,this.digest=sm}};function qE(e){return typeof e!="object"||e===null||!("digest"in e)?!1:e.digest===sm}});var Ru=q((xt,im)=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});Object.defineProperty(xt,"isNextRouterError",{enumerable:!0,get:function(){return KE}});var WE=$o(),FE=hi();function KE(e){return(0,FE.isRedirectError)(e)||(0,WE.isHTTPAccessFallbackError)(e)}(typeof xt.default=="function"||typeof xt.default=="object"&&xt.default!==null)&&typeof xt.default.__esModule>"u"&&(Object.defineProperty(xt.default,"__esModule",{value:!0}),Object.assign(xt.default,xt),im.exports=xt.default)});var am=q(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});Object.defineProperty(xu,"isDynamicUsageError",{enumerable:!0,get:function(){return YE}});var JE=ti(),GE=pi(),zE=Ru(),VE=qr(),YE=e=>(0,JE.isDynamicServerError)(e)||(0,GE.isBailoutToCSRError)(e)||(0,zE.isNextRouterError)(e)||(0,VE.isDynamicPostpone)(e)});var cm=q(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Object.defineProperty(Tu,"isPostpone",{enumerable:!0,get:function(){return XE}});var QE=Symbol.for("react.postpone");function XE(e){return typeof e=="object"&&e!==null&&e.$$typeof===QE}});var dm=q((Tt,lm)=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Object.defineProperty(Tt,"unstable_rethrow",{enumerable:!0,get:function(){return um}});var ZE=am(),eS=cm(),tS=pi(),rS=Ru();function um(e){if((0,rS.isNextRouterError)(e)||(0,tS.isBailoutToCSRError)(e)||(0,ZE.isDynamicUsageError)(e)||(0,eS.isPostpone)(e))throw e;e instanceof Error&&"cause"in e&&um(e.cause)}(typeof Tt.default=="function"||typeof Tt.default=="object"&&Tt.default!==null)&&typeof Tt.default.__esModule>"u"&&(Object.defineProperty(Tt.default,"__esModule",{value:!0}),Object.assign(Tt.default,Tt),lm.exports=Tt.default)});var pm=q((Pt,hm)=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});function nS(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}nS(Pt,{ReadonlyURLSearchParams:function(){return Pu},RedirectType:function(){return oS.RedirectType},forbidden:function(){return iS.forbidden},notFound:function(){return sS.notFound},permanentRedirect:function(){return fm.permanentRedirect},redirect:function(){return fm.redirect},unauthorized:function(){return aS.unauthorized},unstable_rethrow:function(){return cS.unstable_rethrow}});var fm=Jp(),oS=hi(),sS=Xp(),iS=tm(),aS=om(),cS=dm(),vn=class extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}},Pu=class extends URLSearchParams{append(){throw new vn}delete(){throw new vn}set(){throw new vn}sort(){throw new vn}};(typeof Pt.default=="function"||typeof Pt.default=="object"&&Pt.default!==null)&&typeof Pt.default.__esModule>"u"&&(Object.defineProperty(Pt.default,"__esModule",{value:!0}),Object.assign(Pt.default,Pt),hm.exports=Pt.default)});var gm=q(ym=>{"use strict";function mm(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(mm=function(n){return n?r:t})(e)}function uS(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=mm(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}ym._=uS});var _m=q(Cu=>{"use client";"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});function lS(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}lS(Cu,{ServerInsertedHTMLContext:function(){return bm},useServerInsertedHTML:function(){return fS}});var dS=gm(),wm=dS._(Br()),bm=wm.default.createContext(null);function fS(e){let t=(0,wm.useContext)(bm);t&&t(e)}});var Em=q((Ct,vm)=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Object.defineProperty(Ct,"bailoutToClientRendering",{enumerable:!0,get:function(){return mS}});var hS=pi(),pS=rr();function mS(e){let t=pS.workAsyncStorage.getStore();if(!t?.forceStatic&&t?.isStaticGeneration)throw new hS.BailoutToCSRError(e)}(typeof Ct.default=="function"||typeof Ct.default=="object"&&Ct.default!==null)&&typeof Ct.default.__esModule>"u"&&(Object.defineProperty(Ct.default,"__esModule",{value:!0}),Object.assign(Ct.default,Ct),vm.exports=Ct.default)});var Cm=q((kt,Pm)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});function yS(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}yS(kt,{ReadonlyURLSearchParams:function(){return ir.ReadonlyURLSearchParams},RedirectType:function(){return ir.RedirectType},ServerInsertedHTMLContext:function(){return Sm.ServerInsertedHTMLContext},forbidden:function(){return ir.forbidden},notFound:function(){return ir.notFound},permanentRedirect:function(){return ir.permanentRedirect},redirect:function(){return ir.redirect},unauthorized:function(){return ir.unauthorized},unstable_rethrow:function(){return ir.unstable_rethrow},useParams:function(){return vS},usePathname:function(){return bS},useRouter:function(){return _S},useSearchParams:function(){return wS},useSelectedLayoutSegment:function(){return ES},useSelectedLayoutSegments:function(){return Tm},useServerInsertedHTML:function(){return Sm.useServerInsertedHTML}});var En=Br(),Am=Up(),ku=Lp(),gS=jp(),Rm=Bp(),ir=pm(),mi=qr(),Sm=_m();function wS(){let e=(0,En.useContext)(ku.SearchParamsContext),t=(0,En.useMemo)(()=>e?new ir.ReadonlyURLSearchParams(e):null,[e]);if(typeof window>"u"){let{bailoutToClientRendering:r}=Em();r("useSearchParams()")}return t}function bS(){return(0,mi.useDynamicRouteParams)("usePathname()"),(0,En.useContext)(ku.PathnameContext)}function _S(){let e=(0,En.useContext)(Am.AppRouterContext);if(e===null)throw new Error("invariant expected app router to be mounted");return e}function vS(){return(0,mi.useDynamicRouteParams)("useParams()"),(0,En.useContext)(ku.PathParamsContext)}function xm(e,t,r,n){r===void 0&&(r=!0),n===void 0&&(n=[]);let o;if(r)o=e[1][t];else{let c=e[1];var s;o=(s=c.children)!=null?s:Object.values(c)[0]}if(!o)return n;let i=o[0],a=(0,gS.getSegmentValue)(i);return!a||a.startsWith(Rm.PAGE_SEGMENT_KEY)?n:(n.push(a),xm(o,t,!1,n))}function Tm(e){e===void 0&&(e="children"),(0,mi.useDynamicRouteParams)("useSelectedLayoutSegments()");let t=(0,En.useContext)(Am.LayoutRouterContext);return t?xm(t.tree,e):null}function ES(e){e===void 0&&(e="children"),(0,mi.useDynamicRouteParams)("useSelectedLayoutSegment()");let t=Tm(e);if(!t||t.length===0)return null;let r=e==="children"?t[0]:t[t.length-1];return r===Rm.DEFAULT_SEGMENT_KEY?null:r}(typeof kt.default=="function"||typeof kt.default=="object"&&kt.default!==null)&&typeof kt.default.__esModule>"u"&&(Object.defineProperty(kt.default,"__esModule",{value:!0}),Object.assign(kt.default,kt),Pm.exports=kt.default)});var Im=q((sC,km)=>{km.exports=Cm()});var Dy=q((ek,Ny)=>{"use strict";var Xu=Object.defineProperty,mA=Object.getOwnPropertyDescriptor,yA=Object.getOwnPropertyNames,gA=Object.prototype.hasOwnProperty,Ay=(e,t)=>{for(var r in t)Xu(e,r,{get:t[r],enumerable:!0})},wA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yA(t))!gA.call(e,o)&&o!==r&&Xu(e,o,{get:()=>t[o],enumerable:!(n=mA(t,o))||n.enumerable});return e},bA=e=>wA(Xu({},"__esModule",{value:!0}),e),Ry={};Ay(Ry,{Debug:()=>Oy,clearLogs:()=>YA,default:()=>QA,getLogs:()=>VA});Ny.exports=bA(Ry);var Vu={};Ay(Vu,{$:()=>ky,bgBlack:()=>MA,bgBlue:()=>HA,bgCyan:()=>WA,bgGreen:()=>BA,bgMagenta:()=>qA,bgRed:()=>jA,bgWhite:()=>FA,bgYellow:()=>$A,black:()=>TA,blue:()=>IA,bold:()=>Iy,cyan:()=>NA,dim:()=>vA,gray:()=>UA,green:()=>CA,grey:()=>LA,hidden:()=>RA,inverse:()=>AA,italic:()=>EA,magenta:()=>OA,red:()=>PA,reset:()=>_A,strikethrough:()=>xA,underline:()=>SA,white:()=>DA,yellow:()=>kA});var Yu,xy,Ty,Py,Cy=!0;typeof process<"u"&&({FORCE_COLOR:Yu,NODE_DISABLE_COLORS:xy,NO_COLOR:Ty,TERM:Py}=process.env||{},Cy=process.stdout&&process.stdout.isTTY);var ky={enabled:!xy&&Ty==null&&Py!=="dumb"&&(Yu!=null&&Yu!=="0"||Cy)};function Ae(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,o=`\x1B[${t}m`;return function(s){return!ky.enabled||s==null?s:n+(~(""+s).indexOf(o)?s.replace(r,o+n):s)+o}}var _A=Ae(0,0),Iy=Ae(1,22),vA=Ae(2,22),EA=Ae(3,23),SA=Ae(4,24),AA=Ae(7,27),RA=Ae(8,28),xA=Ae(9,29),TA=Ae(30,39),PA=Ae(31,39),CA=Ae(32,39),kA=Ae(33,39),IA=Ae(34,39),OA=Ae(35,39),NA=Ae(36,39),DA=Ae(37,39),UA=Ae(90,39),LA=Ae(90,39),MA=Ae(40,49),jA=Ae(41,49),BA=Ae(42,49),$A=Ae(43,49),HA=Ae(44,49),qA=Ae(45,49),WA=Ae(46,49),FA=Ae(47,49),KA=100,Ey=["green","yellow","blue","magenta","cyan","red"],Ko=[],Sy=Date.now(),JA=0,Qu=typeof process<"u"?process.env:{};globalThis.DEBUG??=Qu.DEBUG??"";globalThis.DEBUG_COLORS??=Qu.DEBUG_COLORS?Qu.DEBUG_COLORS==="true":!0;var Jo={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(o=>o.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(o=>o===""||o[0]==="-"?!1:e.match(RegExp(o.split("*").join(".*")+"$"))),n=t.some(o=>o===""||o[0]!=="-"?!1:e.match(RegExp(o.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function GA(e){let t={color:Ey[JA++%Ey.length],enabled:Jo.enabled(e),namespace:e,log:Jo.log,extend:()=>{}},r=(...n)=>{let{enabled:o,namespace:s,color:i,log:a}=t;if(n.length!==0&&Ko.push([s,...n]),Ko.length>KA&&Ko.shift(),Jo.enabled(s)||o){let c=n.map(u=>typeof u=="string"?u:zA(u)),l=`+${Date.now()-Sy}ms`;Sy=Date.now(),globalThis.DEBUG_COLORS?a(Vu[i](Iy(s)),...c,Vu[i](l)):a(s,...c,l)}};return new Proxy(r,{get:(n,o)=>t[o],set:(n,o,s)=>t[o]=s})}var Oy=new Proxy(GA,{get:(e,t)=>Jo[t],set:(e,t,r)=>Jo[t]=r});function zA(e,t=2){let r=new Set;return JSON.stringify(e,(n,o)=>{if(typeof o=="object"&&o!==null){if(r.has(o))return"[Circular *]";r.add(o)}else if(typeof o=="bigint")return o.toString();return o},t)}function VA(e=7500){let t=Ko.map(([r,...n])=>`${r} ${n.map(o=>typeof o=="string"?o:JSON.stringify(o)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function YA(){Ko.length=0}var QA=Oy});var My=q(Ly=>{"use strict";Ly.parse=function(e,t){return Uy(e,t)};function Uy(e,t,r=!1){let n="",o=!1,s=0,i=0,a=[],c="",l=function(u){let f=c;(f.length>0||u)&&(f==="NULL"&&!u&&(f=null),f!==null&&t&&(f=t(f)),a.push(f),c="")};if(e[0]==="[")for(;s<e.length&&e[s++]!=="=";);for(;s<e.length;){let u=!1;if(n=e[s++],n==="\\"&&(n=e[s++],u=!0),n==="{"&&!o){if(i++,i>1){let f=Uy(e.substr(s-1),t,!0);a.push(f.entries),s+=f.position-2}}else if(n==="}"&&!o){if(i--,!i&&(l(),r))return{entries:a,position:s}}else n==='"'&&!u?(o&&l(!0),o=!o):n===","&&!o?l():c+=n}if(i!==0)throw new Error("array dimension not balanced");return a}});var wg=q((fk,gg)=>{"use strict";var ll=Object.defineProperty,l3=Object.getOwnPropertyDescriptor,d3=Object.getOwnPropertyNames,f3=Object.prototype.hasOwnProperty,ng=(e,t)=>{for(var r in t)ll(e,r,{get:t[r],enumerable:!0})},h3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d3(t))!f3.call(e,o)&&o!==r&&ll(e,o,{get:()=>t[o],enumerable:!(n=l3(t,o))||n.enumerable});return e},p3=e=>h3(ll({},"__esModule",{value:!0}),e),og={};ng(og,{Decimal:()=>w5,Public:()=>sg,getRuntime:()=>A3,makeStrictEnum:()=>b3,objectEnumValues:()=>g3});gg.exports=p3(og);var sg={};ng(sg,{validator:()=>m3});function m3(...e){return t=>t}var Ai=Symbol(),tl=new WeakMap,y3=class{constructor(e){e===Ai?tl.set(this,"Prisma.".concat(this._getName())):tl.set(this,"new Prisma.".concat(this._getNamespace(),".").concat(this._getName(),"()"))}_getName(){return this.constructor.name}toString(){return tl.get(this)}},dl=class extends y3{_getNamespace(){return"NullTypes"}},rl=class extends dl{};fl(rl,"DbNull");var nl=class extends dl{};fl(nl,"JsonNull");var ol=class extends dl{};fl(ol,"AnyNull");var g3={classes:{DbNull:rl,JsonNull:nl,AnyNull:ol},instances:{DbNull:new rl(Ai),JsonNull:new nl(Ai),AnyNull:new ol(Ai)}};function fl(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var w3=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function b3(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!w3.has(r))throw new TypeError("Invalid enum value: ".concat(String(r)))}})}var _3="Cloudflare-Workers",v3="node";function E3(){var e,t,r;return typeof Netlify=="object"?"netlify":typeof EdgeRuntime=="string"?"edge-light":((e=globalThis.navigator)==null?void 0:e.userAgent)===_3?"workerd":globalThis.Deno?"deno":globalThis.__lagon__?"lagon":((r=(t=globalThis.process)==null?void 0:t.release)==null?void 0:r.name)===v3?"node":globalThis.Bun?"bun":globalThis.fastly?"fastly":"unknown"}var S3={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function A3(){let e=E3();return{id:e,prettyName:S3[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var In=9e15,xr=1e9,sl="0123456789abcdef",xi="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ti="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",il={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-In,maxE:In,crypto:!1},ig,cr,oe=!0,Ci="[DecimalError] ",Rr=Ci+"Invalid argument: ",ag=Ci+"Precision limit exceeded",cg=Ci+"crypto unavailable",ug="[object Decimal]",Ke=Math.floor,Ue=Math.pow,R3=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,x3=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,T3=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,lg=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nt=1e7,X=7,P3=9007199254740991,C3=xi.length-1,al=Ti.length-1,j={toStringTag:ug};j.absoluteValue=j.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),z(e)};j.ceil=function(){return z(new this.constructor(this),this.e+1,2)};j.clampedTo=j.clamp=function(e,t){var r,n=this,o=n.constructor;if(e=new o(e),t=new o(t),!e.s||!t.s)return new o(NaN);if(e.gt(t))throw Error(Rr+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new o(n)};j.comparedTo=j.cmp=function(e){var t,r,n,o,s=this,i=s.d,a=(e=new s.constructor(e)).d,c=s.s,l=e.s;if(!i||!a)return!c||!l?NaN:c!==l?c:i===a?0:!i^c<0?1:-1;if(!i[0]||!a[0])return i[0]?c:a[0]?-l:0;if(c!==l)return c;if(s.e!==e.e)return s.e>e.e^c<0?1:-1;for(n=i.length,o=a.length,t=0,r=n<o?n:o;t<r;++t)if(i[t]!==a[t])return i[t]>a[t]^c<0?1:-1;return n===o?0:n>o^c<0?1:-1};j.cosine=j.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+X,n.rounding=1,r=k3(n,mg(n,r)),n.precision=e,n.rounding=t,z(cr==2||cr==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};j.cubeRoot=j.cbrt=function(){var e,t,r,n,o,s,i,a,c,l,u=this,f=u.constructor;if(!u.isFinite()||u.isZero())return new f(u);for(oe=!1,s=u.s*Ue(u.s*u,1/3),!s||Math.abs(s)==1/0?(r=We(u.d),e=u.e,(s=(e-r.length+1)%3)&&(r+=s==1||s==-2?"0":"00"),s=Ue(r,1/3),e=Ke((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new f(r),n.s=u.s):n=new f(s.toString()),i=(e=f.precision)+3;;)if(a=n,c=a.times(a).times(a),l=c.plus(u),n=Se(l.plus(u).times(a),l.plus(c),i+2,1),We(a.d).slice(0,i)===(r=We(n.d)).slice(0,i))if(r=r.slice(i-3,i+1),r=="9999"||!o&&r=="4999"){if(!o&&(z(a,e+1,0),a.times(a).times(a).eq(u))){n=a;break}i+=4,o=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(z(n,e+1,1),t=!n.times(n).times(n).eq(u));break}return oe=!0,z(n,e,f.rounding,t)};j.decimalPlaces=j.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Ke(this.e/X))*X,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};j.dividedBy=j.div=function(e){return Se(this,new this.constructor(e))};j.dividedToIntegerBy=j.divToInt=function(e){var t=this,r=t.constructor;return z(Se(t,new r(e),0,1,1),r.precision,r.rounding)};j.equals=j.eq=function(e){return this.cmp(e)===0};j.floor=function(){return z(new this.constructor(this),this.e+1,3)};j.greaterThan=j.gt=function(e){return this.cmp(e)>0};j.greaterThanOrEqualTo=j.gte=function(e){var t=this.cmp(e);return t==1||t===0};j.hyperbolicCosine=j.cosh=function(){var e,t,r,n,o,s=this,i=s.constructor,a=new i(1);if(!s.isFinite())return new i(s.s?1/0:NaN);if(s.isZero())return a;r=i.precision,n=i.rounding,i.precision=r+Math.max(s.e,s.sd())+4,i.rounding=1,o=s.d.length,o<32?(e=Math.ceil(o/3),t=(1/Ii(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),s=On(i,1,s.times(t),new i(1),!0);for(var c,l=e,u=new i(8);l--;)c=s.times(s),s=a.minus(c.times(u.minus(c.times(u))));return z(s,i.precision=r,i.rounding=n,!0)};j.hyperbolicSine=j.sinh=function(){var e,t,r,n,o=this,s=o.constructor;if(!o.isFinite()||o.isZero())return new s(o);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,n=o.d.length,n<3)o=On(s,2,o,o,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,o=o.times(1/Ii(5,e)),o=On(s,2,o,o,!0);for(var i,a=new s(5),c=new s(16),l=new s(20);e--;)i=o.times(o),o=o.times(a.plus(i.times(c.times(i).plus(l))))}return s.precision=t,s.rounding=r,z(o,t,r,!0)};j.hyperbolicTangent=j.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Se(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};j.inverseCosine=j.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),o=r.precision,s=r.rounding;return n!==-1?n===0?t.isNeg()?Ot(r,o,s):new r(0):new r(NaN):t.isZero()?Ot(r,o+4,s).times(.5):(r.precision=o+6,r.rounding=1,t=t.asin(),e=Ot(r,o+4,s).times(.5),r.precision=o,r.rounding=s,e.minus(t))};j.inverseHyperbolicCosine=j.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,oe=!1,r=r.times(r).minus(1).sqrt().plus(r),oe=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};j.inverseHyperbolicSine=j.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,oe=!1,r=r.times(r).plus(1).sqrt().plus(r),oe=!0,n.precision=e,n.rounding=t,r.ln())};j.inverseHyperbolicTangent=j.atanh=function(){var e,t,r,n,o=this,s=o.constructor;return o.isFinite()?o.e>=0?new s(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=s.precision,t=s.rounding,n=o.sd(),Math.max(n,e)<2*-o.e-1?z(new s(o),e,t,!0):(s.precision=r=n-o.e,o=Se(o.plus(1),new s(1).minus(o),r+e,1),s.precision=e+4,s.rounding=1,o=o.ln(),s.precision=e,s.rounding=t,o.times(.5))):new s(NaN)};j.inverseSine=j.asin=function(){var e,t,r,n,o=this,s=o.constructor;return o.isZero()?new s(o):(t=o.abs().cmp(1),r=s.precision,n=s.rounding,t!==-1?t===0?(e=Ot(s,r+4,n).times(.5),e.s=o.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,o=o.div(new s(1).minus(o.times(o)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,o.times(2)))};j.inverseTangent=j.atan=function(){var e,t,r,n,o,s,i,a,c,l=this,u=l.constructor,f=u.precision,p=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&f+4<=al)return i=Ot(u,f+4,p).times(.25),i.s=l.s,i}else{if(!l.s)return new u(NaN);if(f+4<=al)return i=Ot(u,f+4,p).times(.5),i.s=l.s,i}for(u.precision=a=f+10,u.rounding=1,r=Math.min(28,a/X+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(oe=!1,t=Math.ceil(a/X),n=1,c=l.times(l),i=new u(l),o=l;e!==-1;)if(o=o.times(c),s=i.minus(o.div(n+=2)),o=o.times(c),i=s.plus(o.div(n+=2)),i.d[t]!==void 0)for(e=t;i.d[e]===s.d[e]&&e--;);return r&&(i=i.times(2<<r-1)),oe=!0,z(i,u.precision=f,u.rounding=p,!0)};j.isFinite=function(){return!!this.d};j.isInteger=j.isInt=function(){return!!this.d&&Ke(this.e/X)>this.d.length-2};j.isNaN=function(){return!this.s};j.isNegative=j.isNeg=function(){return this.s<0};j.isPositive=j.isPos=function(){return this.s>0};j.isZero=function(){return!!this.d&&this.d[0]===0};j.lessThan=j.lt=function(e){return this.cmp(e)<0};j.lessThanOrEqualTo=j.lte=function(e){return this.cmp(e)<1};j.logarithm=j.log=function(e){var t,r,n,o,s,i,a,c,l=this,u=l.constructor,f=u.precision,p=u.rounding,w=5;if(e==null)e=new u(10),t=!0;else{if(e=new u(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new u(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)s=!0;else{for(o=r[0];o%10===0;)o/=10;s=o!==1}if(oe=!1,a=f+w,i=Ar(l,a),n=t?Pi(u,a+10):Ar(e,a),c=Se(i,n,a,1),Go(c.d,o=f,p))do if(a+=10,i=Ar(l,a),n=t?Pi(u,a+10):Ar(e,a),c=Se(i,n,a,1),!s){+We(c.d).slice(o+1,o+15)+1==1e14&&(c=z(c,f+1,0));break}while(Go(c.d,o+=10,p));return oe=!0,z(c,f,p)};j.minus=j.sub=function(e){var t,r,n,o,s,i,a,c,l,u,f,p,w=this,m=w.constructor;if(e=new m(e),!w.d||!e.d)return!w.s||!e.s?e=new m(NaN):w.d?e.s=-e.s:e=new m(e.d||w.s!==e.s?w:NaN),e;if(w.s!=e.s)return e.s=-e.s,w.plus(e);if(l=w.d,p=e.d,a=m.precision,c=m.rounding,!l[0]||!p[0]){if(p[0])e.s=-e.s;else if(l[0])e=new m(w);else return new m(c===3?-0:0);return oe?z(e,a,c):e}if(r=Ke(e.e/X),u=Ke(w.e/X),l=l.slice(),s=u-r,s){for(f=s<0,f?(t=l,s=-s,i=p.length):(t=p,r=u,i=l.length),n=Math.max(Math.ceil(a/X),i)+2,s>n&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for(n=l.length,i=p.length,f=n<i,f&&(i=n),n=0;n<i;n++)if(l[n]!=p[n]){f=l[n]<p[n];break}s=0}for(f&&(t=l,l=p,p=t,e.s=-e.s),i=l.length,n=p.length-i;n>0;--n)l[i++]=0;for(n=p.length;n>s;){if(l[--n]<p[n]){for(o=n;o&&l[--o]===0;)l[o]=Nt-1;--l[o],l[n]+=Nt}l[n]-=p[n]}for(;l[--i]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=ki(l,r),oe?z(e,a,c):e):new m(c===3?-0:0)};j.modulo=j.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?z(new n(r),n.precision,n.rounding):(oe=!1,n.modulo==9?(t=Se(r,e.abs(),0,3,1),t.s*=e.s):t=Se(r,e,0,n.modulo,1),t=t.times(e),oe=!0,r.minus(t))};j.naturalExponential=j.exp=function(){return cl(this)};j.naturalLogarithm=j.ln=function(){return Ar(this)};j.negated=j.neg=function(){var e=new this.constructor(this);return e.s=-e.s,z(e)};j.plus=j.add=function(e){var t,r,n,o,s,i,a,c,l,u,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return!f.s||!e.s?e=new p(NaN):f.d||(e=new p(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(l=f.d,u=e.d,a=p.precision,c=p.rounding,!l[0]||!u[0])return u[0]||(e=new p(f)),oe?z(e,a,c):e;if(s=Ke(f.e/X),n=Ke(e.e/X),l=l.slice(),o=s-n,o){for(o<0?(r=l,o=-o,i=u.length):(r=u,n=s,i=l.length),s=Math.ceil(a/X),i=s>i?s+1:i+1,o>i&&(o=i,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(i=l.length,o=u.length,i-o<0&&(o=i,r=u,u=l,l=r),t=0;o;)t=(l[--o]=l[o]+u[o]+t)/Nt|0,l[o]%=Nt;for(t&&(l.unshift(t),++n),i=l.length;l[--i]==0;)l.pop();return e.d=l,e.e=ki(l,n),oe?z(e,a,c):e};j.precision=j.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rr+e);return r.d?(t=dg(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};j.round=function(){var e=this,t=e.constructor;return z(new t(e),e.e+1,t.rounding)};j.sine=j.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+X,n.rounding=1,r=O3(n,mg(n,r)),n.precision=e,n.rounding=t,z(cr>2?r.neg():r,e,t,!0)):new n(NaN)};j.squareRoot=j.sqrt=function(){var e,t,r,n,o,s,i=this,a=i.d,c=i.e,l=i.s,u=i.constructor;if(l!==1||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?i:1/0);for(oe=!1,l=Math.sqrt(+i),l==0||l==1/0?(t=We(a),(t.length+c)%2==0&&(t+="0"),l=Math.sqrt(t),c=Ke((c+1)/2)-(c<0||c%2),l==1/0?t="5e"+c:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new u(t)):n=new u(l.toString()),r=(c=u.precision)+3;;)if(s=n,n=s.plus(Se(i,s,r+2,1)).times(.5),We(s.d).slice(0,r)===(t=We(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!o&&t=="4999"){if(!o&&(z(s,c+1,0),s.times(s).eq(i))){n=s;break}r+=4,o=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(z(n,c+1,1),e=!n.times(n).eq(i));break}return oe=!0,z(n,c,u.rounding,e)};j.tangent=j.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=Se(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,z(cr==2||cr==4?r.neg():r,e,t,!0)):new n(NaN)};j.times=j.mul=function(e){var t,r,n,o,s,i,a,c,l,u=this,f=u.constructor,p=u.d,w=(e=new f(e)).d;if(e.s*=u.s,!p||!p[0]||!w||!w[0])return new f(!e.s||p&&!p[0]&&!w||w&&!w[0]&&!p?NaN:!p||!w?e.s/0:e.s*0);for(r=Ke(u.e/X)+Ke(e.e/X),c=p.length,l=w.length,c<l&&(s=p,p=w,w=s,i=c,c=l,l=i),s=[],i=c+l,n=i;n--;)s.push(0);for(n=l;--n>=0;){for(t=0,o=c+n;o>n;)a=s[o]+w[n]*p[o-n-1]+t,s[o--]=a%Nt|0,t=a/Nt|0;s[o]=(s[o]+t)%Nt|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=ki(s,r),oe?z(e,f.precision,f.rounding):e};j.toBinary=function(e,t){return hl(this,2,e,t)};j.toDecimalPlaces=j.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ze(e,0,xr),t===void 0?t=n.rounding:Ze(t,0,8),z(r,e+r.e+1,t))};j.toExponential=function(e,t){var r,n=this,o=n.constructor;return e===void 0?r=qt(n,!0):(Ze(e,0,xr),t===void 0?t=o.rounding:Ze(t,0,8),n=z(new o(n),e+1,t),r=qt(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};j.toFixed=function(e,t){var r,n,o=this,s=o.constructor;return e===void 0?r=qt(o):(Ze(e,0,xr),t===void 0?t=s.rounding:Ze(t,0,8),n=z(new s(o),e+o.e+1,t),r=qt(n,!1,e+n.e+1)),o.isNeg()&&!o.isZero()?"-"+r:r};j.toFraction=function(e){var t,r,n,o,s,i,a,c,l,u,f,p,w=this,m=w.d,h=w.constructor;if(!m)return new h(w);if(l=r=new h(1),n=c=new h(0),t=new h(n),s=t.e=dg(m)-w.e-1,i=s%X,t.d[0]=Ue(10,i<0?X+i:i),e==null)e=s>0?t:l;else{if(a=new h(e),!a.isInt()||a.lt(l))throw Error(Rr+a);e=a.gt(t)?s>0?t:l:a}for(oe=!1,a=new h(We(m)),u=h.precision,h.precision=s=m.length*X*2;f=Se(a,t,0,1,1),o=r.plus(f.times(n)),o.cmp(e)!=1;)r=n,n=o,o=l,l=c.plus(f.times(o)),c=o,o=t,t=a.minus(f.times(o)),a=o;return o=Se(e.minus(r),n,0,1,1),c=c.plus(o.times(l)),r=r.plus(o.times(n)),c.s=l.s=w.s,p=Se(l,n,s,1).minus(w).abs().cmp(Se(c,r,s,1).minus(w).abs())<1?[l,n]:[c,r],h.precision=u,oe=!0,p};j.toHexadecimal=j.toHex=function(e,t){return hl(this,16,e,t)};j.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Ze(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(oe=!1,r=Se(r,e,0,t,1).times(e),oe=!0,z(r)):(e.s=r.s,r=e),r};j.toNumber=function(){return+this};j.toOctal=function(e,t){return hl(this,8,e,t)};j.toPower=j.pow=function(e){var t,r,n,o,s,i,a=this,c=a.constructor,l=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(Ue(+a,l));if(a=new c(a),a.eq(1))return a;if(n=c.precision,s=c.rounding,e.eq(1))return z(a,n,s);if(t=Ke(e.e/X),t>=e.d.length-1&&(r=l<0?-l:l)<=P3)return o=fg(c,a,r,n),e.s<0?new c(1).div(o):z(o,n,s);if(i=a.s,i<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(i=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=i,a}return r=Ue(+a,l),t=r==0||!isFinite(r)?Ke(l*(Math.log("0."+We(a.d))/Math.LN10+a.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?i/0:0):(oe=!1,c.rounding=a.s=1,r=Math.min(12,(t+"").length),o=cl(e.times(Ar(a,n+r)),n),o.d&&(o=z(o,n+5,1),Go(o.d,n,s)&&(t=n+10,o=z(cl(e.times(Ar(a,t+r)),t),t+5,1),+We(o.d).slice(n+1,n+15)+1==1e14&&(o=z(o,n+1,0)))),o.s=i,oe=!0,c.rounding=s,z(o,n,s))};j.toPrecision=function(e,t){var r,n=this,o=n.constructor;return e===void 0?r=qt(n,n.e<=o.toExpNeg||n.e>=o.toExpPos):(Ze(e,1,xr),t===void 0?t=o.rounding:Ze(t,0,8),n=z(new o(n),e,t),r=qt(n,e<=n.e||n.e<=o.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};j.toSignificantDigits=j.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ze(e,1,xr),t===void 0?t=n.rounding:Ze(t,0,8)),z(new n(r),e,t)};j.toString=function(){var e=this,t=e.constructor,r=qt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};j.truncated=j.trunc=function(){return z(new this.constructor(this),this.e+1,1)};j.valueOf=j.toJSON=function(){var e=this,t=e.constructor,r=qt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function We(e){var t,r,n,o=e.length-1,s="",i=e[0];if(o>0){for(s+=i,t=1;t<o;t++)n=e[t]+"",r=X-n.length,r&&(s+=Sr(r)),s+=n;i=e[t],n=i+"",r=X-n.length,r&&(s+=Sr(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}function Ze(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rr+e)}function Go(e,t,r,n){var o,s,i,a;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=X,o=0):(o=Math.ceil((t+1)/X),t%=X),s=Ue(10,X-t),a=e[o]%s|0,n==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),i=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):i=(r<4&&a+1==s||r>3&&a+1==s/2)&&(e[o+1]/s/100|0)==Ue(10,t-2)-1||(a==s/2||a==0)&&(e[o+1]/s/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),i=(n||r<4)&&a==9999||!n&&r>3&&a==4999):i=((n||r<4)&&a+1==s||!n&&r>3&&a+1==s/2)&&(e[o+1]/s/1e3|0)==Ue(10,t-3)-1,i}function Ri(e,t,r){for(var n,o=[0],s,i=0,a=e.length;i<a;){for(s=o.length;s--;)o[s]*=t;for(o[0]+=sl.indexOf(e.charAt(i++)),n=0;n<o.length;n++)o[n]>r-1&&(o[n+1]===void 0&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function k3(e,t){var r,n,o;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),o=(1/Ii(4,r)).toString()):(r=16,o="2.3283064365386962890625e-10"),e.precision+=r,t=On(e,1,t.times(o),new e(1));for(var s=r;s--;){var i=t.times(t);t=i.times(i).minus(i).times(8).plus(1)}return e.precision-=r,t}var Se=function(){function e(n,o,s){var i,a=0,c=n.length;for(n=n.slice();c--;)i=n[c]*o+a,n[c]=i%s|0,a=i/s|0;return a&&n.unshift(a),n}function t(n,o,s,i){var a,c;if(s!=i)c=s>i?1:-1;else for(a=c=0;a<s;a++)if(n[a]!=o[a]){c=n[a]>o[a]?1:-1;break}return c}function r(n,o,s,i){for(var a=0;s--;)n[s]-=a,a=n[s]<o[s]?1:0,n[s]=a*i+n[s]-o[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,o,s,i,a,c){var l,u,f,p,w,m,h,y,v,_,E,R,k,A,x,P,T,N,I,$,H=n.constructor,U=n.s==o.s?1:-1,M=n.d,B=o.d;if(!M||!M[0]||!B||!B[0])return new H(!n.s||!o.s||(M?B&&M[0]==B[0]:!B)?NaN:M&&M[0]==0||!B?U*0:U/0);for(c?(w=1,u=n.e-o.e):(c=Nt,w=X,u=Ke(n.e/w)-Ke(o.e/w)),I=B.length,T=M.length,v=new H(U),_=v.d=[],f=0;B[f]==(M[f]||0);f++);if(B[f]>(M[f]||0)&&u--,s==null?(A=s=H.precision,i=H.rounding):a?A=s+(n.e-o.e)+1:A=s,A<0)_.push(1),m=!0;else{if(A=A/w+2|0,f=0,I==1){for(p=0,B=B[0],A++;(f<T||p)&&A--;f++)x=p*c+(M[f]||0),_[f]=x/B|0,p=x%B|0;m=p||f<T}else{for(p=c/(B[0]+1)|0,p>1&&(B=e(B,p,c),M=e(M,p,c),I=B.length,T=M.length),P=I,E=M.slice(0,I),R=E.length;R<I;)E[R++]=0;$=B.slice(),$.unshift(0),N=B[0],B[1]>=c/2&&++N;do p=0,l=t(B,E,I,R),l<0?(k=E[0],I!=R&&(k=k*c+(E[1]||0)),p=k/N|0,p>1?(p>=c&&(p=c-1),h=e(B,p,c),y=h.length,R=E.length,l=t(h,E,y,R),l==1&&(p--,r(h,I<y?$:B,y,c))):(p==0&&(l=p=1),h=B.slice()),y=h.length,y<R&&h.unshift(0),r(E,h,R,c),l==-1&&(R=E.length,l=t(B,E,I,R),l<1&&(p++,r(E,I<R?$:B,R,c))),R=E.length):l===0&&(p++,E=[0]),_[f++]=p,l&&E[0]?E[R++]=M[P]||0:(E=[M[P]],R=1);while((P++<T||E[0]!==void 0)&&A--);m=E[0]!==void 0}_[0]||_.shift()}if(w==1)v.e=u,ig=m;else{for(f=1,p=_[0];p>=10;p/=10)f++;v.e=f+u*w-1,z(v,a?s+v.e+1:s,i,m)}return v}}();function z(e,t,r,n){var o,s,i,a,c,l,u,f,p,w=e.constructor;e:if(t!=null){if(f=e.d,!f)return e;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=X,i=t,u=f[p=0],c=u/Ue(10,o-i-1)%10|0;else if(p=Math.ceil((s+1)/X),a=f.length,p>=a)if(n){for(;a++<=p;)f.push(0);u=c=0,o=1,s%=X,i=s-X+1}else break e;else{for(u=a=f[p],o=1;a>=10;a/=10)o++;s%=X,i=s-X+o,c=i<0?0:u/Ue(10,o-i-1)%10|0}if(n=n||t<0||f[p+1]!==void 0||(i<0?u:u%Ue(10,o-i-1)),l=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(s>0?i>0?u/Ue(10,o-i):0:f[p-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,l?(t-=e.e+1,f[0]=Ue(10,(X-t%X)%X),e.e=-t||0):f[0]=e.e=0,e;if(s==0?(f.length=p,a=1,p--):(f.length=p+1,a=Ue(10,X-s),f[p]=i>0?(u/Ue(10,o-i)%Ue(10,i)|0)*a:0),l)for(;;)if(p==0){for(s=1,i=f[0];i>=10;i/=10)s++;for(i=f[0]+=a,a=1;i>=10;i/=10)a++;s!=a&&(e.e++,f[0]==Nt&&(f[0]=1));break}else{if(f[p]+=a,f[p]!=Nt)break;f[p--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop()}return oe&&(e.e>w.maxE?(e.d=null,e.e=NaN):e.e<w.minE&&(e.e=0,e.d=[0])),e}function qt(e,t,r){if(!e.isFinite())return pg(e);var n,o=e.e,s=We(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Sr(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):o<0?(s="0."+Sr(-o-1)+s,r&&(n=r-i)>0&&(s+=Sr(n))):o>=i?(s+=Sr(o+1-i),r&&(n=r-o-1)>0&&(s=s+"."+Sr(n))):((n=o+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(o+1===i&&(s+="."),s+=Sr(n))),s}function ki(e,t){var r=e[0];for(t*=X;r>=10;r/=10)t++;return t}function Pi(e,t,r){if(t>C3)throw oe=!0,r&&(e.precision=r),Error(ag);return z(new e(xi),t,1,!0)}function Ot(e,t,r){if(t>al)throw Error(ag);return z(new e(Ti),t,r,!0)}function dg(e){var t=e.length-1,r=t*X+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Sr(e){for(var t="";e--;)t+="0";return t}function fg(e,t,r,n){var o,s=new e(1),i=Math.ceil(n/X+4);for(oe=!1;;){if(r%2&&(s=s.times(t),tg(s.d,i)&&(o=!0)),r=Ke(r/2),r===0){r=s.d.length-1,o&&s.d[r]===0&&++s.d[r];break}t=t.times(t),tg(t.d,i)}return oe=!0,s}function eg(e){return e.d[e.d.length-1]&1}function hg(e,t,r){for(var n,o=new e(t[0]),s=0;++s<t.length;)if(n=new e(t[s]),n.s)o[r](n)&&(o=n);else{o=n;break}return o}function cl(e,t){var r,n,o,s,i,a,c,l=0,u=0,f=0,p=e.constructor,w=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(oe=!1,c=m):c=t,a=new p(.03125);e.e>-2;)e=e.times(a),f+=5;for(n=Math.log(Ue(2,f))/Math.LN10*2+5|0,c+=n,r=s=i=new p(1),p.precision=c;;){if(s=z(s.times(e),c,1),r=r.times(++u),a=i.plus(Se(s,r,c,1)),We(a.d).slice(0,c)===We(i.d).slice(0,c)){for(o=f;o--;)i=z(i.times(i),c,1);if(t==null)if(l<3&&Go(i.d,c-n,w,l))p.precision=c+=10,r=s=a=new p(1),u=0,l++;else return z(i,p.precision=m,w,oe=!0);else return p.precision=m,i}i=a}}function Ar(e,t){var r,n,o,s,i,a,c,l,u,f,p,w=1,m=10,h=e,y=h.d,v=h.constructor,_=v.rounding,E=v.precision;if(h.s<0||!y||!y[0]||!h.e&&y[0]==1&&y.length==1)return new v(y&&!y[0]?-1/0:h.s!=1?NaN:y?0:h);if(t==null?(oe=!1,u=E):u=t,v.precision=u+=m,r=We(y),n=r.charAt(0),Math.abs(s=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=We(h.d),n=r.charAt(0),w++;s=h.e,n>1?(h=new v("0."+r),s++):h=new v(n+"."+r.slice(1))}else return l=Pi(v,u+2,E).times(s+""),h=Ar(new v(n+"."+r.slice(1)),u-m).plus(l),v.precision=E,t==null?z(h,E,_,oe=!0):h;for(f=h,c=i=h=Se(h.minus(1),h.plus(1),u,1),p=z(h.times(h),u,1),o=3;;){if(i=z(i.times(p),u,1),l=c.plus(Se(i,new v(o),u,1)),We(l.d).slice(0,u)===We(c.d).slice(0,u))if(c=c.times(2),s!==0&&(c=c.plus(Pi(v,u+2,E).times(s+""))),c=Se(c,new v(w),u,1),t==null)if(Go(c.d,u-m,_,a))v.precision=u+=m,l=i=h=Se(f.minus(1),f.plus(1),u,1),p=z(h.times(h),u,1),o=a=1;else return z(c,v.precision=E,_,oe=!0);else return v.precision=E,c;c=l,o+=2}}function pg(e){return String(e.s*e.s/0)}function ul(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(o=t.length;t.charCodeAt(o-1)===48;--o);if(t=t.slice(n,o),t){if(o-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%X,r<0&&(n+=X),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=X;n<o;)e.d.push(+t.slice(n,n+=X));t=t.slice(n),n=X-t.length}else n-=o;for(;n--;)t+="0";e.d.push(+t),oe&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function I3(e,t){var r,n,o,s,i,a,c,l,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),lg.test(t))return ul(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(x3.test(t))r=16,t=t.toLowerCase();else if(R3.test(t))r=2;else if(T3.test(t))r=8;else throw Error(Rr+t);for(s=t.search(/p/i),s>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),i=s>=0,n=e.constructor,i&&(t=t.replace(".",""),a=t.length,s=a-s,o=fg(n,new n(r),s,s*2)),l=Ri(t,r,Nt),u=l.length-1,s=u;l[s]===0;--s)l.pop();return s<0?new n(e.s*0):(e.e=ki(l,u),e.d=l,oe=!1,i&&(e=Se(e,o,a*4)),c&&(e=e.times(Math.abs(c)<54?Ue(2,c):zo.pow(2,c))),oe=!0,e)}function O3(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:On(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Ii(5,r)),t=On(e,2,t,t);for(var o,s=new e(5),i=new e(16),a=new e(20);r--;)o=t.times(t),t=t.times(s.plus(o.times(i.times(o).minus(a))));return t}function On(e,t,r,n,o){var s,i,a,c,l=1,u=e.precision,f=Math.ceil(u/X);for(oe=!1,c=r.times(r),a=new e(n);;){if(i=Se(a.times(c),new e(t++*t++),u,1),a=o?n.plus(i):n.minus(i),n=Se(i.times(c),new e(t++*t++),u,1),i=a.plus(n),i.d[f]!==void 0){for(s=f;i.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=n,n=i,i=s,l++}return oe=!0,i.d.length=f+1,i}function Ii(e,t){for(var r=e;--t;)r*=e;return r}function mg(e,t){var r,n=t.s<0,o=Ot(e,e.precision,1),s=o.times(.5);if(t=t.abs(),t.lte(s))return cr=n?4:1,t;if(r=t.divToInt(o),r.isZero())cr=n?3:2;else{if(t=t.minus(r.times(o)),t.lte(s))return cr=eg(r)?n?2:3:n?4:1,t;cr=eg(r)?n?1:4:n?3:2}return t.minus(o).abs()}function hl(e,t,r,n){var o,s,i,a,c,l,u,f,p,w=e.constructor,m=r!==void 0;if(m?(Ze(r,1,xr),n===void 0?n=w.rounding:Ze(n,0,8)):(r=w.precision,n=w.rounding),!e.isFinite())u=pg(e);else{for(u=qt(e),i=u.indexOf("."),m?(o=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):o=t,i>=0&&(u=u.replace(".",""),p=new w(1),p.e=u.length-i,p.d=Ri(qt(p),10,o),p.e=p.d.length),f=Ri(u,10,o),s=c=f.length;f[--c]==0;)f.pop();if(!f[0])u=m?"0p+0":"0";else{if(i<0?s--:(e=new w(e),e.d=f,e.e=s,e=Se(e,p,r,n,0,o),f=e.d,s=e.e,l=ig),i=f[r],a=o/2,l=l||f[r+1]!==void 0,l=n<4?(i!==void 0||l)&&(n===0||n===(e.s<0?3:2)):i>a||i===a&&(n===4||l||n===6&&f[r-1]&1||n===(e.s<0?8:7)),f.length=r,l)for(;++f[--r]>o-1;)f[r]=0,r||(++s,f.unshift(1));for(c=f.length;!f[c-1];--c);for(i=0,u="";i<c;i++)u+=sl.charAt(f[i]);if(m){if(c>1)if(t==16||t==8){for(i=t==16?4:3,--c;c%i;c++)u+="0";for(f=Ri(u,o,t),c=f.length;!f[c-1];--c);for(i=1,u="1.";i<c;i++)u+=sl.charAt(f[i])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>c)for(s-=c;s--;)u+="0";else s<c&&(u=u.slice(0,s)+"."+u.slice(s))}u=(t==16?"0x":t==2?"0b":t==8?"0o":"")+u}return e.s<0?"-"+u:u}function tg(e,t){if(e.length>t)return e.length=t,!0}function N3(e){return new this(e).abs()}function D3(e){return new this(e).acos()}function U3(e){return new this(e).acosh()}function L3(e,t){return new this(e).plus(t)}function M3(e){return new this(e).asin()}function j3(e){return new this(e).asinh()}function B3(e){return new this(e).atan()}function $3(e){return new this(e).atanh()}function H3(e,t){e=new this(e),t=new this(t);var r,n=this.precision,o=this.rounding,s=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Ot(this,s,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Ot(this,n,o):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Ot(this,s,1).times(.5),r.s=e.s):t.s<0?(this.precision=s,this.rounding=1,r=this.atan(Se(e,t,s,1)),t=Ot(this,s,1),this.precision=n,this.rounding=o,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Se(e,t,s,1)),r}function q3(e){return new this(e).cbrt()}function W3(e){return z(e=new this(e),e.e+1,2)}function F3(e,t,r){return new this(e).clamp(t,r)}function K3(e){if(!e||typeof e!="object")throw Error(Ci+"Object expected");var t,r,n,o=e.defaults===!0,s=["precision",1,xr,"rounding",0,8,"toExpNeg",-In,0,"toExpPos",0,In,"maxE",0,In,"minE",-In,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],o&&(this[r]=il[r]),(n=e[r])!==void 0)if(Ke(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Rr+r+": "+n);if(r="crypto",o&&(this[r]=il[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(cg);else this[r]=!1;else throw Error(Rr+r+": "+n);return this}function J3(e){return new this(e).cos()}function G3(e){return new this(e).cosh()}function yg(e){var t,r,n;function o(s){var i,a,c,l=this;if(!(l instanceof o))return new o(s);if(l.constructor=o,rg(s)){l.s=s.s,oe?!s.d||s.e>o.maxE?(l.e=NaN,l.d=null):s.e<o.minE?(l.e=0,l.d=[0]):(l.e=s.e,l.d=s.d.slice()):(l.e=s.e,l.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){l.s=1/s<0?-1:1,l.e=0,l.d=[0];return}if(s<0?(s=-s,l.s=-1):l.s=1,s===~~s&&s<1e7){for(i=0,a=s;a>=10;a/=10)i++;oe?i>o.maxE?(l.e=NaN,l.d=null):i<o.minE?(l.e=0,l.d=[0]):(l.e=i,l.d=[s]):(l.e=i,l.d=[s]);return}else if(s*0!==0){s||(l.s=NaN),l.e=NaN,l.d=null;return}return ul(l,s.toString())}else if(c!=="string")throw Error(Rr+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),l.s=-1):(a===43&&(s=s.slice(1)),l.s=1),lg.test(s)?ul(l,s):I3(l,s)}if(o.prototype=j,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=K3,o.clone=yg,o.isDecimal=rg,o.abs=N3,o.acos=D3,o.acosh=U3,o.add=L3,o.asin=M3,o.asinh=j3,o.atan=B3,o.atanh=$3,o.atan2=H3,o.cbrt=q3,o.ceil=W3,o.clamp=F3,o.cos=J3,o.cosh=G3,o.div=z3,o.exp=V3,o.floor=Y3,o.hypot=Q3,o.ln=X3,o.log=Z3,o.log10=t5,o.log2=e5,o.max=r5,o.min=n5,o.mod=o5,o.mul=s5,o.pow=i5,o.random=a5,o.round=c5,o.sign=u5,o.sin=l5,o.sinh=d5,o.sqrt=f5,o.sub=h5,o.sum=p5,o.tan=m5,o.tanh=y5,o.trunc=g5,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return o.config(e),o}function z3(e,t){return new this(e).div(t)}function V3(e){return new this(e).exp()}function Y3(e){return z(e=new this(e),e.e+1,3)}function Q3(){var e,t,r=new this(0);for(oe=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return oe=!0,new this(1/0);r=t}return oe=!0,r.sqrt()}function rg(e){return e instanceof zo||e&&e.toStringTag===ug||!1}function X3(e){return new this(e).ln()}function Z3(e,t){return new this(e).log(t)}function e5(e){return new this(e).log(2)}function t5(e){return new this(e).log(10)}function r5(){return hg(this,arguments,"lt")}function n5(){return hg(this,arguments,"gt")}function o5(e,t){return new this(e).mod(t)}function s5(e,t){return new this(e).mul(t)}function i5(e,t){return new this(e).pow(t)}function a5(e){var t,r,n,o,s=0,i=new this(1),a=[];if(e===void 0?e=this.precision:Ze(e,1,xr),n=Math.ceil(e/X),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));s<n;)o=t[s],o>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=o%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);s<n;)o=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),o>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(o%1e7),s+=4);s=n/4}else throw Error(cg);else for(;s<n;)a[s++]=Math.random()*1e7|0;for(n=a[--s],e%=X,n&&e&&(o=Ue(10,X-e),a[s]=(n/o|0)*o);a[s]===0;s--)a.pop();if(s<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=X)a.shift();for(n=1,o=a[0];o>=10;o/=10)n++;n<X&&(r-=X-n)}return i.e=r,i.d=a,i}function c5(e){return z(e=new this(e),e.e+1,this.rounding)}function u5(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function l5(e){return new this(e).sin()}function d5(e){return new this(e).sinh()}function f5(e){return new this(e).sqrt()}function h5(e,t){return new this(e).sub(t)}function p5(){var e=0,t=arguments,r=new this(t[e]);for(oe=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return oe=!0,z(r,this.precision,this.rounding)}function m5(e){return new this(e).tan()}function y5(e){return new this(e).tanh()}function g5(e){return z(e=new this(e),e.e+1,1)}j[Symbol.for("nodejs.util.inspect.custom")]=j.toString;j[Symbol.toStringTag]="Decimal";var zo=j.constructor=yg(il);xi=new zo(xi);Ti=new zo(Ti);var w5=zo;});var bg=q(Le=>{Object.defineProperty(Le,"__esModule",{value:!0});var{Decimal:b5,objectEnumValues:Nn,makeStrictEnum:_5,Public:v5,getRuntime:ft,skip:wk}=wg(),Re={};Le.Prisma=Re;Le.$Enums={};Re.prismaVersion={client:"6.3.1",engine:"acc0b9dd43eb689cbd20c9470515d719db10d0b0"};Re.PrismaClientKnownRequestError=()=>{let e=ft().prettyName;throw new Error(`PrismaClientKnownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.PrismaClientUnknownRequestError=()=>{let e=ft().prettyName;throw new Error(`PrismaClientUnknownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.PrismaClientRustPanicError=()=>{let e=ft().prettyName;throw new Error(`PrismaClientRustPanicError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.PrismaClientInitializationError=()=>{let e=ft().prettyName;throw new Error(`PrismaClientInitializationError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.PrismaClientValidationError=()=>{let e=ft().prettyName;throw new Error(`PrismaClientValidationError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.Decimal=b5;Re.sql=()=>{let e=ft().prettyName;throw new Error(`sqltag is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.empty=()=>{let e=ft().prettyName;throw new Error(`empty is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.join=()=>{let e=ft().prettyName;throw new Error(`join is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.raw=()=>{let e=ft().prettyName;throw new Error(`raw is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.validator=v5.validator;Re.getExtensionContext=()=>{let e=ft().prettyName;throw new Error(`Extensions.getExtensionContext is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.defineExtension=()=>{let e=ft().prettyName;throw new Error(`Extensions.defineExtension is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)};Re.DbNull=Nn.instances.DbNull;Re.JsonNull=Nn.instances.JsonNull;Re.AnyNull=Nn.instances.AnyNull;Re.NullTypes={DbNull:Nn.classes.DbNull,JsonNull:Nn.classes.JsonNull,AnyNull:Nn.classes.AnyNull};Le.Prisma.TransactionIsolationLevel=_5({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"});Le.Prisma.ProductScalarFieldEnum={id:"id",name:"name",slug:"slug",category:"category",images:"images",brand:"brand",description:"description",stock:"stock",price:"price",rating:"rating",numReviews:"numReviews",isFeatured:"isFeatured",banner:"banner",createdAt:"createdAt"};Le.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",password:"password",role:"role",address:"address",paymentMethod:"paymentMethod",createdAt:"createdAt",updatedAt:"updatedAt"};Le.Prisma.AccountScalarFieldEnum={userId:"userId",type:"type",provider:"provider",providerAccountId:"providerAccountId",refresh_token:"refresh_token",access_token:"access_token",expires_at:"expires_at",token_type:"token_type",scope:"scope",id_token:"id_token",session_state:"session_state",createdAt:"createdAt",updatedAt:"updatedAt"};Le.Prisma.SessionScalarFieldEnum={sessionToken:"sessionToken",userId:"userId",expires:"expires",createdAt:"createdAt",updatedAt:"updatedAt"};Le.Prisma.VerificationTokenScalarFieldEnum={identifier:"identifier",token:"token",expires:"expires"};Le.Prisma.CartScalarFieldEnum={id:"id",userId:"userId",sessionCartId:"sessionCartId",items:"items",itemsPrice:"itemsPrice",totalPrice:"totalPrice",shippingPrice:"shippingPrice",taxPrice:"taxPrice",createdAt:"createdAt"};Le.Prisma.SortOrder={asc:"asc",desc:"desc"};Le.Prisma.NullableJsonNullValueInput={DbNull:Re.DbNull,JsonNull:Re.JsonNull};Le.Prisma.QueryMode={default:"default",insensitive:"insensitive"};Le.Prisma.NullsOrder={first:"first",last:"last"};Le.Prisma.JsonNullValueFilter={DbNull:Re.DbNull,JsonNull:Re.JsonNull,AnyNull:Re.AnyNull};Le.Prisma.ModelName={Product:"Product",User:"User",Account:"Account",Session:"Session",VerificationToken:"VerificationToken",Cart:"Cart"};var pl=class{constructor(){return new Proxy(this,{get(t,r){let n,o=ft();throw o.isEdge?n=`PrismaClient is not configured to run in ${o.prettyName}. In order to run Prisma Client on edge runtime, either:
- Use Prisma Accelerate: https://pris.ly/d/accelerate
- Use Driver Adapters: https://pris.ly/d/driver-adapters
`:n="PrismaClient is unable to run in this browser environment, or has been bundled for the browser (running in `"+o.prettyName+"`).",n+=`
If this is unexpected, please open an issue: https://pris.ly/prisma-prisma-bug-report`,new Error(n)}})}};Le.PrismaClient=pl;Object.assign(Le,Re)});var vg=q((_k,_g)=>{var E5=bg();_g.exports=E5});var Sg=q((vk,Eg)=>{"use strict";Eg.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var bl=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},Ge=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Bn,zt,Jr,Zo,_l,Li;function Hn(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:60*15}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:60*15}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:60*15}}}}var $n=class{constructor(t,r,n){if(Bn.add(this),zt.set(this,{}),Jr.set(this,void 0),Zo.set(this,void 0),bl(this,Zo,n,"f"),bl(this,Jr,t,"f"),!r)return;let{name:o}=t;for(let[s,i]of Object.entries(r))!s.startsWith(o)||!i||(Ge(this,zt,"f")[s]=i)}get value(){return Object.keys(Ge(this,zt,"f")).sort((r,n)=>{let o=parseInt(r.split(".").pop()||"0"),s=parseInt(n.split(".").pop()||"0");return o-s}).map(r=>Ge(this,zt,"f")[r]).join("")}chunk(t,r){let n=Ge(this,Bn,"m",Li).call(this),o=Ge(this,Bn,"m",_l).call(this,{name:Ge(this,Jr,"f").name,value:t,options:{...Ge(this,Jr,"f").options,...r}});for(let s of o)n[s.name]=s;return Object.values(n)}clean(){return Object.values(Ge(this,Bn,"m",Li).call(this))}};zt=new WeakMap,Jr=new WeakMap,Zo=new WeakMap,Bn=new WeakSet,_l=function(t){let r=Math.ceil(t.value.length/3936);if(r===1)return Ge(this,zt,"f")[t.name]=t.value,[t];let n=[];for(let o=0;o<r;o++){let s=`${t.name}.${o}`,i=t.value.substr(o*3936,3936);n.push({...t,name:s,value:i}),Ge(this,zt,"f")[s]=i}return Ge(this,Zo,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:t.value.length,chunks:n.map(o=>o.value.length+160)}),n},Li=function(){let t={};for(let r in Ge(this,zt,"f"))delete Ge(this,zt,"f")?.[r],t[r]={name:r,value:"",options:{...Ge(this,Jr,"f").options,maxAge:0}};return t};var te=class extends Error{constructor(t,r){t instanceof Error?super(void 0,{cause:{err:t,...t.cause,...r}}):typeof t=="string"?(r instanceof Error&&(r={err:r,...r.cause}),super(t,r)):super(void 0,t),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let n=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${n}`}},Ut=class extends te{};Ut.kind="signIn";var Cr=class extends te{};Cr.type="AdapterError";var Vt=class extends te{};Vt.type="AccessDenied";var qn=class extends te{};qn.type="CallbackRouteError";var Wn=class extends te{};Wn.type="ErrorPageLoop";var Fn=class extends te{};Fn.type="EventError";var Gr=class extends te{};Gr.type="InvalidCallbackUrl";var dr=class extends Ut{constructor(){super(...arguments),this.code="credentials"}};dr.type="CredentialsSignin";var Kn=class extends te{};Kn.type="InvalidEndpoints";var Yt=class extends te{};Yt.type="InvalidCheck";var Jn=class extends te{};Jn.type="JWTSessionError";var Qt=class extends te{};Qt.type="MissingAdapter";var Gn=class extends te{};Gn.type="MissingAdapterMethods";var zn=class extends te{};zn.type="MissingAuthorize";var zr=class extends te{};zr.type="MissingSecret";var Vr=class extends Ut{};Vr.type="OAuthAccountNotLinked";var Vn=class extends Ut{};Vn.type="OAuthCallbackError";var Yn=class extends te{};Yn.type="OAuthProfileParseError";var Qn=class extends te{};Qn.type="SessionTokenError";var Mi=class extends Ut{};Mi.type="OAuthSignInError";var ji=class extends Ut{};ji.type="EmailSignInError";var Xn=class extends te{};Xn.type="SignOutError";var rt=class extends te{};rt.type="UnknownAction";var Zn=class extends te{};Zn.type="UnsupportedStrategy";var fr=class extends te{};fr.type="InvalidProvider";var eo=class extends te{};eo.type="UntrustedHost";var to=class extends te{};to.type="Verification";var ro=class extends Ut{};ro.type="MissingCSRF";var $g=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);function vl(e){return e instanceof te?$g.has(e.type):!1}var no=class extends te{};no.type="DuplicateConditionalUI";var oo=class extends te{};oo.type="MissingWebAuthnAutocomplete";var hr=class extends te{};hr.type="WebAuthnVerificationError";var Yr=class extends Ut{};Yr.type="AccountNotLinked";var so=class extends te{};so.type="ExperimentalFeatureNotEnabled";var Bi=!1;function El(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}function Hg(e){return/^v\d+(?:\.\d+){0,2}$/.test(e)}var Sl=!1,$i=!1,Al=!1,qg=["createVerificationToken","useVerificationToken","getUserByEmail"],Wg=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],Fg=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];function Rl(e,t){let{url:r}=e,n=[];if(!Bi&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new eo(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new zr("Please define a `secret`");let o=e.query?.callbackUrl;if(o&&!El(o,r.origin))return new Gr(`Invalid callback URL. Received: ${o}`);let{callbackUrl:s}=Hn(t.useSecureCookies??r.protocol==="https:"),i=e.cookies?.[t.cookies?.callbackUrl?.name??s.name];if(i&&!El(i,r.origin))return new Gr(`Invalid callback URL. Received: ${i}`);let a=!1;for(let f of t.providers){let p=typeof f=="function"?f():f;if((p.type==="oauth"||p.type==="oidc")&&!(p.issuer??p.options?.issuer)){let{authorization:w,token:m,userinfo:h}=p,y;if(typeof w!="string"&&!w?.url?y="authorization":typeof m!="string"&&!m?.url?y="token":typeof h!="string"&&!h?.url&&(y="userinfo"),y)return new Kn(`Provider "${p.id}" is missing both \`issuer\` and \`${y}\` endpoint config. At least one of them is required`)}if(p.type==="credentials")Sl=!0;else if(p.type==="email")$i=!0;else if(p.type==="webauthn"){if(Al=!0,p.simpleWebAuthnBrowserVersion&&!Hg(p.simpleWebAuthnBrowserVersion))return new te(`Invalid provider config for "${p.id}": simpleWebAuthnBrowserVersion "${p.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(p.enableConditionalUI){if(a)return new no("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(a=!0,!Object.values(p.formFields).some(m=>m.autocomplete&&m.autocomplete.toString().indexOf("webauthn")>-1))return new oo(`Provider "${p.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(Sl){let f=t.session?.strategy==="database",p=!t.providers.some(m=>(typeof m=="function"?m():m).type!=="credentials");if(f&&p)return new Zn("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(m=>{let h=typeof m=="function"?m():m;return h.type==="credentials"&&!h.authorize}))return new zn("Must define an authorize() handler to use credentials authentication provider")}let{adapter:c,session:l}=t,u=[];if($i||l?.strategy==="database"||!l?.strategy&&c)if($i){if(!c)return new Qt("Email login requires an adapter");u.push(...qg)}else{if(!c)return new Qt("Database session requires an adapter");u.push(...Wg)}if(Al){if(t.experimental?.enableWebAuthn)n.push("experimental-webauthn");else return new so("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(!c)return new Qt("WebAuthn requires an adapter");u.push(...Fg)}if(c){let f=u.filter(p=>!(p in c));if(f.length)return new Gn(`Required adapter methods were missing: ${f.join(", ")}`)}return Bi||(Bi=!0),n}var Kg=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw new Error("unable to locate global object")},xl=async(e,t,r,n,o)=>{let{crypto:{subtle:s}}=Kg();return new Uint8Array(await s.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:r,info:n},await s.importKey("raw",t,"HKDF",!1,["deriveBits"]),o<<3))};function Jg(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw new TypeError('unsupported "digest" value')}}function Hi(e,t){if(typeof e=="string")return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw new TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}function Gg(e){let t=Hi(e,"ikm");if(!t.byteLength)throw new TypeError('"ikm" must be at least one byte in length');return t}function zg(e){let t=Hi(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}function Vg(e,t){if(typeof e!="number"||!Number.isInteger(e)||e<1)throw new TypeError('"keylen" must be a positive integer');let r=parseInt(t.substr(3),10)>>3||20;if(e>255*r)throw new TypeError('"keylen" too large');return e}async function Tl(e,t,r,n,o){return xl(Jg(e),Gg(t),Hi(r,"salt"),zg(n),Vg(o,e))}var se=crypto,ke=e=>e instanceof CryptoKey;var Yg=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await se.subtle.digest(r,t))},es=Yg;var Me=new TextEncoder,ct=new TextDecoder,ts=2**32;function nt(...e){let t=e.reduce((o,{length:s})=>o+s,0),r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function Pl(e,t){return nt(Me.encode(e),new Uint8Array([0]),t)}function qi(e,t,r){if(t<0||t>=ts)throw new RangeError(`value must be >= 0 and <= ${ts-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,t&255],r)}function rs(e){let t=Math.floor(e/ts),r=e%ts,n=new Uint8Array(8);return qi(n,t,0),qi(n,r,4),n}function ns(e){let t=new Uint8Array(4);return qi(t,e),t}function os(e){return nt(ns(e.length),e)}async function Cl(e,t,r){let n=Math.ceil((t>>3)/32),o=new Uint8Array(n*32);for(let s=0;s<n;s++){let i=new Uint8Array(4+e.length+r.length);i.set(ns(s+1)),i.set(e,4),i.set(r,4+e.length),o.set(await es("sha256",i),s*32)}return o.slice(0,t>>3)}var Qg=e=>{let t=e;typeof t=="string"&&(t=Me.encode(t));let r=32768,n=[];for(let o=0;o<t.length;o+=r)n.push(String.fromCharCode.apply(null,t.subarray(o,o+r)));return btoa(n.join(""))},Te=e=>Qg(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),Xg=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},Pe=e=>{let t=e;t instanceof Uint8Array&&(t=ct.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Xg(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};var qe=class extends Error{constructor(t,r){super(t,r),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}};qe.code="ERR_JOSE_GENERIC";var je=class extends qe{constructor(t,r,n="unspecified",o="unspecified"){super(t,{cause:{claim:n,reason:o,payload:r}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=o,this.payload=r}};je.code="ERR_JWT_CLAIM_VALIDATION_FAILED";var Qr=class extends qe{constructor(t,r,n="unspecified",o="unspecified"){super(t,{cause:{claim:n,reason:o,payload:r}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=o,this.payload=r}};Qr.code="ERR_JWT_EXPIRED";var Xr=class extends qe{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}};Xr.code="ERR_JOSE_ALG_NOT_ALLOWED";var he=class extends qe{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}};he.code="ERR_JOSE_NOT_SUPPORTED";var kr=class extends qe{constructor(t="decryption operation failed",r){super(t,r),this.code="ERR_JWE_DECRYPTION_FAILED"}};kr.code="ERR_JWE_DECRYPTION_FAILED";var J=class extends qe{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}};J.code="ERR_JWE_INVALID";var Wi=class extends qe{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}};Wi.code="ERR_JWS_INVALID";var ot=class extends qe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}};ot.code="ERR_JWT_INVALID";var io=class extends qe{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}};io.code="ERR_JWK_INVALID";var Fi=class extends qe{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}};Fi.code="ERR_JWKS_INVALID";var Ki=class extends qe{constructor(t="no applicable key found in the JSON Web Key Set",r){super(t,r),this.code="ERR_JWKS_NO_MATCHING_KEY"}};Ki.code="ERR_JWKS_NO_MATCHING_KEY";var Ji=class extends qe{constructor(t="multiple matching keys found in the JSON Web Key Set",r){super(t,r),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};Ji.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var Gi=class extends qe{constructor(t="request timed out",r){super(t,r),this.code="ERR_JWKS_TIMEOUT"}};Gi.code="ERR_JWKS_TIMEOUT";var zi=class extends qe{constructor(t="signature verification failed",r){super(t,r),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}};zi.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";var Zr=se.getRandomValues.bind(se);function Vi(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new he(`Unsupported JWE Algorithm: ${e}`)}}var kl=e=>Zr(new Uint8Array(Vi(e)>>3));var t0=(e,t)=>{if(t.length<<3!==Vi(e))throw new J("Invalid Initialization Vector length")},ss=t0;var r0=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new J(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},en=r0;var n0=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");let r=e.length,n=0,o=-1;for(;++o<r;)n|=e[o]^t[o];return n===0},Il=n0;function pr(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function is(e,t){return e.name===t}function o0(e){return parseInt(e.name.slice(4),10)}function s0(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let n=t.pop();r+=`one of ${t.join(", ")}, or ${n}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw new TypeError(r)}}function ze(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!is(e.algorithm,"AES-GCM"))throw pr("AES-GCM");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw pr(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!is(e.algorithm,"AES-KW"))throw pr("AES-KW");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw pr(n,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw pr("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!is(e.algorithm,"PBKDF2"))throw pr("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!is(e.algorithm,"RSA-OAEP"))throw pr("RSA-OAEP");let n=parseInt(t.slice(9),10)||1;if(o0(e.algorithm.hash)!==n)throw pr(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}s0(e,r)}function Ol(e,t,...r){if(r=r.filter(Boolean),r.length>2){let n=r.pop();e+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}var Ie=(e,...t)=>Ol("Key must be ",e,...t);function Yi(e,t,...r){return Ol(`Key for the ${e} algorithm must be `,t,...r)}var Qi=e=>ke(e)?!0:e?.[Symbol.toStringTag]==="KeyObject",Ce=["CryptoKey"];async function i0(e,t,r,n,o,s){if(!(t instanceof Uint8Array))throw new TypeError(Ie(t,"Uint8Array"));let i=parseInt(e.slice(1,4),10),a=await se.subtle.importKey("raw",t.subarray(i>>3),"AES-CBC",!1,["decrypt"]),c=await se.subtle.importKey("raw",t.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=nt(s,n,r,rs(s.length<<3)),u=new Uint8Array((await se.subtle.sign("HMAC",c,l)).slice(0,i>>3)),f;try{f=Il(o,u)}catch{}if(!f)throw new kr;let p;try{p=new Uint8Array(await se.subtle.decrypt({iv:n,name:"AES-CBC"},a,r))}catch{}if(!p)throw new kr;return p}async function a0(e,t,r,n,o,s){let i;t instanceof Uint8Array?i=await se.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(ze(t,e,"decrypt"),i=t);try{return new Uint8Array(await se.subtle.decrypt({additionalData:s,iv:n,name:"AES-GCM",tagLength:128},i,nt(r,o)))}catch{throw new kr}}var c0=async(e,t,r,n,o,s)=>{if(!ke(t)&&!(t instanceof Uint8Array))throw new TypeError(Ie(t,...Ce,"Uint8Array"));if(!n)throw new J("JWE Initialization Vector missing");if(!o)throw new J("JWE Authentication Tag missing");switch(ss(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&en(t,parseInt(e.slice(-3),10)),i0(e,t,r,n,o,s);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&en(t,parseInt(e.slice(1,4),10)),a0(e,t,r,n,o,s);default:throw new he("Unsupported JWE Content Encryption Algorithm")}},as=c0;var u0=(...e)=>{let t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(let n of t){let o=Object.keys(n);if(!r||r.size===0){r=new Set(o);continue}for(let s of o){if(r.has(s))return!1;r.add(s)}}return!0},cs=u0;function l0(e){return typeof e=="object"&&e!==null}function Ne(e){if(!l0(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var d0=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]],tn=d0;function Nl(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function Dl(e,t,r){if(ke(e))return ze(e,t,r),e;if(e instanceof Uint8Array)return se.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw new TypeError(Ie(e,...Ce,"Uint8Array"))}var ao=async(e,t,r)=>{let n=await Dl(t,e,"wrapKey");Nl(n,e);let o=await se.subtle.importKey("raw",r,...tn);return new Uint8Array(await se.subtle.wrapKey("raw",o,n,"AES-KW"))},co=async(e,t,r)=>{let n=await Dl(t,e,"unwrapKey");Nl(n,e);let o=await se.subtle.unwrapKey("raw",r,n,"AES-KW",...tn);return new Uint8Array(await se.subtle.exportKey("raw",o))};async function us(e,t,r,n,o=new Uint8Array(0),s=new Uint8Array(0)){if(!ke(e))throw new TypeError(Ie(e,...Ce));if(ze(e,"ECDH"),!ke(t))throw new TypeError(Ie(t,...Ce));ze(t,"ECDH","deriveBits");let i=nt(os(Me.encode(r)),os(o),os(s),ns(n)),a;e.algorithm.name==="X25519"?a=256:e.algorithm.name==="X448"?a=448:a=Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;let c=new Uint8Array(await se.subtle.deriveBits({name:e.algorithm.name,public:e},t,a));return Cl(c,n,i)}async function Ul(e){if(!ke(e))throw new TypeError(Ie(e,...Ce));return se.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function ls(e){if(!ke(e))throw new TypeError(Ie(e,...Ce));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||e.algorithm.name==="X25519"||e.algorithm.name==="X448"}function Xi(e){if(!(e instanceof Uint8Array)||e.length<8)throw new J("PBES2 Salt Input must be 8 or more octets")}function f0(e,t){if(e instanceof Uint8Array)return se.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(ke(e))return ze(e,t,"deriveBits","deriveKey"),e;throw new TypeError(Ie(e,...Ce,"Uint8Array"))}async function Ml(e,t,r,n){Xi(e);let o=Pl(t,e),s=parseInt(t.slice(13,16),10),i={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:o},a={length:s,name:"AES-KW"},c=await f0(n,t);if(c.usages.includes("deriveBits"))return new Uint8Array(await se.subtle.deriveBits(i,c,s));if(c.usages.includes("deriveKey"))return se.subtle.deriveKey(i,c,a,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}var jl=async(e,t,r,n=2048,o=Zr(new Uint8Array(16)))=>{let s=await Ml(o,e,n,t);return{encryptedKey:await ao(e.slice(-6),s,r),p2c:n,p2s:Te(o)}},Bl=async(e,t,r,n,o)=>{let s=await Ml(o,e,n,t);return co(e.slice(-6),s,r)};function rn(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new he(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var Zi=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};var $l=async(e,t,r)=>{if(!ke(t))throw new TypeError(Ie(t,...Ce));if(ze(t,e,"encrypt","wrapKey"),Zi(e,t),t.usages.includes("encrypt"))return new Uint8Array(await se.subtle.encrypt(rn(e),t,r));if(t.usages.includes("wrapKey")){let n=await se.subtle.importKey("raw",r,...tn);return new Uint8Array(await se.subtle.wrapKey("raw",n,t,rn(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},Hl=async(e,t,r)=>{if(!ke(t))throw new TypeError(Ie(t,...Ce));if(ze(t,e,"decrypt","unwrapKey"),Zi(e,t),t.usages.includes("decrypt"))return new Uint8Array(await se.subtle.decrypt(rn(e),t,r));if(t.usages.includes("unwrapKey")){let n=await se.subtle.unwrapKey("raw",r,t,rn(e),...tn);return new Uint8Array(await se.subtle.exportKey("raw",n))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function Ir(e){return Ne(e)&&typeof e.kty=="string"}function ql(e){return e.kty!=="oct"&&typeof e.d=="string"}function Wl(e){return e.kty!=="oct"&&typeof e.d>"u"}function Fl(e){return Ir(e)&&e.kty==="oct"&&typeof e.k=="string"}function p0(e){let t,r;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new he('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new he('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new he('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new he('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}var m0=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=p0(e),n=[t,e.ext??!1,e.key_ops??r],o={...e};return delete o.alg,delete o.use,se.subtle.importKey("jwk",o,...n)},ds=m0;var Kl=e=>Pe(e),nn,on,Jl=e=>e?.[Symbol.toStringTag]==="KeyObject",fs=async(e,t,r,n,o=!1)=>{let s=e.get(t);if(s?.[n])return s[n];let i=await ds({...r,alg:n});return o&&Object.freeze(t),s?s[n]=i:e.set(t,{[n]:i}),i},y0=(e,t)=>{if(Jl(e)){let r=e.export({format:"jwk"});return delete r.d,delete r.dp,delete r.dq,delete r.p,delete r.q,delete r.qi,r.k?Kl(r.k):(on||(on=new WeakMap),fs(on,e,r,t))}return Ir(e)?e.k?Pe(e.k):(on||(on=new WeakMap),fs(on,e,e,t,!0)):e},g0=(e,t)=>{if(Jl(e)){let r=e.export({format:"jwk"});return r.k?Kl(r.k):(nn||(nn=new WeakMap),fs(nn,e,r,t))}return Ir(e)?e.k?Pe(e.k):(nn||(nn=new WeakMap),fs(nn,e,e,t,!0)):e},hs={normalizePublicKey:y0,normalizePrivateKey:g0};function uo(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new he(`Unsupported JWE Algorithm: ${e}`)}}var mr=e=>Zr(new Uint8Array(uo(e)>>3));async function Gl(e,t){if(!Ne(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Pe(e.k);case"RSA":if(e.oth!==void 0)throw new he('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return ds({...e,alg:t});default:throw new he('Unsupported "kty" (Key Type) Parameter value')}}var sn=e=>e?.[Symbol.toStringTag],ea=(e,t,r)=>{if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&t.key_ops.includes?.(r)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},w0=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&Ir(t)){if(Fl(t)&&ea(e,t,r))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Qi(t))throw new TypeError(Yi(e,t,...Ce,"Uint8Array",n?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${sn(t)} instances for symmetric algorithms must be of type "secret"`)}},b0=(e,t,r,n)=>{if(n&&Ir(t))switch(r){case"sign":if(ql(t)&&ea(e,t,r))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(Wl(t)&&ea(e,t,r))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Qi(t))throw new TypeError(Yi(e,t,...Ce,n?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${sn(t)} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&t.type==="public")throw new TypeError(`${sn(t)} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&t.type==="public")throw new TypeError(`${sn(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&r==="verify"&&t.type==="private")throw new TypeError(`${sn(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&r==="encrypt"&&t.type==="private")throw new TypeError(`${sn(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function zl(e,t,r,n){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?w0(t,r,n,e):b0(t,r,n,e)}var ps=zl.bind(void 0,!1),R4=zl.bind(void 0,!0);async function _0(e,t,r,n,o){if(!(r instanceof Uint8Array))throw new TypeError(Ie(r,"Uint8Array"));let s=parseInt(e.slice(1,4),10),i=await se.subtle.importKey("raw",r.subarray(s>>3),"AES-CBC",!1,["encrypt"]),a=await se.subtle.importKey("raw",r.subarray(0,s>>3),{hash:`SHA-${s<<1}`,name:"HMAC"},!1,["sign"]),c=new Uint8Array(await se.subtle.encrypt({iv:n,name:"AES-CBC"},i,t)),l=nt(o,n,c,rs(o.length<<3)),u=new Uint8Array((await se.subtle.sign("HMAC",a,l)).slice(0,s>>3));return{ciphertext:c,tag:u,iv:n}}async function v0(e,t,r,n,o){let s;r instanceof Uint8Array?s=await se.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(ze(r,e,"encrypt"),s=r);let i=new Uint8Array(await se.subtle.encrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},s,t)),a=i.slice(-16);return{ciphertext:i.slice(0,-16),tag:a,iv:n}}var E0=async(e,t,r,n,o)=>{if(!ke(r)&&!(r instanceof Uint8Array))throw new TypeError(Ie(r,...Ce,"Uint8Array"));switch(n?ss(e,n):n=kl(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&en(r,parseInt(e.slice(-3),10)),_0(e,t,r,n,o);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&en(r,parseInt(e.slice(1,4),10)),v0(e,t,r,n,o);default:throw new he("Unsupported JWE Content Encryption Algorithm")}},ms=E0;async function Vl(e,t,r,n){let o=e.slice(0,7),s=await ms(o,r,t,n,new Uint8Array(0));return{encryptedKey:s.ciphertext,iv:Te(s.iv),tag:Te(s.tag)}}async function Yl(e,t,r,n,o){let s=e.slice(0,7);return as(s,t,r,n,o,new Uint8Array(0))}async function S0(e,t,r,n,o){switch(ps(e,t,"decrypt"),t=await hs.normalizePrivateKey?.(t,e)||t,e){case"dir":{if(r!==void 0)throw new J("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(r!==void 0)throw new J("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Ne(n.epk))throw new J('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ls(t))throw new he("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await Gl(n.epk,e),i,a;if(n.apu!==void 0){if(typeof n.apu!="string")throw new J('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=Pe(n.apu)}catch{throw new J("Failed to base64url decode the apu")}}if(n.apv!==void 0){if(typeof n.apv!="string")throw new J('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=Pe(n.apv)}catch{throw new J("Failed to base64url decode the apv")}}let c=await us(s,t,e==="ECDH-ES"?n.enc:e,e==="ECDH-ES"?uo(n.enc):parseInt(e.slice(-5,-2),10),i,a);if(e==="ECDH-ES")return c;if(r===void 0)throw new J("JWE Encrypted Key missing");return co(e.slice(-6),c,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(r===void 0)throw new J("JWE Encrypted Key missing");return Hl(e,t,r)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(r===void 0)throw new J("JWE Encrypted Key missing");if(typeof n.p2c!="number")throw new J('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=o?.maxPBES2Count||1e4;if(n.p2c>s)throw new J('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof n.p2s!="string")throw new J('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let i;try{i=Pe(n.p2s)}catch{throw new J("Failed to base64url decode the p2s")}return Bl(e,t,r,n.p2c,i)}case"A128KW":case"A192KW":case"A256KW":{if(r===void 0)throw new J("JWE Encrypted Key missing");return co(e,t,r)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(r===void 0)throw new J("JWE Encrypted Key missing");if(typeof n.iv!="string")throw new J('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof n.tag!="string")throw new J('JOSE Header "tag" (Authentication Tag) missing or invalid');let s;try{s=Pe(n.iv)}catch{throw new J("Failed to base64url decode the iv")}let i;try{i=Pe(n.tag)}catch{throw new J("Failed to base64url decode the tag")}return Yl(e,t,r,s,i)}default:throw new he('Invalid or unsupported "alg" (JWE Algorithm) header value')}}var Ql=S0;function A0(e,t,r,n,o){if(o.crit!==void 0&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(i=>typeof i!="string"||i.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;r!==void 0?s=new Map([...Object.entries(r),...t.entries()]):s=t;for(let i of n.crit){if(!s.has(i))throw new he(`Extension Header Parameter "${i}" is not recognized`);if(o[i]===void 0)throw new e(`Extension Header Parameter "${i}" is missing`);if(s.get(i)&&n[i]===void 0)throw new e(`Extension Header Parameter "${i}" MUST be integrity protected`)}return new Set(n.crit)}var ys=A0;var R0=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},ta=R0;async function Xl(e,t,r){if(!Ne(e))throw new J("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new J("JOSE Header missing");if(e.iv!==void 0&&typeof e.iv!="string")throw new J("JWE Initialization Vector incorrect type");if(typeof e.ciphertext!="string")throw new J("JWE Ciphertext missing or incorrect type");if(e.tag!==void 0&&typeof e.tag!="string")throw new J("JWE Authentication Tag incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new J("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new J("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new J("JWE AAD incorrect type");if(e.header!==void 0&&!Ne(e.header))throw new J("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!Ne(e.unprotected))throw new J("JWE Per-Recipient Unprotected Header incorrect type");let n;if(e.protected)try{let E=Pe(e.protected);n=JSON.parse(ct.decode(E))}catch{throw new J("JWE Protected Header is invalid")}if(!cs(n,e.header,e.unprotected))throw new J("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let o={...n,...e.header,...e.unprotected};if(ys(J,new Map,r?.crit,n,o),o.zip!==void 0)throw new he('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:s,enc:i}=o;if(typeof s!="string"||!s)throw new J("missing JWE Algorithm (alg) in JWE Header");if(typeof i!="string"||!i)throw new J("missing JWE Encryption Algorithm (enc) in JWE Header");let a=r&&ta("keyManagementAlgorithms",r.keyManagementAlgorithms),c=r&&ta("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(a&&!a.has(s)||!a&&s.startsWith("PBES2"))throw new Xr('"alg" (Algorithm) Header Parameter value not allowed');if(c&&!c.has(i))throw new Xr('"enc" (Encryption Algorithm) Header Parameter value not allowed');let l;if(e.encrypted_key!==void 0)try{l=Pe(e.encrypted_key)}catch{throw new J("Failed to base64url decode the encrypted_key")}let u=!1;typeof t=="function"&&(t=await t(n,e),u=!0);let f;try{f=await Ql(s,t,l,o,r)}catch(E){if(E instanceof TypeError||E instanceof J||E instanceof he)throw E;f=mr(i)}let p,w;if(e.iv!==void 0)try{p=Pe(e.iv)}catch{throw new J("Failed to base64url decode the iv")}if(e.tag!==void 0)try{w=Pe(e.tag)}catch{throw new J("Failed to base64url decode the tag")}let m=Me.encode(e.protected??""),h;e.aad!==void 0?h=nt(m,Me.encode("."),Me.encode(e.aad)):h=m;let y;try{y=Pe(e.ciphertext)}catch{throw new J("Failed to base64url decode the ciphertext")}let _={plaintext:await as(i,f,y,p,w,h)};if(e.protected!==void 0&&(_.protectedHeader=n),e.aad!==void 0)try{_.additionalAuthenticatedData=Pe(e.aad)}catch{throw new J("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(_.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(_.unprotectedHeader=e.header),u?{..._,key:t}:_}async function Zl(e,t,r){if(e instanceof Uint8Array&&(e=ct.decode(e)),typeof e!="string")throw new J("Compact JWE must be a string or Uint8Array");let{0:n,1:o,2:s,3:i,4:a,length:c}=e.split(".");if(c!==5)throw new J("Invalid Compact JWE");let l=await Xl({ciphertext:i,iv:s||void 0,protected:n,tag:a||void 0,encrypted_key:o||void 0},t,r),u={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return typeof t=="function"?{...u,key:l.key}:u}var ed=Symbol();var x0=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:Te(e)};if(!ke(e))throw new TypeError(Ie(e,...Ce,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:o,...s}=await se.subtle.exportKey("jwk",e);return s},td=x0;async function rd(e){return td(e)}async function T0(e,t,r,n,o={}){let s,i,a;switch(ps(e,r,"encrypt"),r=await hs.normalizePublicKey?.(r,e)||r,e){case"dir":{a=r;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ls(r))throw new he("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:l}=o,{epk:u}=o;u||(u=(await Ul(r)).privateKey);let{x:f,y:p,crv:w,kty:m}=await rd(u),h=await us(r,u,e==="ECDH-ES"?t:e,e==="ECDH-ES"?uo(t):parseInt(e.slice(-5,-2),10),c,l);if(i={epk:{x:f,crv:w,kty:m}},m==="EC"&&(i.epk.y=p),c&&(i.apu=Te(c)),l&&(i.apv=Te(l)),e==="ECDH-ES"){a=h;break}a=n||mr(t);let y=e.slice(-6);s=await ao(y,h,a);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{a=n||mr(t),s=await $l(e,r,a);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{a=n||mr(t);let{p2c:c,p2s:l}=o;({encryptedKey:s,...i}=await jl(e,r,a,c,l));break}case"A128KW":case"A192KW":case"A256KW":{a=n||mr(t),s=await ao(e,r,a);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{a=n||mr(t);let{iv:c}=o;({encryptedKey:s,...i}=await Vl(e,r,a,c));break}default:throw new he('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:a,encryptedKey:s,parameters:i}}var nd=T0;var gs=class{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new J("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!cs(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new J("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(ys(J,new Map,r?.crit,this._protectedHeader,n),n.zip!==void 0)throw new he('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:o,enc:s}=n;if(typeof o!="string"||!o)throw new J('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof s!="string"||!s)throw new J('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let i;if(this._cek&&(o==="dir"||o==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${o}`);let a;{let h;({cek:a,encryptedKey:i,parameters:h}=await nd(o,s,t,this._cek,this._keyManagementParameters)),h&&(r&&ed in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...h}:this.setUnprotectedHeader(h):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...h}:this.setProtectedHeader(h))}let c,l,u;this._protectedHeader?l=Me.encode(Te(JSON.stringify(this._protectedHeader))):l=Me.encode(""),this._aad?(u=Te(this._aad),c=nt(l,Me.encode("."),Me.encode(u))):c=l;let{ciphertext:f,tag:p,iv:w}=await ms(s,this._plaintext,a,this._iv,c),m={ciphertext:Te(f)};return w&&(m.iv=Te(w)),p&&(m.tag=Te(p)),i&&(m.encrypted_key=Te(i)),u&&(m.aad=u),this._protectedHeader&&(m.protected=ct.decode(l)),this._sharedUnprotectedHeader&&(m.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(m.header=this._unprotectedHeader),m}};var Lt=e=>Math.floor(e.getTime()/1e3);var P0=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Or=e=>{let t=P0.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");let r=parseFloat(t[2]),n=t[3].toLowerCase(),o;switch(n){case"sec":case"secs":case"second":case"seconds":case"s":o=Math.round(r);break;case"minute":case"minutes":case"min":case"mins":case"m":o=Math.round(r*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":o=Math.round(r*3600);break;case"day":case"days":case"d":o=Math.round(r*86400);break;case"week":case"weeks":case"w":o=Math.round(r*604800);break;default:o=Math.round(r*31557600);break}return t[1]==="-"||t[4]==="ago"?-o:o};var od=e=>e.toLowerCase().replace(/^application\//,""),C0=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,sd=(e,t,r={})=>{let n;try{n=JSON.parse(ct.decode(t))}catch{}if(!Ne(n))throw new ot("JWT Claims Set must be a top-level JSON object");let{typ:o}=r;if(o&&(typeof e.typ!="string"||od(e.typ)!==od(o)))throw new je('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:s=[],issuer:i,subject:a,audience:c,maxTokenAge:l}=r,u=[...s];l!==void 0&&u.push("iat"),c!==void 0&&u.push("aud"),a!==void 0&&u.push("sub"),i!==void 0&&u.push("iss");for(let m of new Set(u.reverse()))if(!(m in n))throw new je(`missing required "${m}" claim`,n,m,"missing");if(i&&!(Array.isArray(i)?i:[i]).includes(n.iss))throw new je('unexpected "iss" claim value',n,"iss","check_failed");if(a&&n.sub!==a)throw new je('unexpected "sub" claim value',n,"sub","check_failed");if(c&&!C0(n.aud,typeof c=="string"?[c]:c))throw new je('unexpected "aud" claim value',n,"aud","check_failed");let f;switch(typeof r.clockTolerance){case"string":f=Or(r.clockTolerance);break;case"number":f=r.clockTolerance;break;case"undefined":f=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,w=Lt(p||new Date);if((n.iat!==void 0||l)&&typeof n.iat!="number")throw new je('"iat" claim must be a number',n,"iat","invalid");if(n.nbf!==void 0){if(typeof n.nbf!="number")throw new je('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>w+f)throw new je('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(n.exp!==void 0){if(typeof n.exp!="number")throw new je('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=w-f)throw new Qr('"exp" claim timestamp check failed',n,"exp","check_failed")}if(l){let m=w-n.iat,h=typeof l=="number"?l:Or(l);if(m-f>h)throw new Qr('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(m<0-f)throw new je('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function ra(e,t,r){let n=await Zl(e,t,r),o=sd(n.protectedHeader,n.plaintext,r),{protectedHeader:s}=n;if(s.iss!==void 0&&s.iss!==o.iss)throw new je('replicated "iss" claim header parameter mismatch',o,"iss","mismatch");if(s.sub!==void 0&&s.sub!==o.sub)throw new je('replicated "sub" claim header parameter mismatch',o,"sub","mismatch");if(s.aud!==void 0&&JSON.stringify(s.aud)!==JSON.stringify(o.aud))throw new je('replicated "aud" claim header parameter mismatch',o,"aud","mismatch");let i={payload:o,protectedHeader:s};return typeof t=="function"?{...i,key:n.key}:i}var ws=class{constructor(t){this._flattened=new gs(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,r){let n=await this._flattened.encrypt(t,r);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}};function Nr(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}var bs=class{constructor(t={}){if(!Ne(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:Nr("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:Nr("setNotBefore",Lt(t))}:this._payload={...this._payload,nbf:Lt(new Date)+Or(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:Nr("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:Nr("setExpirationTime",Lt(t))}:this._payload={...this._payload,exp:Lt(new Date)+Or(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Lt(new Date)}:t instanceof Date?this._payload={...this._payload,iat:Nr("setIssuedAt",Lt(t))}:typeof t=="string"?this._payload={...this._payload,iat:Nr("setIssuedAt",Lt(new Date)+Or(t))}:this._payload={...this._payload,iat:Nr("setIssuedAt",t)},this}};var lo=class extends bs{setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,r){let n=new ws(Me.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(t,r)}};var yr=(e,t)=>{if(typeof e!="string"||!e)throw new io(`${t} missing or invalid`)};async function _s(e,t){if(!Ne(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":yr(e.crv,'"crv" (Curve) Parameter'),yr(e.x,'"x" (X Coordinate) Parameter'),yr(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":yr(e.crv,'"crv" (Subtype of Key Pair) Parameter'),yr(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":yr(e.e,'"e" (Exponent) Parameter'),yr(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":yr(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new he('"kty" (Key Type) Parameter missing or unsupported')}let n=Me.encode(JSON.stringify(r));return Te(await es(t,n))}var fo={};Mg(fo,{decode:()=>na,encode:()=>k0});var k0=Te,na=Pe;function oa(e){if(typeof e!="string")throw new ot("JWTs must use Compact JWS serialization, JWT must be a string");let{1:t,length:r}=e.split(".");if(r===5)throw new ot("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new ot("Invalid JWT");if(!t)throw new ot("JWTs must contain a payload");let n;try{n=na(t)}catch{throw new ot("Failed to base64url decode the payload")}let o;try{o=JSON.parse(ct.decode(n))}catch{throw new ot("Failed to parse the decoded payload as JSON")}if(!Ne(o))throw new ot("Invalid JWT Claims Set");return o}var H0=pt(ia(),1),q0=30*24*60*60,W0=()=>Date.now()/1e3|0,cd="dir",aa="A256CBC-HS512";async function an(e){let{token:t={},secret:r,maxAge:n=q0,salt:o}=e,s=Array.isArray(r)?r:[r],i=await ud(aa,s[0],o),a=await _s({kty:"oct",k:fo.encode(i)},`sha${i.byteLength<<3}`);return await new lo(t).setProtectedHeader({alg:cd,enc:aa,kid:a}).setIssuedAt().setExpirationTime(W0()+n).setJti(crypto.randomUUID()).encrypt(i)}async function cn(e){let{token:t,secret:r,salt:n}=e,o=Array.isArray(r)?r:[r];if(!t)return null;let{payload:s}=await ra(t,async({kid:i,enc:a})=>{for(let c of o){let l=await ud(a,c,n);if(i===void 0)return l;let u=await _s({kty:"oct",k:fo.encode(l)},`sha${l.byteLength<<3}`);if(i===u)return l}throw new Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:[cd],contentEncryptionAlgorithms:[aa,"A256GCM"]});return s}async function ud(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw new Error("Unsupported JWT Content Encryption Algorithm")}return await Tl("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function ld({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:o}=e,s=n.origin;return t?s=await o.redirect({url:t,baseUrl:n.origin}):r&&(s=await o.redirect({url:r,baseUrl:n.origin})),{callbackUrl:s,callbackUrlCookie:s!==r?s:void 0}}var vs=pt(ia(),1);var ca="\x1B[31m",K0="\x1B[33m",J0="\x1B[90m",ho="\x1B[0m",G0={error(e){let t=e instanceof te?e.type:e.name;if(console.error(`${ca}[auth][error]${ho} ${t}: ${e.message}`),e.cause&&typeof e.cause=="object"&&"err"in e.cause&&e.cause.err instanceof Error){let{err:r,...n}=e.cause;console.error(`${ca}[auth][cause]${ho}:`,r.stack),n&&console.error(`${ca}[auth][details]${ho}:`,JSON.stringify(n,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`${K0}[auth][warn][${e}]${ho}`,`Read more: ${t}`)},debug(e,t){console.log(`${J0}[auth][debug]:${ho} ${e}`,JSON.stringify(t,null,2))}};function Xt(e){let t={...G0};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}var z0=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];function ua(e){return z0.includes(e)}async function V0(e){if(!("body"in e)||!e.body||e.method!=="POST")return;let t=e.headers.get("content-type");if(t?.includes("application/json"))return await e.json();if(t?.includes("application/x-www-form-urlencoded")){let r=new URLSearchParams(await e.text());return Object.fromEntries(r)}}async function dd(e,t){try{if(e.method!=="GET"&&e.method!=="POST")throw new rt("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:o}=Y0(r.pathname,t.basePath);return{url:r,action:n,providerId:o,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await V0(e):void 0,cookies:(0,vs.parse)(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(r){let n=Xt(t);n.error(r),n.debug("request",e)}}function fd(e){return new Request(e.url,{headers:e.headers,method:e.method,body:e.method==="POST"?JSON.stringify(e.body??{}):void 0})}function la(e){let t=new Headers(e.headers);e.cookies?.forEach(s=>{let{name:i,value:a,options:c}=s,l=(0,vs.serialize)(i,a,c);t.has("Set-Cookie")?t.append("Set-Cookie",l):t.set("Set-Cookie",l)});let r=e.body;t.get("content-type")==="application/json"?r=JSON.stringify(e.body):t.get("content-type")==="application/x-www-form-urlencoded"&&(r=new URLSearchParams(e.body).toString());let n=e.redirect?302:e.status??200,o=new Response(r,{headers:t,status:n});return e.redirect&&o.headers.set("Location",e.redirect),o}async function Dr(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("").toString()}function un(e){let t=o=>("0"+o.toString(16)).slice(-2),r=(o,s)=>o+t(s),n=crypto.getRandomValues(new Uint8Array(e));return Array.from(n).reduce(r,"")}function Y0(e,t){let r=e.match(new RegExp(`^${t}(.+)`));if(r===null)throw new rt(`Cannot parse action at ${e}`);let o=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(o.length!==1&&o.length!==2)throw new rt(`Cannot parse action at ${e}`);let[s,i]=o;if(!ua(s))throw new rt(`Cannot parse action at ${e}`);if(i&&!["signin","callback","webauthn-options"].includes(s))throw new rt(`Cannot parse action at ${e}`);return{action:s,providerId:i}}async function hd({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[a,c]=t.split("|"),l=await Dr(`${a}${e.secret}`);if(c===l)return{csrfTokenVerified:r&&a===n,csrfToken:a}}let o=un(32),s=await Dr(`${o}${e.secret}`);return{cookie:`${o}|${s}`,csrfToken:o}}function po(e,t){if(!t)throw new ro(`CSRF token was missing during an action ${e}`)}function Es(e){return e!==null&&typeof e=="object"}function ln(e,...t){if(!t.length)return e;let r=t.shift();if(Es(e)&&Es(r))for(let n in r)Es(r[n])?(Es(e[n])||(e[n]=Array.isArray(r[n])?[]:{}),ln(e[n],r[n])):r[n]!==void 0&&(e[n]=r[n]);return ln(e,...t)}var gr=Symbol("skip-csrf-check"),Ur=Symbol("return-type-raw"),Je=Symbol("custom-fetch"),da=Symbol("conform-internal");function ha(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),o=r.providers.map(s=>{let i=typeof s=="function"?s():s,{options:a,...c}=i,l=a?.id??c.id,u=ln(c,a,{signinUrl:`${n}/signin/${l}`,callbackUrl:`${n}/callback/${l}`});if(i.type==="oauth"||i.type==="oidc"){u.redirectProxyUrl??(u.redirectProxyUrl=a?.redirectProxyUrl??r.redirectProxyUrl);let f=Q0(u);return f.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete f.redirectProxyUrl,f[Je]??(f[Je]=a?.[Je]),f}return u});return{providers:o,provider:o.find(({id:s})=>s===t)}}function Q0(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=fa(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=fa(e.token,e.issuer),n=fa(e.userinfo,e.issuer),o=e.checks??["pkce"];return e.redirectProxyUrl&&(o.includes("state")||o.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:o,userinfo:n,profile:e.profile??X0,account:e.account??Z0}}var X0=e=>pd({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),Z0=e=>pd({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function pd(e){let t={};for(let[r,n]of Object.entries(e))n!==void 0&&(t[r]=n);return t}function fa(e,t){if(!e&&t)return;if(typeof e=="string")return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[n,o]of Object.entries(e.params))n==="claims"&&(o=JSON.stringify(o)),r.searchParams.set(n,String(o));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}function md(e){return e.type==="oidc"}var ew={signIn(){return!0},redirect({url:e,baseUrl:t}){return e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t},session({session:e}){return{user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}},jwt({token:e}){return e}};async function yd({authOptions:e,providerId:t,action:r,url:n,cookies:o,callbackUrl:s,csrfToken:i,csrfDisabled:a,isPost:c}){let l=Xt(e),{providers:u,provider:f}=ha({url:n,providerId:t,config:e}),p=30*24*60*60,w=!1;if((f?.type==="oauth"||f?.type==="oidc")&&f.redirectProxyUrl)try{w=new URL(f.redirectProxyUrl).origin===n.origin}catch{throw new TypeError(`redirectProxyUrl must be a valid URL. Received: ${f.redirectProxyUrl}`)}let m={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:f,cookies:ln(Hn(e.useSecureCookies??n.protocol==="https:"),e.cookies),providers:u,session:{strategy:e.adapter?"database":"jwt",maxAge:p,updateAge:24*60*60,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??p,encode:an,decode:cn,...e.jwt},events:tw(e.events??{},l),adapter:rw(e.adapter,l),callbacks:{...ew,...e.callbacks},logger:l,callbackUrl:n.origin,isOnRedirectProxy:w,experimental:{...e.experimental}},h=[];if(a)m.csrfTokenVerified=!0;else{let{csrfToken:_,cookie:E,csrfTokenVerified:R}=await hd({options:m,cookieValue:o?.[m.cookies.csrfToken.name],isPost:c,bodyValue:i});m.csrfToken=_,m.csrfTokenVerified=R,E&&h.push({name:m.cookies.csrfToken.name,value:E,options:m.cookies.csrfToken.options})}let{callbackUrl:y,callbackUrlCookie:v}=await ld({options:m,cookieValue:o?.[m.cookies.callbackUrl.name],paramValue:s});return m.callbackUrl=y,v&&h.push({name:m.cookies.callbackUrl.name,value:v,options:m.cookies.callbackUrl.options}),{options:m,cookies:h}}function tw(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=async(...o)=>{try{let s=e[n];return await s(...o)}catch(s){t.error(new Fn(s))}},r),{})}function rw(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...o)=>{try{t.debug(`adapter_${n}`,{args:o});let s=e[n];return await s(...o)}catch(s){let i=new Cr(s);throw t.error(i),i}},r),{})}var Ed,ie,Sd,nw,mo,gd,ow,Ad={},Rd=[],sw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function wr(e,t){for(var r in t)e[r]=t[r];return e}function xd(e){var t=e.parentNode;t&&t.removeChild(e)}function pa(e,t,r,n,o){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Sd};return o==null&&ie.vnode!=null&&ie.vnode(s),s}function Zt(e){return e.children}function Ss(e,t){this.props=e,this.context=t}function yo(e,t){if(t==null)return e.__?yo(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?yo(e):null}function Td(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Td(e)}}function wd(e){(!e.__d&&(e.__d=!0)&&mo.push(e)&&!As.__r++||gd!==ie.debounceRendering)&&((gd=ie.debounceRendering)||setTimeout)(As)}function As(){for(var e;As.__r=mo.length;)e=mo.sort(function(t,r){return t.__v.__b-r.__v.__b}),mo=[],e.some(function(t){var r,n,o,s,i,a;t.__d&&(i=(s=(r=t).__v).__e,(a=r.__P)&&(n=[],(o=wr({},s)).__v=s.__v+1,Id(a,s,o,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[i]:null,n,i??yo(s),s.__h),aw(n,s),s.__e!=i&&Td(s)))})}function Pd(e,t,r,n,o,s,i,a,c,l){var u,f,p,w,m,h,y,v=n&&n.__k||Rd,_=v.length;for(r.__k=[],u=0;u<t.length;u++)if((w=r.__k[u]=(w=t[u])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?pa(null,w,null,null,w):Array.isArray(w)?pa(Zt,{children:w},null,null,null):w.__b>0?pa(w.type,w.props,w.key,w.ref?w.ref:null,w.__v):w)!=null){if(w.__=r,w.__b=r.__b+1,(p=v[u])===null||p&&w.key==p.key&&w.type===p.type)v[u]=void 0;else for(f=0;f<_;f++){if((p=v[f])&&w.key==p.key&&w.type===p.type){v[f]=void 0;break}p=null}Id(e,w,p=p||Ad,o,s,i,a,c,l),m=w.__e,(f=w.ref)&&p.ref!=f&&(y||(y=[]),p.ref&&y.push(p.ref,null,w),y.push(f,w.__c||m,w)),m!=null?(h==null&&(h=m),typeof w.type=="function"&&w.__k===p.__k?w.__d=c=Cd(w,c,e):c=kd(e,w,p,v,m,c),typeof r.type=="function"&&(r.__d=c)):c&&p.__e==c&&c.parentNode!=e&&(c=yo(p))}for(r.__e=h,u=_;u--;)v[u]!=null&&Nd(v[u],v[u]);if(y)for(u=0;u<y.length;u++)Od(y[u],y[++u],y[++u])}function Cd(e,t,r){for(var n,o=e.__k,s=0;o&&s<o.length;s++)(n=o[s])&&(n.__=e,t=typeof n.type=="function"?Cd(n,t,r):kd(r,n,n,o,n.__e,t));return t}function kd(e,t,r,n,o,s){var i,a,c;if(t.__d!==void 0)i=t.__d,t.__d=void 0;else if(r==null||o!=s||o.parentNode==null)e:if(s==null||s.parentNode!==e)e.appendChild(o),i=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==o)break e;e.insertBefore(o,s),i=s}return i!==void 0?i:o.nextSibling}function iw(e,t,r,n,o){var s;for(s in r)s==="children"||s==="key"||s in t||Rs(e,s,null,r[s],n);for(s in t)o&&typeof t[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===t[s]||Rs(e,s,t[s],r[s],n)}function bd(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=r==null?"":typeof r!="number"||sw.test(t)?r:r+"px"}function Rs(e,t,r,n,o){var s;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||bd(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||bd(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n||e.addEventListener(t,s?vd:_d,s):e.removeEventListener(t,s?vd:_d,s);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,r))}}function _d(e){this.l[e.type+!1](ie.event?ie.event(e):e)}function vd(e){this.l[e.type+!0](ie.event?ie.event(e):e)}function Id(e,t,r,n,o,s,i,a,c){var l,u,f,p,w,m,h,y,v,_,E,R,k,A,x,P=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=t.__e=r.__e,t.__h=null,s=[a]),(l=ie.__b)&&l(t);try{e:if(typeof P=="function"){if(y=t.props,v=(l=P.contextType)&&n[l.__c],_=l?v?v.props.value:l.__:n,r.__c?h=(u=t.__c=r.__c).__=u.__E:("prototype"in P&&P.prototype.render?t.__c=u=new P(y,_):(t.__c=u=new Ss(y,_),u.constructor=P,u.render=uw),v&&v.sub(u),u.props=y,u.state||(u.state={}),u.context=_,u.__n=n,f=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),P.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=wr({},u.__s)),wr(u.__s,P.getDerivedStateFromProps(y,u.__s))),p=u.props,w=u.state,f)P.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(P.getDerivedStateFromProps==null&&y!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,_),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,_)===!1||t.__v===r.__v){for(u.props=y,u.state=u.__s,t.__v!==r.__v&&(u.__d=!1),u.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(T){T&&(T.__=t)}),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[],u.__h.length&&i.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,_),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,w,m)})}if(u.context=_,u.props=y,u.__v=t,u.__P=e,R=ie.__r,k=0,"prototype"in P&&P.prototype.render){for(u.state=u.__s,u.__d=!1,R&&R(t),l=u.render(u.props,u.state,u.context),A=0;A<u._sb.length;A++)u.__h.push(u._sb[A]);u._sb=[]}else do u.__d=!1,R&&R(t),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++k<25);u.state=u.__s,u.getChildContext!=null&&(n=wr(wr({},n),u.getChildContext())),f||u.getSnapshotBeforeUpdate==null||(m=u.getSnapshotBeforeUpdate(p,w)),x=l!=null&&l.type===Zt&&l.key==null?l.props.children:l,Pd(e,Array.isArray(x)?x:[x],t,r,n,o,s,i,a,c),u.base=t.__e,t.__h=null,u.__h.length&&i.push(u),h&&(u.__E=u.__=null),u.__e=!1}else s==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=cw(r.__e,t,r,n,o,s,i,c);(l=ie.diffed)&&l(t)}catch(T){t.__v=null,(c||s!=null)&&(t.__e=a,t.__h=!!c,s[s.indexOf(a)]=null),ie.__e(T,t,r)}}function aw(e,t){ie.__c&&ie.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){ie.__e(n,r.__v)}})}function cw(e,t,r,n,o,s,i,a){var c,l,u,f=r.props,p=t.props,w=t.type,m=0;if(w==="svg"&&(o=!0),s!=null){for(;m<s.length;m++)if((c=s[m])&&"setAttribute"in c==!!w&&(w?c.localName===w:c.nodeType===3)){e=c,s[m]=null;break}}if(e==null){if(w===null)return document.createTextNode(p);e=o?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,p.is&&p),s=null,a=!1}if(w===null)f===p||a&&e.data===p||(e.data=p);else{if(s=s&&Ed.call(e.childNodes),l=(f=r.props||Ad).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!a){if(s!=null)for(f={},m=0;m<e.attributes.length;m++)f[e.attributes[m].name]=e.attributes[m].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(iw(e,p,f,o,a),u)t.__k=[];else if(m=t.props.children,Pd(e,Array.isArray(m)?m:[m],t,r,n,o&&w!=="foreignObject",s,i,s?s[0]:r.__k&&yo(r,0),a),s!=null)for(m=s.length;m--;)s[m]!=null&&xd(s[m]);a||("value"in p&&(m=p.value)!==void 0&&(m!==e.value||w==="progress"&&!m||w==="option"&&m!==f.value)&&Rs(e,"value",m,f.value,!1),"checked"in p&&(m=p.checked)!==void 0&&m!==e.checked&&Rs(e,"checked",m,f.checked,!1))}return e}function Od(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){ie.__e(n,r)}}function Nd(e,t,r){var n,o;if(ie.unmount&&ie.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Od(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ie.__e(s,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&Nd(n[o],t,r||typeof e.type!="function");r||e.__e==null||xd(e.__e),e.__=e.__e=e.__d=void 0}function uw(e,t,r){return this.constructor(e,r)}Ed=Rd.slice,ie={__e:function(e,t,r,n){for(var o,s,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,n||{}),i=o.__d),i)return o.__E=o}catch(a){e=a}throw e}},Sd=0,nw=function(e){return e!=null&&e.constructor===void 0},Ss.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wr({},this.state),typeof e=="function"&&(e=e(wr({},r),this.props)),e&&wr(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),wd(this))},Ss.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),wd(this))},Ss.prototype.render=Zt,mo=[],As.__r=0,ow=0;var lw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,Hd=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,xs=/[\s\n\\/='"\0<>]/,qd=/^xlink:?./,dw=/["&<]/;function wo(e){if(dw.test(e+="")===!1)return e;for(var t=0,r=0,n="",o="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=o,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var Dd=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},Ud=function(e,t,r){return String(e).length>(t||40)||!r&&String(e).indexOf(`
`)!==-1||String(e).indexOf("<")!==-1},Ld={},fw=/([A-Z])/g;function Wd(e){var t="";for(var r in e){var n=e[r];n!=null&&n!==""&&(t&&(t+=" "),t+=r[0]=="-"?r:Ld[r]||(Ld[r]=r.replace(fw,"-$1").toLowerCase()),t=typeof n=="number"&&lw.test(r)===!1?t+": "+n+"px;":t+": "+n+";")}return t||void 0}function ya(e,t){return Array.isArray(t)?t.reduce(ya,e):t!=null&&t!==!1&&e.push(t),e}function Md(){this.__d=!0}function Fd(e,t){return{__v:e,context:t,props:e.props,setState:Md,forceUpdate:Md,__d:!0,__h:[]}}function Ts(e,t){var r=e.contextType,n=r&&t[r.__c];return r!=null?n?n.props.value:r.__:t}var ma=[];function go(e,t,r,n,o,s){if(e==null||typeof e=="boolean")return"";if(typeof e!="object")return wo(e);var i=r.pretty,a=i&&typeof i=="string"?i:"	";if(Array.isArray(e)){for(var c="",l=0;l<e.length;l++)i&&l>0&&(c+=`
`),c+=go(e[l],t,r,n,o,s);return c}var u,f=e.type,p=e.props,w=!1;if(typeof f=="function"){if(w=!0,!r.shallow||!n&&r.renderRootComponent!==!1){if(f===Zt){var m=[];return ya(m,e.props.children),go(m,t,r,r.shallowHighOrder!==!1,o,s)}var h,y=e.__c=Fd(e,t);ie.__b&&ie.__b(e);var v=ie.__r;if(f.prototype&&typeof f.prototype.render=="function"){var _=Ts(f,t);(y=e.__c=new f(p,_)).__v=e,y._dirty=y.__d=!0,y.props=p,y.state==null&&(y.state={}),y._nextState==null&&y.__s==null&&(y._nextState=y.__s=y.state),y.context=_,f.getDerivedStateFromProps?y.state=Object.assign({},y.state,f.getDerivedStateFromProps(y.props,y.state)):y.componentWillMount&&(y.componentWillMount(),y.state=y._nextState!==y.state?y._nextState:y.__s!==y.state?y.__s:y.state),v&&v(e),h=y.render(y.props,y.state,y.context)}else for(var E=Ts(f,t),R=0;y.__d&&R++<25;)y.__d=!1,v&&v(e),h=f.call(e.__c,p,E);return y.getChildContext&&(t=Object.assign({},t,y.getChildContext())),ie.diffed&&ie.diffed(e),go(h,t,r,r.shallowHighOrder!==!1,o,s)}f=(u=f).displayName||u!==Function&&u.name||function(et){var it=(Function.prototype.toString.call(et).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!it){for(var tt=-1,ht=ma.length;ht--;)if(ma[ht]===et){tt=ht;break}tt<0&&(tt=ma.push(et)-1),it="UnnamedComponent"+tt}return it}(u)}var k,A,x="<"+f;if(p){var P=Object.keys(p);r&&r.sortAttributes===!0&&P.sort();for(var T=0;T<P.length;T++){var N=P[T],I=p[N];if(N!=="children"){if(!xs.test(N)&&(r&&r.allAttributes||N!=="key"&&N!=="ref"&&N!=="__self"&&N!=="__source")){if(N==="defaultValue")N="value";else if(N==="defaultChecked")N="checked";else if(N==="defaultSelected")N="selected";else if(N==="className"){if(p.class!==void 0)continue;N="class"}else o&&qd.test(N)&&(N=N.toLowerCase().replace(/^xlink:?/,"xlink:"));if(N==="htmlFor"){if(p.for)continue;N="for"}N==="style"&&I&&typeof I=="object"&&(I=Wd(I)),N[0]==="a"&&N[1]==="r"&&typeof I=="boolean"&&(I=String(I));var $=r.attributeHook&&r.attributeHook(N,I,t,r,w);if($||$==="")x+=$;else if(N==="dangerouslySetInnerHTML")A=I&&I.__html;else if(f==="textarea"&&N==="value")k=I;else if((I||I===0||I==="")&&typeof I!="function"){if(!(I!==!0&&I!==""||(I=N,r&&r.xml))){x=x+" "+N;continue}if(N==="value"){if(f==="select"){s=I;continue}f==="option"&&s==I&&p.selected===void 0&&(x+=" selected")}x=x+" "+N+'="'+wo(I)+'"'}}}else k=I}}if(i){var H=x.replace(/\n\s*/," ");H===x||~H.indexOf(`
`)?i&&~x.indexOf(`
`)&&(x+=`
`):x=H}if(x+=">",xs.test(f))throw new Error(f+" is not a valid HTML tag name in "+x);var U,M=Hd.test(f)||r.voidElements&&r.voidElements.test(f),B=[];if(A)i&&Ud(A)&&(A=`
`+a+Dd(A,a)),x+=A;else if(k!=null&&ya(U=[],k).length){for(var K=i&&~x.indexOf(`
`),Z=!1,ae=0;ae<U.length;ae++){var be=U[ae];if(be!=null&&be!==!1){var ce=go(be,t,r,!0,f==="svg"||f!=="foreignObject"&&o,s);if(i&&!K&&Ud(ce)&&(K=!0),ce)if(i){var ye=ce.length>0&&ce[0]!="<";Z&&ye?B[B.length-1]+=ce:B.push(ce),Z=ye}else B.push(ce)}}if(i&&K)for(var $e=B.length;$e--;)B[$e]=`
`+a+Dd(B[$e],a)}if(B.length||A)x+=B.join("");else if(r&&r.xml)return x.substring(0,x.length-1)+" />";return!M||U||A?(i&&~x.indexOf(`
`)&&(x+=`
`),x=x+"</"+f+">"):x=x.replace(/>$/," />"),x}var hw={shallow:!0};fn.render=fn;var pw=function(e,t){return fn(e,t,hw)},jd=[];function fn(e,t,r){t=t||{};var n,o=ie.__s;return ie.__s=!0,n=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?go(e,t,r):dn(e,t,!1,void 0),ie.__c&&ie.__c(e,jd),ie.__s=o,jd.length=0,n}function mw(e,t){return e==="className"?"class":e==="htmlFor"?"for":e==="defaultValue"?"value":e==="defaultChecked"?"checked":e==="defaultSelected"?"selected":t&&qd.test(e)?e.toLowerCase().replace(/^xlink:?/,"xlink:"):e}function yw(e,t){return e==="style"&&t!=null&&typeof t=="object"?Wd(t):e[0]==="a"&&e[1]==="r"&&typeof t=="boolean"?String(t):t}var Bd=Array.isArray,$d=Object.assign;function dn(e,t,r,n){if(e==null||e===!0||e===!1||e==="")return"";if(typeof e!="object")return wo(e);if(Bd(e)){for(var o="",s=0;s<e.length;s++)o+=dn(e[s],t,r,n);return o}ie.__b&&ie.__b(e);var i=e.type,a=e.props;if(typeof i=="function"){if(i===Zt)return dn(e.props.children,t,r,n);var c;c=i.prototype&&typeof i.prototype.render=="function"?function(x,P){var T=x.type,N=Ts(T,P),I=new T(x.props,N);x.__c=I,I.__v=x,I.__d=!0,I.props=x.props,I.state==null&&(I.state={}),I.__s==null&&(I.__s=I.state),I.context=N,T.getDerivedStateFromProps?I.state=$d({},I.state,T.getDerivedStateFromProps(I.props,I.state)):I.componentWillMount&&(I.componentWillMount(),I.state=I.__s!==I.state?I.__s:I.state);var $=ie.__r;return $&&$(x),I.render(I.props,I.state,I.context)}(e,t):function(x,P){var T,N=Fd(x,P),I=Ts(x.type,P);x.__c=N;for(var $=ie.__r,H=0;N.__d&&H++<25;)N.__d=!1,$&&$(x),T=x.type.call(N,x.props,I);return T}(e,t);var l=e.__c;l.getChildContext&&(t=$d({},t,l.getChildContext()));var u=dn(c,t,r,n);return ie.diffed&&ie.diffed(e),u}var f,p,w="<";if(w+=i,a)for(var m in f=a.children,a){var h=a[m];if(!(m==="key"||m==="ref"||m==="__self"||m==="__source"||m==="children"||m==="className"&&"class"in a||m==="htmlFor"&&"for"in a||xs.test(m))){if(h=yw(m=mw(m,r),h),m==="dangerouslySetInnerHTML")p=h&&h.__html;else if(i==="textarea"&&m==="value")f=h;else if((h||h===0||h==="")&&typeof h!="function"){if(h===!0||h===""){h=m,w=w+" "+m;continue}if(m==="value"){if(i==="select"){n=h;continue}i!=="option"||n!=h||"selected"in a||(w+=" selected")}w=w+" "+m+'="'+wo(h)+'"'}}}var y=w;if(w+=">",xs.test(i))throw new Error(i+" is not a valid HTML tag name in "+w);var v="",_=!1;if(p)v+=p,_=!0;else if(typeof f=="string")v+=wo(f),_=!0;else if(Bd(f))for(var E=0;E<f.length;E++){var R=f[E];if(R!=null&&R!==!1){var k=dn(R,t,i==="svg"||i!=="foreignObject"&&r,n);k&&(v+=k,_=!0)}}else if(f!=null&&f!==!1&&f!==!0){var A=dn(f,t,i==="svg"||i!=="foreignObject"&&r,n);A&&(v+=A,_=!0)}if(ie.diffed&&ie.diffed(e),_)w+=v;else if(Hd.test(i))return y+" />";return w+"</"+i+">"}fn.shallowRender=pw;var gw=0;function W(e,t,r,n,o){var s,i,a={};for(i in t)i=="ref"?s=t[i]:a[i]=t[i];var c={type:e,props:a,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--gw,__source:o,__self:n};if(typeof e=="function"&&(s=e.defaultProps))for(i in s)a[i]===void 0&&(a[i]=s[i]);return ie.vnode&&ie.vnode(c),c}function ga(e){let{url:t,error:r="default",theme:n}=e,o=`${t}/signin`,s={default:{status:200,heading:"Error",message:W("p",{children:W("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:W("div",{children:[W("p",{children:"There is a problem with the server configuration."}),W("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:W("div",{children:[W("p",{children:"You do not have permission to sign in."}),W("p",{children:W("a",{className:"button",href:o,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:W("div",{children:[W("p",{children:"The sign in link is no longer valid."}),W("p",{children:"It may have been used already or it may have expired."})]}),signin:W("a",{className:"button",href:o,children:"Sign in"})}},{status:i,heading:a,message:c,signin:l}=s[r]??s.default;return{status:i,html:W("div",{className:"error",children:[n?.brandColor&&W("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),W("div",{className:"card",children:[n?.logo&&W("img",{src:n?.logo,alt:"Logo",className:"logo"}),W("h1",{children:a}),W("div",{className:"message",children:c}),l]})]})}}async function Kd(e,t){let r=window.SimpleWebAuthnBrowser;async function n(f){let p=new URL(`${e}/webauthn-options/${t}`);f&&p.searchParams.append("action",f),s().forEach(h=>{p.searchParams.append(h.name,h.value)});let m=await fetch(p);if(!m.ok){console.error("Failed to fetch options",m);return}return m.json()}function o(){let f=`#${t}-form`,p=document.querySelector(f);if(!p)throw new Error(`Form '${f}' not found`);return p}function s(){let f=o();return Array.from(f.querySelectorAll("input[data-form-field]"))}async function i(f,p){let w=o();if(f){let m=document.createElement("input");m.type="hidden",m.name="action",m.value=f,w.appendChild(m)}if(p){let m=document.createElement("input");m.type="hidden",m.name="data",m.value=JSON.stringify(p),w.appendChild(m)}return w.submit()}async function a(f,p){let w=await r.startAuthentication(f,p);return await i("authenticate",w)}async function c(f){s().forEach(m=>{if(m.required&&!m.value)throw new Error(`Missing required field: ${m.name}`)});let w=await r.startRegistration(f);return await i("register",w)}async function l(){if(!r.browserSupportsWebAuthnAutofill())return;let f=await n("authenticate");if(!f){console.error("Failed to fetch option for autofill authentication");return}try{await a(f.options,!0)}catch(p){console.error(p)}}async function u(){let f=o();if(!r.browserSupportsWebAuthn()){f.style.display="none";return}f&&f.addEventListener("submit",async p=>{p.preventDefault();let w=await n(void 0);if(!w){console.error("Failed to fetch options for form submission");return}if(w.action==="authenticate")try{await a(w.options,!1)}catch(m){console.error(m)}else if(w.action==="register")try{await c(w.options)}catch(m){console.error(m)}})}u(),l()}var Jd={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."};function ww(e){let t=`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${Kd})(authURL, "${e}");
`;return W(Zt,{children:W("script",{dangerouslySetInnerHTML:{__html:t}})})}function wa(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:o,email:s,error:i}=e;typeof document<"u"&&o?.brandColor&&document.documentElement.style.setProperty("--brand-color",o.brandColor),typeof document<"u"&&o?.buttonText&&document.documentElement.style.setProperty("--button-text-color",o.buttonText);let a=i&&(Jd[i]??Jd.default),c="https://authjs.dev/img/providers",l=r.find(u=>u.type==="webauthn"&&u.enableConditionalUI)?.id;return W("div",{className:"signin",children:[o?.brandColor&&W("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${o.brandColor}}`}}),o?.buttonText&&W("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${o.buttonText}
        }
      `}}),W("div",{className:"card",children:[a&&W("div",{className:"error",children:W("p",{children:a})}),o?.logo&&W("img",{src:o.logo,alt:"Logo",className:"logo"}),r.map((u,f)=>{let p,w,m;(u.type==="oauth"||u.type==="oidc")&&({bg:p="#fff",brandColor:w,logo:m=`${c}/${u.id}.svg`}=u.style??{});let h=w??p??"#fff";return W("div",{className:"provider",children:[u.type==="oauth"||u.type==="oidc"?W("form",{action:u.signinUrl,method:"POST",children:[W("input",{type:"hidden",name:"csrfToken",value:t}),n&&W("input",{type:"hidden",name:"callbackUrl",value:n}),W("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${h} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${h} 30%, #000)`},tabIndex:0,children:[W("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",u.name]}),m&&W("img",{loading:"lazy",height:24,src:m})]})]}):null,(u.type==="email"||u.type==="credentials"||u.type==="webauthn")&&f>0&&r[f-1].type!=="email"&&r[f-1].type!=="credentials"&&r[f-1].type!=="webauthn"&&W("hr",{}),u.type==="email"&&W("form",{action:u.signinUrl,method:"POST",children:[W("input",{type:"hidden",name:"csrfToken",value:t}),W("label",{className:"section-header",htmlFor:`input-email-for-${u.id}-provider`,children:"Email"}),W("input",{id:`input-email-for-${u.id}-provider`,autoFocus:!0,type:"email",name:"email",value:s,placeholder:"email@example.com",required:!0}),W("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",u.name]})]}),u.type==="credentials"&&W("form",{action:u.callbackUrl,method:"POST",children:[W("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(u.credentials).map(y=>W("div",{children:[W("label",{className:"section-header",htmlFor:`input-${y}-for-${u.id}-provider`,children:u.credentials[y].label??y}),W("input",{name:y,id:`input-${y}-for-${u.id}-provider`,type:u.credentials[y].type??"text",placeholder:u.credentials[y].placeholder??"",...u.credentials[y]})]},`input-group-${u.id}`)),W("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",u.name]})]}),u.type==="webauthn"&&W("form",{action:u.callbackUrl,method:"POST",id:`${u.id}-form`,children:[W("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(u.formFields).map(y=>W("div",{children:[W("label",{className:"section-header",htmlFor:`input-${y}-for-${u.id}-provider`,children:u.formFields[y].label??y}),W("input",{name:y,"data-form-field":!0,id:`input-${y}-for-${u.id}-provider`,type:u.formFields[y].type??"text",placeholder:u.formFields[y].placeholder??"",...u.formFields[y]})]},`input-group-${u.id}`)),W("button",{id:`submitButton-${u.id}`,type:"submit",tabIndex:0,children:["Sign in with ",u.name]})]}),(u.type==="email"||u.type==="credentials"||u.type==="webauthn")&&f+1<r.length&&W("hr",{})]},u.id)})]}),l&&ww(l)]})}function ba(e){let{url:t,csrfToken:r,theme:n}=e;return W("div",{className:"signout",children:[n?.brandColor&&W("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&W("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),W("div",{className:"card",children:[n?.logo&&W("img",{src:n.logo,alt:"Logo",className:"logo"}),W("h1",{children:"Signout"}),W("p",{children:"Are you sure you want to sign out?"}),W("form",{action:t?.toString(),method:"POST",children:[W("input",{type:"hidden",name:"csrfToken",value:r}),W("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}var Gd=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function _a(e){let{url:t,theme:r}=e;return W("div",{className:"verify-request",children:[r.brandColor&&W("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),W("div",{className:"card",children:[r.logo&&W("img",{src:r.logo,alt:"Logo",className:"logo"}),W("h1",{children:"Check your email"}),W("p",{children:"A sign in link has been sent to your email address."}),W("p",{children:W("a",{className:"site",href:t.origin,children:t.host})})]})]})}function Ps({html:e,title:t,status:r,cookies:n,theme:o,headTags:s}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${Gd}</style><title>${t}</title>${s??""}</head><body class="__next-auth-theme-${o?.colorScheme??"auto"}"><div class="page">${fn(e)}</div></body></html>`}}function bo(e){let{url:t,theme:r,query:n,cookies:o,pages:s,providers:i}=e;return{csrf(a,c,l){return a?(c.logger.warn("csrf-disabled"),l.push({name:c.cookies.csrfToken.name,value:"",options:{...c.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:l}):{headers:{"Content-Type":"application/json"},body:{csrfToken:c.csrfToken},cookies:l}},providers(a){return{headers:{"Content-Type":"application/json"},body:a.reduce((c,{id:l,name:u,type:f,signinUrl:p,callbackUrl:w})=>(c[l]={id:l,name:u,type:f,signinUrl:p,callbackUrl:w},c),{})}},signin(a,c){if(a)throw new rt("Unsupported action");if(s?.signIn){let f=`${s.signIn}${s.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return c&&(f=`${f}&${new URLSearchParams({error:c})}`),{redirect:f,cookies:o}}let l=i?.find(f=>f.type==="webauthn"&&f.enableConditionalUI&&!!f.simpleWebAuthnBrowserVersion),u="";if(l){let{simpleWebAuthnBrowserVersion:f}=l;u=`<script src="https://unpkg.com/@simplewebauthn/browser@${f}/dist/bundle/index.umd.min.js" crossorigin="anonymous"><\/script>`}return Ps({cookies:o,theme:r,html:wa({csrfToken:e.csrfToken,providers:e.providers?.filter(f=>["email","oauth","oidc"].includes(f.type)||f.type==="credentials"&&f.credentials||f.type==="webauthn"&&f.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:c,...n}),title:"Sign In",headTags:u})},signout(){return s?.signOut?{redirect:s.signOut,cookies:o}:Ps({cookies:o,theme:r,html:ba({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"})},verifyRequest(a){return s?.verifyRequest?{redirect:s.verifyRequest,cookies:o}:Ps({cookies:o,theme:r,html:_a({url:t,theme:r,...a}),title:"Verify Request"})},error(a){return s?.error?{redirect:`${s.error}${s.error.includes("?")?"&":"?"}error=${a}`,cookies:o}:Ps({cookies:o,theme:r,...ga({url:t,theme:r,error:a}),title:"Error"})}}}function er(e,t=Date.now()){return new Date(t+e*1e3)}async function Cs(e,t,r,n){if(!r?.providerAccountId||!r.type)throw new Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw new Error("Provider not supported");let{adapter:o,jwt:s,events:i,session:{strategy:a,generateSessionToken:c}}=n;if(!o)return{user:t,account:r};let l=t,u=r,{createUser:f,updateUser:p,getUser:w,getUserByAccount:m,getUserByEmail:h,linkAccount:y,createSession:v,getSessionAndUser:_,deleteSession:E}=o,R=null,k=null,A=!1,x=a==="jwt";if(e)if(x)try{let T=n.cookies.sessionToken.name;R=await s.decode({...s,token:e,salt:T}),R&&"sub"in R&&R.sub&&(k=await w(R.sub))}catch{}else{let T=await _(e);T&&(R=T.session,k=T.user)}if(u.type==="email"){let T=await h(l.email);return T?(k?.id!==T.id&&!x&&e&&await E(e),k=await p({id:T.id,emailVerified:new Date}),await i.updateUser?.({user:k})):(k=await f({...l,emailVerified:new Date}),await i.createUser?.({user:k}),A=!0),R=x?{}:await v({sessionToken:c(),userId:k.id,expires:er(n.session.maxAge)}),{session:R,user:k,isNewUser:A}}else if(u.type==="webauthn"){let T=await m({providerAccountId:u.providerAccountId,provider:u.provider});if(T){if(k){if(T.id===k.id){let I={...u,userId:k.id};return{session:R,user:k,isNewUser:A,account:I}}throw new Yr("The account is already associated with another user",{provider:u.provider})}R=x?{}:await v({sessionToken:c(),userId:T.id,expires:er(n.session.maxAge)});let N={...u,userId:T.id};return{session:R,user:T,isNewUser:A,account:N}}else{if(k){await y({...u,userId:k.id}),await i.linkAccount?.({user:k,account:u,profile:l});let $={...u,userId:k.id};return{session:R,user:k,isNewUser:A,account:$}}if(l.email?await h(l.email):null)throw new Yr("Another account already exists with the same e-mail address",{provider:u.provider});k=await f({...l}),await i.createUser?.({user:k}),await y({...u,userId:k.id}),await i.linkAccount?.({user:k,account:u,profile:l}),R=x?{}:await v({sessionToken:c(),userId:k.id,expires:er(n.session.maxAge)});let I={...u,userId:k.id};return{session:R,user:k,isNewUser:!0,account:I}}}let P=await m({providerAccountId:u.providerAccountId,provider:u.provider});if(P){if(k){if(P.id===k.id)return{session:R,user:k,isNewUser:A};throw new Vr("The account is already associated with another user",{provider:u.provider})}return R=x?{}:await v({sessionToken:c(),userId:P.id,expires:er(n.session.maxAge)}),{session:R,user:P,isNewUser:A}}else{let{provider:T}=n,{type:N,provider:I,providerAccountId:$,userId:H,...U}=u,M={providerAccountId:$,provider:I,type:N,userId:H};if(u=Object.assign(T.account(U)??{},M),k)return await y({...u,userId:k.id}),await i.linkAccount?.({user:k,account:u,profile:l}),{session:R,user:k,isNewUser:A};let B=l.email?await h(l.email):null;if(B)if(n.provider?.allowDangerousEmailAccountLinking)k=B,A=!1;else throw new Vr("Another account already exists with the same e-mail address",{provider:u.provider});else k=await f({...l,emailVerified:null}),A=!0;return await i.createUser?.({user:k}),await y({...u,userId:k.id}),await i.linkAccount?.({user:k,account:u,profile:l}),R=x?{}:await v({sessionToken:c(),userId:k.id,expires:er(n.session.maxAge)}),{session:R,user:k,isNewUser:A}}}var Sa;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(Sa="oauth4webapi/v3.1.4");function So(e,t){if(e==null)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}var st="ERR_INVALID_ARG_VALUE",Ve="ERR_INVALID_ARG_TYPE";function Ee(e,t,r){let n=new TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}var Bt=Symbol(),Xd=Symbol(),bw=Symbol(),mt=Symbol(),Ns=Symbol(),ks=Symbol(),N8=Symbol(),_w=new TextEncoder,vw=new TextDecoder;function Mt(e){return typeof e=="string"?_w.encode(e):vw.decode(e)}var zd=32768;function Ew(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=zd)t.push(String.fromCharCode.apply(null,e.subarray(r,r+zd)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sw(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}catch(t){throw Ee("The input to be decoded is not correctly encoded.",st,t)}}function jt(e){return typeof e=="string"?Sw(e):Ew(e)}var Ye=class extends Error{code;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Xw,Error.captureStackTrace?.(this,this.constructor)}},Aa=class extends Error{code;constructor(t,r){super(t,r),this.name=this.constructor.name,r?.code&&(this.code=r?.code),Error.captureStackTrace?.(this,this.constructor)}};function Q(e,t,r){return new Aa(e,{code:t,cause:r})}function Aw(e,t){if(!(e instanceof CryptoKey))throw Ee(`${t} must be a CryptoKey`,Ve)}function Rw(e,t){if(Aw(e,t),e.type!=="private")throw Ee(`${t} must be a private CryptoKey`,st)}function hn(e){return!(e===null||typeof e!="object"||Array.isArray(e))}function Ds(e){So(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(Sa&&!t.has("user-agent")&&t.set("user-agent",Sa),t.has("authorization"))throw Ee('"options.headers" must not include the "authorization" header name',st);if(t.has("dpop"))throw Ee('"options.headers" must not include the "dpop" header name',st);return t}function xa(e){if(typeof e=="function"&&(e=e()),!(e instanceof AbortSignal))throw Ee('"options.signal" must return or be an instance of AbortSignal',Ve);return e}async function Ao(e,t){if(!(e instanceof URL))throw Ee('"issuerIdentifier" must be an instance of URL',Ve);Ta(e,t?.[Bt]!==!0);let r=new URL(e.href);switch(t?.algorithm){case void 0:case"oidc":r.pathname=`${r.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":r.pathname==="/"?r.pathname=".well-known/oauth-authorization-server":r.pathname=`.well-known/oauth-authorization-server/${r.pathname}`.replace("//","/");break;default:throw Ee('"options.algorithm" must be "oidc" (default), or "oauth2"',st)}let n=Ds(t?.headers);return n.set("accept","application/json"),(t?.[mt]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?xa(t.signal):void 0})}function _o(e,t,r,n,o){try{if(typeof e!="number"||!Number.isFinite(e))throw Ee(`${r} must be a number`,Ve,o);if(e>0)return;throw Ee(t&&e!==0?`${r} must be a non-negative number`:`${r} must be a positive number`,st,o)}catch(s){throw n?Q(s.message,n,o):s}}function De(e,t,r,n){try{if(typeof e!="string")throw Ee(`${t} must be a string`,Ve,n);if(e.length===0)throw Ee(`${t} must not be empty`,st,n)}catch(o){throw r?Q(o.message,r,n):o}}async function Ro(e,t){if(!(e instanceof URL)&&e!==Qd)throw Ee('"expectedIssuer" must be an instance of URL',Ve);if(!So(t,Response))throw Ee('"response" must be an instance of Response',Ve);if(t.status!==200)throw Q('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',ka,t);$s(t),Us(t);let r;try{r=await t.json()}catch(n){throw Q('failed to parse "response" body as JSON',Eo,n)}if(!hn(r))throw Q('"response" body must be a top level object',ge,{body:r});if(De(r.issuer,'"response" body "issuer" property',ge,{body:r}),new URL(r.issuer).href!==e.href&&e!==Qd)throw Q('"response" body "issuer" property does not match the expected value',vf,{expected:e.href,body:r,attribute:"issuer"});return r}function Us(e){Tw(e,"application/json")}function xw(e,...t){let r='"response" content-type must be ';if(t.length>2){let n=t.pop();r+=`${t.join(", ")}, or ${n}`}else t.length===2?r+=`${t[0]} or ${t[1]}`:r+=t[0];return Q(r,t1,e)}function Tw(e,t){if(ff(e)!==t)throw xw(e,t)}function Ls(){return jt(crypto.getRandomValues(new Uint8Array(32)))}function Zd(){return Ls()}function ef(){return Ls()}function tf(){return Ls()}async function rf(e){return De(e,"codeVerifier"),jt(await crypto.subtle.digest("SHA-256",Mt(e)))}function Pw(e){return e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(e.kid!==void 0&&De(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{}}function Cw(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new Ye("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}function kw(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new Ye("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}function Iw(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new Ye("unsupported EcKeyAlgorithm namedCurve",{cause:e})}}function Ow(e){switch(e.algorithm.name){case"RSA-PSS":return Cw(e);case"RSASSA-PKCS1-v1_5":return kw(e);case"ECDSA":return Iw(e);case"Ed25519":case"EdDSA":return"Ed25519";default:throw new Ye("unsupported CryptoKey algorithm name",{cause:e})}}function pn(e){let t=e?.[Xd];return typeof t=="number"&&Number.isFinite(t)?t:0}function Ms(e){let t=e?.[bw];return typeof t=="number"&&Number.isFinite(t)&&Math.sign(t)!==-1?t:30}function js(){return Math.floor(Date.now()/1e3)}function xo(e){if(typeof e!="object"||e===null)throw Ee('"as" must be an object',Ve);De(e.issuer,'"as.issuer"')}function To(e){if(typeof e!="object"||e===null)throw Ee('"client" must be an object',Ve);De(e.client_id,'"client.client_id"')}function nf(e){return De(e,'"clientSecret"'),(t,r,n,o)=>{n.set("client_id",r.client_id),n.set("client_secret",e)}}function of(e,t){let r=js()+pn(t);return{jti:Ls(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}function sf(e,t){let{key:r,kid:n}=Pw(e);return Rw(r,'"clientPrivateKey.key"'),async(o,s,i,a)=>{let c={alg:Ow(r),kid:n},l=of(o,s);t?.[Ns]?.(c,l),i.set("client_id",s.client_id),i.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),i.set("client_assertion",await Nw(c,l,r))}}function af(e,t){De(e,'"clientSecret"');let r=t?.[Ns],n;return async(o,s,i,a)=>{n||=await crypto.subtle.importKey("raw",Mt(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let c={alg:"HS256"},l=of(o,s);r?.(c,l);let u=`${jt(Mt(JSON.stringify(c)))}.${jt(Mt(JSON.stringify(l)))}`,f=await crypto.subtle.sign(n.algorithm,n,Mt(u));i.set("client_id",s.client_id),i.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),i.set("client_assertion",`${u}.${jt(new Uint8Array(f))}`)}}function cf(){return(e,t,r,n)=>{r.set("client_id",t.client_id)}}async function Nw(e,t,r){if(!r.usages.includes("sign"))throw Ee('CryptoKey instances used for signing assertions must include "sign" in their "usages"',st);let n=`${jt(Mt(JSON.stringify(e)))}.${jt(Mt(JSON.stringify(t)))}`,o=jt(await crypto.subtle.sign(c1(r),r,Mt(n)));return`${n}.${o}`}var Dw=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function Ta(e,t){if(t&&e.protocol!=="https:")throw Q("only requests to HTTPS are allowed",r1,e);if(e.protocol!=="https:"&&e.protocol!=="http:")throw Q("only HTTP and HTTPS requests are allowed",n1,e)}function Vd(e,t,r,n){let o;if(typeof e!="string"||!(o=Dw(e)))throw Q(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,e===void 0?o1:s1,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return Ta(o,n),o}function uf(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?Vd(e.mtls_endpoint_aliases[t],t,r,n):Vd(e[t],t,r,n)}var Ra=class extends Error{cause;code;error;status;error_description;response;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Qw,this.cause=r.cause,this.error=r.cause.error,this.status=r.response.status,this.error_description=r.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:r.response}),Error.captureStackTrace?.(this,this.constructor)}},vo=class extends Error{cause;code;error;error_description;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Zw,this.cause=r.cause,this.error=r.cause.get("error"),this.error_description=r.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}},Is=class extends Error{cause;code;response;status;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Yw,this.cause=r.cause,this.status=r.response.status,this.response=r.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}};function Uw(e){return e.length>=2&&e[0]==='"'&&e[e.length-1]==='"'?e.slice(1,-1):e}var Lw=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,Mw=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function jw(e,t){let r=t.split(Lw).slice(1);if(!r.length)return{scheme:e.toLowerCase(),parameters:{}};r[r.length-1]=r[r.length-1].replace(/,$/,"");let n={};for(let o=1;o<r.length;o+=2){let s=o;if(r[s][0]==='"')for(;r[s].slice(-1)!=='"'&&++o<r.length;)r[s]+=r[o];let i=r[s-1].replace(/^(?:, ?)|=$/g,"").toLowerCase();n[i]=Uw(r[s])}return{scheme:e.toLowerCase(),parameters:n}}function lf(e){if(!So(e,Response))throw Ee('"response" must be an instance of Response',Ve);let t=e.headers.get("www-authenticate");if(t===null)return;let r=[];for(let{1:o,index:s}of t.matchAll(Mw))r.push([o,s]);return r.length?r.map(([o,s],i,a)=>{let c=a[i+1],l;return c?l=t.slice(s,c[1]):l=t.slice(s),jw(o,l)}):void 0}function df(e){if(!Ca.has(e))throw Ee('"options.DPoP" is not a valid DPoPHandle',st)}async function Bw(e,t,r,n,o,s){if(De(e,'"accessToken"'),!(r instanceof URL))throw Ee('"url" must be an instance of URL',Ve);Ta(r,s?.[Bt]!==!0),n=Ds(n),s?.DPoP?(df(s.DPoP),await s.DPoP.addProof(r,n,t.toUpperCase(),e),n.set("authorization",`DPoP ${e}`)):n.set("authorization",`Bearer ${e}`);let i=await(s?.[mt]||fetch)(r.href,{body:o,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:s?.signal?xa(s.signal):void 0});return s?.DPoP?.cacheNonce(i),i}async function Pa(e,t,r,n){xo(e),To(t);let o=uf(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[Bt]!==!0),s=Ds(n?.headers);return t.userinfo_signed_response_alg?s.set("accept","application/jwt"):(s.set("accept","application/json"),s.append("accept","application/jwt")),Bw(r,"GET",o,s,null,{...n,[Xd]:pn(t)})}var $w=Symbol();function ff(e){return e.headers.get("content-type")?.split(";")[0]}async function hf(e,t,r,n,o){if(xo(e),To(t),!So(n,Response))throw Ee('"response" must be an instance of Response',Ve);let s;if(s=lf(n))throw new Is("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:s,response:n});if(n.status!==200)throw Q('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',ka,n);$s(n);let i;if(ff(n)==="application/jwt"){let{claims:a,jwt:c}=await Ef(await n.text(),Sf.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),pn(t),Ms(t),o?.[ks]).then(Ww.bind(void 0,t.client_id)).then(Fw.bind(void 0,e));mf.set(n,c),i=a}else{if(t.userinfo_signed_response_alg)throw Q("JWT UserInfo Response expected",e1,n);Us(n);try{i=await n.json()}catch(a){throw Q('failed to parse "response" body as JSON',Eo,a)}}if(!hn(i))throw Q('"response" body must be a top level object',ge,{body:i});switch(De(i.sub,'"response" body "sub" property',ge,{body:i}),r){case $w:break;default:if(De(r,'"expectedSubject"'),i.sub!==r)throw Q('unexpected "response" body "sub" property value',vf,{expected:r,body:i,attribute:"sub"})}return i}async function Hw(e,t,r,n,o,s,i){return await r(e,t,o,s),s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(i?.[mt]||fetch)(n.href,{body:o,headers:Object.fromEntries(s.entries()),method:"POST",redirect:"manual",signal:i?.signal?xa(i.signal):void 0})}async function qw(e,t,r,n,o,s){let i=uf(e,"token_endpoint",t.use_mtls_endpoint_aliases,s?.[Bt]!==!0);o.set("grant_type",n);let a=Ds(s?.headers);a.set("accept","application/json"),s?.DPoP!==void 0&&(df(s.DPoP),await s.DPoP.addProof(i,a,"POST"));let c=await Hw(e,t,r,i,o,a,s);return s?.DPoP?.cacheNonce(c),c}var pf=new WeakMap,mf=new WeakMap;function Bs(e){if(!e.id_token)return;let t=pf.get(e);if(!t)throw Ee('"ref" was already garbage collected or did not resolve from the proper sources',st);return t}async function yf(e,t,r,n,o){if(xo(e),To(t),!So(r,Response))throw Ee('"response" must be an instance of Response',Ve);let s;if(s=lf(r))throw new Is("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:s,response:r});if(r.status!==200){let a;throw(a=await i1(r))?(await r.body?.cancel(),new Ra("server responded with an error in the response body",{cause:a,response:r})):Q('"response" is not a conform Token Endpoint response (unexpected HTTP status code)',ka,r)}$s(r),Us(r);let i;try{i=await r.json()}catch(a){throw Q('failed to parse "response" body as JSON',Eo,a)}if(!hn(i))throw Q('"response" body must be a top level object',ge,{body:i});if(De(i.access_token,'"response" body "access_token" property',ge,{body:i}),De(i.token_type,'"response" body "token_type" property',ge,{body:i}),i.token_type=i.token_type.toLowerCase(),i.token_type!=="dpop"&&i.token_type!=="bearer")throw new Ye("unsupported `token_type` value",{cause:{body:i}});if(i.expires_in!==void 0){let a=typeof i.expires_in!="number"?parseFloat(i.expires_in):i.expires_in;_o(a,!1,'"response" body "expires_in" property',ge,{body:i}),i.expires_in=a}if(i.refresh_token!==void 0&&De(i.refresh_token,'"response" body "refresh_token" property',ge,{body:i}),i.scope!==void 0&&typeof i.scope!="string")throw Q('"response" body "scope" property must be a string',ge,{body:i});if(i.id_token!==void 0){De(i.id_token,'"response" body "id_token" property',ge,{body:i});let a=["aud","exp","iat","iss","sub"];t.require_auth_time===!0&&a.push("auth_time"),t.default_max_age!==void 0&&(_o(t.default_max_age,!1,'"client.default_max_age"'),a.push("auth_time")),n?.length&&a.push(...n);let{claims:c,jwt:l}=await Ef(i.id_token,Sf.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),pn(t),Ms(t),o?.[ks]).then(Gw.bind(void 0,a)).then(wf.bind(void 0,e)).then(gf.bind(void 0,t.client_id));if(Array.isArray(c.aud)&&c.aud.length!==1){if(c.azp===void 0)throw Q('ID Token "aud" (audience) claim includes additional untrusted audiences',br,{claims:c,claim:"aud"});if(c.azp!==t.client_id)throw Q('unexpected ID Token "azp" (authorized party) claim value',br,{expected:t.client_id,claims:c,claim:"azp"})}c.auth_time!==void 0&&_o(c.auth_time,!1,'ID Token "auth_time" (authentication time)',ge,{claims:c}),mf.set(r,l),pf.set(i,c)}return i}function Ww(e,t){return t.claims.aud!==void 0?gf(e,t):t}function gf(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw Q('unexpected JWT "aud" (audience) claim value',br,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw Q('unexpected JWT "aud" (audience) claim value',br,{expected:e,claims:t.claims,claim:"aud"});return t}function Fw(e,t){return t.claims.iss!==void 0?wf(e,t):t}function wf(e,t){let r=e[d1]?.(t)??e.issuer;if(t.claims.iss!==r)throw Q('unexpected JWT "iss" (issuer) claim value',br,{expected:r,claims:t.claims,claim:"iss"});return t}var Ca=new WeakSet;function Kw(e){return Ca.add(e),e}async function bf(e,t,r,n,o,s,i){if(xo(e),To(t),!Ca.has(n))throw Ee('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',st);De(o,'"redirectUri"');let a=Lr(n,"code");if(!a)throw Q('no authorization code in "callbackParameters"',ge);let c=new URLSearchParams(i?.additionalParameters);return c.set("redirect_uri",o),c.set("code",a),s!==l1&&(De(s,'"codeVerifier"'),c.set("code_verifier",s)),qw(e,t,r,"authorization_code",c,i)}var Jw={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function Gw(e,t){for(let r of e)if(t.claims[r]===void 0)throw Q(`JWT "${r}" (${Jw[r]}) claim missing`,ge,{claims:t.claims});return t}var va=Symbol(),Ea=Symbol();async function _f(e,t,r,n){return typeof n?.expectedNonce=="string"||typeof n?.maxAge=="number"||n?.requireIdToken?zw(e,t,r,n.expectedNonce,n.maxAge,{[ks]:n[ks]}):Vw(e,t,r,n)}async function zw(e,t,r,n,o,s){let i=[];switch(n){case void 0:n=va;break;case va:break;default:De(n,'"expectedNonce" argument'),i.push("nonce")}switch(o??=t.default_max_age,o){case void 0:o=Ea;break;case Ea:break;default:_o(o,!1,'"maxAge" argument'),i.push("auth_time")}let a=await yf(e,t,r,i,s);De(a.id_token,'"response" body "id_token" property',ge,{body:a});let c=Bs(a);if(o!==Ea){let l=js()+pn(t),u=Ms(t);if(c.auth_time+o<l-u)throw Q("too much time has elapsed since the last End-User authentication",Os,{claims:c,now:l,tolerance:u,claim:"auth_time"})}if(n===va){if(c.nonce!==void 0)throw Q('unexpected ID Token "nonce" claim value',br,{expected:void 0,claims:c,claim:"nonce"})}else if(c.nonce!==n)throw Q('unexpected ID Token "nonce" claim value',br,{expected:n,claims:c,claim:"nonce"});return a}async function Vw(e,t,r,n){let o=await yf(e,t,r,void 0,n),s=Bs(o);if(s){if(t.default_max_age!==void 0){_o(t.default_max_age,!1,'"client.default_max_age"');let i=js()+pn(t),a=Ms(t);if(s.auth_time+t.default_max_age<i-a)throw Q("too much time has elapsed since the last End-User authentication",Os,{claims:s,now:i,tolerance:a,claim:"auth_time"})}if(s.nonce!==void 0)throw Q('unexpected ID Token "nonce" claim value',br,{expected:void 0,claims:s,claim:"nonce"})}return o}var Yw="OAUTH_WWW_AUTHENTICATE_CHALLENGE",Qw="OAUTH_RESPONSE_BODY_ERROR",Xw="OAUTH_UNSUPPORTED_OPERATION",Zw="OAUTH_AUTHORIZATION_RESPONSE_ERROR",e1="OAUTH_JWT_USERINFO_EXPECTED",Eo="OAUTH_PARSE_ERROR",ge="OAUTH_INVALID_RESPONSE";var t1="OAUTH_RESPONSE_IS_NOT_JSON",ka="OAUTH_RESPONSE_IS_NOT_CONFORM",r1="OAUTH_HTTP_REQUEST_FORBIDDEN",n1="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",Os="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",br="OAUTH_JWT_CLAIM_COMPARISON_FAILED",vf="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED";var o1="OAUTH_MISSING_SERVER_METADATA",s1="OAUTH_INVALID_SERVER_METADATA";function $s(e){if(e.bodyUsed)throw Ee('"response" body has been used already',st)}async function i1(e){if(e.status>399&&e.status<500){$s(e),Us(e);try{let t=await e.clone().json();if(hn(t)&&typeof t.error=="string"&&t.error.length)return t}catch{}}}function Yd(e){let{algorithm:t}=e;if(typeof t.modulusLength!="number"||t.modulusLength<2048)throw new Ye(`unsupported ${t.name} modulusLength`,{cause:e})}function a1(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Ye("unsupported ECDSA namedCurve",{cause:e})}}function c1(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:a1(e)};case"RSA-PSS":switch(Yd(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new Ye("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return Yd(e),e.algorithm.name;case"Ed25519":case"EdDSA":return e.algorithm.name}throw new Ye("unsupported CryptoKey algorithm name",{cause:e})}async function Ef(e,t,r,n,o){let{0:s,1:i,length:a}=e.split(".");if(a===5)if(o!==void 0)e=await o(e),{0:s,1:i,length:a}=e.split(".");else throw new Ye("JWE decryption is not configured",{cause:e});if(a!==3)throw Q("Invalid JWT",ge,e);let c;try{c=JSON.parse(Mt(jt(s)))}catch(f){throw Q("failed to parse JWT Header body as base64url encoded JSON",Eo,f)}if(!hn(c))throw Q("JWT Header must be a top level object",ge,e);if(t(c),c.crit!==void 0)throw new Ye('no JWT "crit" header parameter extensions are supported',{cause:{header:c}});let l;try{l=JSON.parse(Mt(jt(i)))}catch(f){throw Q("failed to parse JWT Payload body as base64url encoded JSON",Eo,f)}if(!hn(l))throw Q("JWT Payload must be a top level object",ge,e);let u=js()+r;if(l.exp!==void 0){if(typeof l.exp!="number")throw Q('unexpected JWT "exp" (expiration time) claim type',ge,{claims:l});if(l.exp<=u-n)throw Q('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',Os,{claims:l,now:u,tolerance:n,claim:"exp"})}if(l.iat!==void 0&&typeof l.iat!="number")throw Q('unexpected JWT "iat" (issued at) claim type',ge,{claims:l});if(l.iss!==void 0&&typeof l.iss!="string")throw Q('unexpected JWT "iss" (issuer) claim type',ge,{claims:l});if(l.nbf!==void 0){if(typeof l.nbf!="number")throw Q('unexpected JWT "nbf" (not before) claim type',ge,{claims:l});if(l.nbf>u+n)throw Q('unexpected JWT "nbf" (not before) claim value',Os,{claims:l,now:u,tolerance:n,claim:"nbf"})}if(l.aud!==void 0&&typeof l.aud!="string"&&!Array.isArray(l.aud))throw Q('unexpected JWT "aud" (audience) claim type',ge,{claims:l});return{header:c,claims:l,jwt:e}}function Sf(e,t,r,n){if(e!==void 0){if(typeof e=="string"?n.alg!==e:!e.includes(n.alg))throw Q('unexpected JWT "alg" header parameter',ge,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw Q('unexpected JWT "alg" header parameter',ge,{header:n,expected:t,reason:"authorization server metadata"});return}if(r!==void 0){if(typeof r=="string"?n.alg!==r:typeof r=="function"?!r(n.alg):!r.includes(n.alg))throw Q('unexpected JWT "alg" header parameter',ge,{header:n,expected:r,reason:"default value"});return}throw Q('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function Lr(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw Q(`"${t}" parameter must be provided only once`,ge);return r}var Ia=Symbol(),u1=Symbol();function Af(e,t,r,n){if(xo(e),To(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw Ee('"parameters" must be an instance of URLSearchParams, or URL',Ve);if(Lr(r,"response"))throw Q('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',ge,{parameters:r});let o=Lr(r,"iss"),s=Lr(r,"state");if(!o&&e.authorization_response_iss_parameter_supported)throw Q('response parameter "iss" (issuer) missing',ge,{parameters:r});if(o&&o!==e.issuer)throw Q('unexpected "iss" (issuer) response parameter value',ge,{expected:e.issuer,parameters:r});switch(n){case void 0:case u1:if(s!==void 0)throw Q('unexpected "state" response parameter encountered',ge,{expected:void 0,parameters:r});break;case Ia:break;default:if(De(n,'"expectedState" argument'),s!==n)throw Q(s===void 0?'response parameter "state" missing':'unexpected "state" response parameter value',ge,{expected:n,parameters:r})}if(Lr(r,"error"))throw new vo("authorization response from the server is an error",{cause:r});let a=Lr(r,"id_token"),c=Lr(r,"token");if(a!==void 0||c!==void 0)throw new Ye("implicit and hybrid flows are not supported");return Kw(new URLSearchParams(r))}var l1=Symbol(),Qd=Symbol(),d1=Symbol();var Na=60*15;async function Hs(e,t,r){let{cookies:n,logger:o}=r,s=n[e],i=new Date;i.setTime(i.getTime()+Na*1e3),o.debug(`CREATE_${e.toUpperCase()}`,{name:s.name,payload:t,COOKIE_TTL:Na,expires:i});let a=await an({...r.jwt,maxAge:Na,token:{value:t},salt:s.name}),c={...s.options,expires:i};return{name:s.name,value:a,options:c}}async function Tf(e,t,r){try{let{logger:n,cookies:o,jwt:s}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new Yt(`${e} cookie was missing`);let i=await cn({...s,token:t,salt:o[e].name});if(i?.value)return i.value;throw new Error("Invalid cookie")}catch(n){throw new Yt(`${e} value could not be parsed`,{cause:n})}}function Pf(e,t,r){let{logger:n,cookies:o}=t,s=o[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:s}),r.push({name:s.name,value:"",options:{...o[e].options,maxAge:0}})}function Da(e,t){return async function(r,n,o){let{provider:s,logger:i}=o;if(!s?.checks?.includes(e))return;let a=r?.[o.cookies[t].name];i.debug(`USE_${t.toUpperCase()}`,{value:a});let c=await Tf(t,a,o);return Pf(t,o,n),c}}var qs={async create(e){let t=Zd(),r=await rf(t);return{cookie:await Hs("pkceCodeVerifier",t,e),value:r}},use:Da("pkce","pkceCodeVerifier")},f1=60*15,Rf="encodedState",mn={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new Yt("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:ef()},o=await an({secret:e.jwt.secret,token:n,salt:Rf,maxAge:f1});return{cookie:await Hs("state",o,e),value:o}},use:Da("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await cn({secret:t.jwt.secret,token:e,salt:Rf});if(r)return r;throw new Error("Invalid state")}catch(r){throw new Yt("State could not be decoded",{cause:r})}}},Ws={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=tf();return{cookie:await Hs("nonce",t,e),value:t}},use:Da("nonce","nonce")},h1=60*15,xf="encodedWebauthnChallenge",Po={async create(e,t,r){return{cookie:await Hs("webauthnChallenge",await an({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:xf,maxAge:h1}),e)}},async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],o=await Tf("webauthnChallenge",n,e),s=await cn({secret:e.jwt.secret,token:o,salt:xf});if(Pf("webauthnChallenge",e,r),!s)throw new Yt("WebAuthn challenge was missing");return s}};function kf(e){return encodeURIComponent(e).replace(/%20/g,"+")}function p1(e,t){let r=kf(e),n=kf(t);return`Basic ${btoa(`${r}:${n}`)}`}async function If(e,t,r){let{logger:n,provider:o}=r,s,{token:i,userinfo:a}=o;if((!i?.url||i.url.host==="authjs.dev")&&(!a?.url||a.url.host==="authjs.dev")){let k=new URL(o.issuer),A=await Ao(k,{[Bt]:!0,[mt]:o[Je]});if(s=await Ro(k,A),!s.token_endpoint)throw new TypeError("TODO: Authorization server did not provide a token endpoint.");if(!s.userinfo_endpoint)throw new TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}else s={issuer:o.issuer??"https://authjs.dev",token_endpoint:i?.url.toString(),userinfo_endpoint:a?.url.toString()};let c={client_id:o.clientId,...o.client},l;switch(c.token_endpoint_auth_method){case void 0:case"client_secret_basic":l=(k,A,x,P)=>{P.set("authorization",p1(o.clientId,o.clientSecret))};break;case"client_secret_post":l=nf(o.clientSecret);break;case"client_secret_jwt":l=af(o.clientSecret);break;case"private_key_jwt":l=sf(o.token.clientPrivateKey,{[Ns](k,A){A.aud=[s.issuer,s.token_endpoint]}});break;case"none":l=cf();break;default:throw new Error("unsupported client authentication method")}let u=[],f=await mn.use(t,u,r),p;try{p=Af(s,c,new URLSearchParams(e),o.checks.includes("state")?f:Ia)}catch(k){if(k instanceof vo){let A={providerId:o.id,...Object.fromEntries(k.cause.entries())};throw n.debug("OAuthCallbackError",A),new Vn("OAuth Provider returned an error",A)}throw k}let w=await qs.use(t,u,r),m=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(m=o.redirectProxyUrl);let h=await bf(s,c,l,p,m,w??"decoy",{[Bt]:!0,[mt]:(...k)=>(o.checks.includes("pkce")||k[1].body.delete("code_verifier"),(o[Je]??fetch)(...k))});o.token?.conform&&(h=await o.token.conform(h.clone())??h);let y={},v=md(o);if(o[da])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let{tid:k}=oa((await h.clone().json()).id_token);if(typeof k=="string"){let A=/microsoftonline\.com\/(\w+)\/v2\.0/,x=s.issuer?.match(A)?.[1]??"common",P=new URL(s.issuer.replace(x,k)),T=await Ao(P,{[mt]:o[Je]});s=await Ro(P,T)}break}default:break}let _=await _f(s,c,h,{expectedNonce:await Ws.use(t,u,r),requireIdToken:v}),E=_;if(v){let k=Bs(_);if(y=k,o[da]&&o.id==="apple")try{y.user=JSON.parse(e?.user)}catch{}if(o.idToken===!1){let A=await Pa(s,c,_.access_token,{[mt]:o[Je],[Bt]:!0});y=await hf(s,c,k.sub,A)}}else if(a?.request){let k=await a.request({tokens:E,provider:o});k instanceof Object&&(y=k)}else if(a?.url)y=await(await Pa(s,c,_.access_token,{[mt]:o[Je]})).json();else throw new TypeError("No userinfo endpoint configured");return E.expires_in&&(E.expires_at=Math.floor(Date.now()/1e3)+Number(E.expires_in)),{...await m1(y,o,E,n),profile:y,cookies:u}}async function m1(e,t,r,n){try{let o=await t.profile(e,r);return{user:{...o,id:crypto.randomUUID(),email:o.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:o.id??crypto.randomUUID()}}}catch(o){n.debug("getProfile error details",e),n.error(new Yn(o,{provider:t.id}))}}function Of(e,t,r){let{user:n,exists:o=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":{if(n&&t===o)return"register";break}case void 0:{if(!t)return n?o?"authenticate":"register":"authenticate";break}}return null}async function Nf(e,t,r,n){let o=await g1(e,t,r),{cookie:s}=await Po.create(e,o.challenge,r);return{status:200,cookies:[...n??[],s],body:{action:"register",options:o},headers:{"Content-Type":"application/json"}}}async function Df(e,t,r,n){let o=await y1(e,t,r),{cookie:s}=await Po.create(e,o.challenge);return{status:200,cookies:[...n??[],s],body:{action:"authenticate",options:o},headers:{"Content-Type":"application/json"}}}async function Uf(e,t,r){let{adapter:n,provider:o}=e,s=t.body&&typeof t.body.data=="string"?JSON.parse(t.body.data):void 0;if(!s||typeof s!="object"||!("id"in s)||typeof s.id!="string")throw new te("Invalid WebAuthn Authentication response");let i=Fs(Co(s.id)),a=await n.getAuthenticator(i);if(!a)throw new te(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:i})}`);let{challenge:c}=await Po.use(e,t.cookies,r),l;try{let m=o.getRelayingParty(e,t);l=await o.simpleWebAuthn.verifyAuthenticationResponse({...o.verifyAuthenticationOptions,expectedChallenge:c,response:s,authenticator:w1(a),expectedOrigin:m.origin,expectedRPID:m.id})}catch(m){throw new hr(m)}let{verified:u,authenticationInfo:f}=l;if(!u)throw new hr("WebAuthn authentication response could not be verified");try{let{newCounter:m}=f;await n.updateAuthenticatorCounter(a.credentialID,m)}catch(m){throw new Cr(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:i,oldCounter:a.counter,newCounter:f.newCounter})}`,m)}let p=await n.getAccount(a.providerAccountId,o.id);if(!p)throw new te(`WebAuthn account not found in database: ${JSON.stringify({credentialID:i,providerAccountId:a.providerAccountId})}`);let w=await n.getUser(p.userId);if(!w)throw new te(`WebAuthn user not found in database: ${JSON.stringify({credentialID:i,providerAccountId:a.providerAccountId,userID:p.userId})}`);return{account:p,user:w}}async function Lf(e,t,r){let{provider:n}=e,o=t.body&&typeof t.body.data=="string"?JSON.parse(t.body.data):void 0;if(!o||typeof o!="object"||!("id"in o)||typeof o.id!="string")throw new te("Invalid WebAuthn Registration response");let{challenge:s,registerData:i}=await Po.use(e,t.cookies,r);if(!i)throw new te("Missing user registration data in WebAuthn challenge cookie");let a;try{let u=n.getRelayingParty(e,t);a=await n.simpleWebAuthn.verifyRegistrationResponse({...n.verifyRegistrationOptions,expectedChallenge:s,response:o,expectedOrigin:u.origin,expectedRPID:u.id})}catch(u){throw new hr(u)}if(!a.verified||!a.registrationInfo)throw new hr("WebAuthn registration response could not be verified");let c={providerAccountId:Fs(a.registrationInfo.credentialID),provider:e.provider.id,type:n.type},l={providerAccountId:c.providerAccountId,counter:a.registrationInfo.counter,credentialID:Fs(a.registrationInfo.credentialID),credentialPublicKey:Fs(a.registrationInfo.credentialPublicKey),credentialBackedUp:a.registrationInfo.credentialBackedUp,credentialDeviceType:a.registrationInfo.credentialDeviceType,transports:b1(o.response.transports)};return{user:i,account:c,authenticator:l}}async function y1(e,t,r){let{provider:n,adapter:o}=e,s=r&&r.id?await o.listAuthenticatorsByUserId(r.id):null,i=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:i.id,allowCredentials:s?.map(a=>({id:Co(a.credentialID),type:"public-key",transports:Ua(a.transports)}))})}async function g1(e,t,r){let{provider:n,adapter:o}=e,s=r.id?await o.listAuthenticatorsByUserId(r.id):null,i=un(32),a=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:i,userName:r.email,userDisplayName:r.name??void 0,rpID:a.id,rpName:a.name,excludeCredentials:s?.map(c=>({id:Co(c.credentialID),type:"public-key",transports:Ua(c.transports)}))})}function Ks(e){let{provider:t,adapter:r}=e;if(!r)throw new Qt("An adapter is required for the WebAuthn provider");if(!t||t.type!=="webauthn")throw new fr("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function w1(e){return{...e,credentialDeviceType:e.credentialDeviceType,transports:Ua(e.transports),credentialID:Co(e.credentialID),credentialPublicKey:Co(e.credentialPublicKey)}}function Co(e){return new Uint8Array(Buffer.from(e,"base64"))}function Fs(e){return Buffer.from(e).toString("base64")}function b1(e){return e?.join(",")}function Ua(e){return e?e.split(","):void 0}async function Gs(e,t,r,n){if(!t.provider)throw new fr("Callback route called without provider");let{query:o,body:s,method:i,headers:a}=e,{provider:c,adapter:l,url:u,callbackUrl:f,pages:p,jwt:w,events:m,callbacks:h,session:{strategy:y,maxAge:v},logger:_}=t,E=y==="jwt";try{if(c.type==="oauth"||c.type==="oidc"){let R=c.authorization?.url.searchParams.get("response_mode")==="form_post"?s:o;if(t.isOnRedirectProxy&&R?.state){let U=await mn.decode(R.state,t);if(U?.origin&&new URL(U.origin).origin!==t.url.origin){let B=`${U.origin}?${new URLSearchParams(R)}`;return _.debug("Proxy redirecting to",B),{redirect:B,cookies:n}}}let k=await If(R,e.cookies,t);k.cookies.length&&n.push(...k.cookies),_.debug("authorization result",k);let{user:A,account:x,profile:P}=k;if(!A||!x||!P)return{redirect:`${u}/signin`,cookies:n};let T;if(l){let{getUserByAccount:U}=l;T=await U({providerAccountId:x.providerAccountId,provider:c.id})}let N=await Js({user:T??A,account:x,profile:P},t);if(N)return{redirect:N,cookies:n};let{user:I,session:$,isNewUser:H}=await Cs(r.value,A,x,t);if(E){let U={name:I.name,email:I.email,picture:I.image,sub:I.id?.toString()},M=await h.jwt({token:U,user:I,account:x,profile:P,isNewUser:H,trigger:H?"signUp":"signIn"});if(M===null)n.push(...r.clean());else{let B=t.cookies.sessionToken.name,K=await w.encode({...w,token:M,salt:B}),Z=new Date;Z.setTime(Z.getTime()+v*1e3);let ae=r.chunk(K,{expires:Z});n.push(...ae)}}else n.push({name:t.cookies.sessionToken.name,value:$.sessionToken,options:{...t.cookies.sessionToken.options,expires:$.expires}});return await m.signIn?.({user:I,account:x,profile:P,isNewUser:H}),H&&p.newUser?{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:f})}`,cookies:n}:{redirect:f,cookies:n}}else if(c.type==="email"){let R=o?.token,k=o?.email;if(!R){let Z=new TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!R}});throw Z.name="Configuration",Z}let A=c.secret??t.secret,x=await l.useVerificationToken({identifier:k,token:await Dr(`${R}${A}`)}),P=!!x,T=P&&x.expires.valueOf()<Date.now();if(!P||T||k&&x.identifier!==k)throw new to({hasInvite:P,expired:T});let{identifier:I}=x,$=await l.getUserByEmail(I)??{id:crypto.randomUUID(),email:I,emailVerified:null},H={providerAccountId:$.email,userId:$.id,type:"email",provider:c.id},U=await Js({user:$,account:H},t);if(U)return{redirect:U,cookies:n};let{user:M,session:B,isNewUser:K}=await Cs(r.value,$,H,t);if(E){let Z={name:M.name,email:M.email,picture:M.image,sub:M.id?.toString()},ae=await h.jwt({token:Z,user:M,account:H,isNewUser:K,trigger:K?"signUp":"signIn"});if(ae===null)n.push(...r.clean());else{let be=t.cookies.sessionToken.name,ce=await w.encode({...w,token:ae,salt:be}),ye=new Date;ye.setTime(ye.getTime()+v*1e3);let $e=r.chunk(ce,{expires:ye});n.push(...$e)}}else n.push({name:t.cookies.sessionToken.name,value:B.sessionToken,options:{...t.cookies.sessionToken.options,expires:B.expires}});return await m.signIn?.({user:M,account:H,isNewUser:K}),K&&p.newUser?{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:f})}`,cookies:n}:{redirect:f,cookies:n}}else if(c.type==="credentials"&&i==="POST"){let R=s??{};Object.entries(o??{}).forEach(([I,$])=>u.searchParams.set(I,$));let A=await c.authorize(R,new Request(u,{headers:a,method:i,body:JSON.stringify(s)}));if(A)A.id=A.id?.toString()??crypto.randomUUID();else throw new dr;let x={providerAccountId:A.id,type:"credentials",provider:c.id},P=await Js({user:A,account:x,credentials:R},t);if(P)return{redirect:P,cookies:n};let T={name:A.name,email:A.email,picture:A.image,sub:A.id},N=await h.jwt({token:T,user:A,account:x,isNewUser:!1,trigger:"signIn"});if(N===null)n.push(...r.clean());else{let I=t.cookies.sessionToken.name,$=await w.encode({...w,token:N,salt:I}),H=new Date;H.setTime(H.getTime()+v*1e3);let U=r.chunk($,{expires:H});n.push(...U)}return await m.signIn?.({user:A,account:x}),{redirect:f,cookies:n}}else if(c.type==="webauthn"&&i==="POST"){let R=e.body?.action;if(typeof R!="string"||R!=="authenticate"&&R!=="register")throw new te("Invalid action parameter");let k=Ks(t),A,x,P;switch(R){case"authenticate":{let H=await Uf(k,e,n);A=H.user,x=H.account;break}case"register":{let H=await Lf(t,e,n);A=H.user,x=H.account,P=H.authenticator;break}}await Js({user:A,account:x},t);let{user:T,isNewUser:N,session:I,account:$}=await Cs(r.value,A,x,t);if(!$)throw new te("Error creating or finding account");if(P&&T.id&&await k.adapter.createAuthenticator({...P,userId:T.id}),E){let H={name:T.name,email:T.email,picture:T.image,sub:T.id?.toString()},U=await h.jwt({token:H,user:T,account:$,isNewUser:N,trigger:N?"signUp":"signIn"});if(U===null)n.push(...r.clean());else{let M=t.cookies.sessionToken.name,B=await w.encode({...w,token:U,salt:M}),K=new Date;K.setTime(K.getTime()+v*1e3);let Z=r.chunk(B,{expires:K});n.push(...Z)}}else n.push({name:t.cookies.sessionToken.name,value:I.sessionToken,options:{...t.cookies.sessionToken.options,expires:I.expires}});return await m.signIn?.({user:T,account:$,isNewUser:N}),N&&p.newUser?{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:f})}`,cookies:n}:{redirect:f,cookies:n}}throw new fr(`Callback for provider type (${c.type}) is not supported`)}catch(R){if(R instanceof te)throw R;let k=new qn(R,{provider:c.id});throw _.debug("callback route error details",{method:i,query:o,body:s}),k}}async function Js(e,t){let r,{signIn:n,redirect:o}=t.callbacks;try{r=await n(e)}catch(s){throw s instanceof te?s:new Vt(s)}if(!r)throw new Vt("AccessDenied");if(typeof r=="string")return await o({url:r,baseUrl:t.url.origin})}async function zs(e,t,r,n,o){let{adapter:s,jwt:i,events:a,callbacks:c,logger:l,session:{strategy:u,maxAge:f}}=e,p={body:null,headers:{"Content-Type":"application/json"},cookies:r},w=t.value;if(!w)return p;if(u==="jwt"){try{let m=e.cookies.sessionToken.name,h=await i.decode({...i,token:w,salt:m});if(!h)throw new Error("Invalid JWT");let y=await c.jwt({token:h,...n&&{trigger:"update"},session:o}),v=er(f);if(y!==null){let _={user:{name:y.name,email:y.email,image:y.picture},expires:v.toISOString()},E=await c.session({session:_,token:y});p.body=E;let R=await i.encode({...i,token:y,salt:m}),k=t.chunk(R,{expires:v});p.cookies?.push(...k),await a.session?.({session:E,token:y})}else p.cookies?.push(...t.clean())}catch(m){l.error(new Jn(m)),p.cookies?.push(...t.clean())}return p}try{let{getSessionAndUser:m,deleteSession:h,updateSession:y}=s,v=await m(w);if(v&&v.session.expires.valueOf()<Date.now()&&(await h(w),v=null),v){let{user:_,session:E}=v,R=e.session.updateAge,k=E.expires.valueOf()-f*1e3+R*1e3,A=er(f);k<=Date.now()&&await y({sessionToken:w,expires:A});let x=await c.session({session:{...E,user:_},user:_,newSession:o,...n?{trigger:"update"}:{}});p.body=x,p.cookies?.push({name:e.cookies.sessionToken.name,value:w,options:{...e.cookies.sessionToken.options,expires:A}}),await a.session?.({session:x})}else w&&p.cookies?.push(...t.clean())}catch(m){l.error(new Qn(m))}return p}async function Mf(e,t){let{logger:r,provider:n}=t,o=n.authorization?.url,s;if(!o||o.host==="authjs.dev"){let w=new URL(n.issuer),m=await Ao(w,{[mt]:n[Je],[Bt]:!0}),h=await Ro(w,m);if(!h.authorization_endpoint)throw new TypeError("Authorization server did not provide an authorization endpoint.");o=new URL(h.authorization_endpoint)}let i=o.searchParams,a=n.callbackUrl,c;!t.isOnRedirectProxy&&n.redirectProxyUrl&&(a=n.redirectProxyUrl,c=n.callbackUrl,r.debug("using redirect proxy",{redirect_uri:a,data:c}));let l=Object.assign({response_type:"code",client_id:n.clientId,redirect_uri:a,...n.authorization?.params},Object.fromEntries(n.authorization?.url.searchParams??[]),e);for(let w in l)i.set(w,l[w]);let u=[];n.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let f=await mn.create(t,c);if(f&&(i.set("state",f.value),u.push(f.cookie)),n.checks?.includes("pkce"))if(s&&!s.code_challenge_methods_supported?.includes("S256"))n.type==="oidc"&&(n.checks=["nonce"]);else{let{value:w,cookie:m}=await qs.create(t);i.set("code_challenge",w),i.set("code_challenge_method","S256"),u.push(m)}let p=await Ws.create(t);return p&&(i.set("nonce",p.value),u.push(p.cookie)),n.type==="oidc"&&!o.searchParams.has("scope")&&o.searchParams.set("scope","openid profile email"),r.debug("authorization url is ready",{url:o,cookies:u,provider:n}),{redirect:o.toString(),cookies:u}}async function jf(e,t){let{body:r}=e,{provider:n,callbacks:o,adapter:s}=t,a=(n.normalizeIdentifier??_1)(r?.email),c={id:crypto.randomUUID(),email:a,emailVerified:null},l=await s.getUserByEmail(a)??c,u={providerAccountId:a,userId:l.id,type:"email",provider:n.id},f;try{f=await o.signIn({user:l,account:u,email:{verificationRequest:!0}})}catch(k){throw new Vt(k)}if(!f)throw new Vt("AccessDenied");if(typeof f=="string")return{redirect:await o.redirect({url:f,baseUrl:t.url.origin})};let{callbackUrl:p,theme:w}=t,m=await n.generateVerificationToken?.()??un(32),h=86400,y=new Date(Date.now()+(n.maxAge??h)*1e3),v=n.secret??t.secret,_=new URL(t.basePath,t.url.origin),E=n.sendVerificationRequest({identifier:a,token:m,expires:y,url:`${_}/callback/${n.id}?${new URLSearchParams({callbackUrl:p,token:m,email:a})}`,provider:n,theme:w,request:fd(e)}),R=s.createVerificationToken?.({identifier:a,token:await Dr(`${m}${v}`),expires:y});return await Promise.all([E,R]),{redirect:`${_}/verify-request?${new URLSearchParams({provider:n.id,type:n.type})}`}}function _1(e){if(!e)throw new Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`}async function La(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:o,cookies:s}=await Mf(e.query,r);return s&&t.push(...s),{redirect:o,cookies:t}}case"email":return{...await jf(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function Ma(e,t,r){let{jwt:n,events:o,callbackUrl:s,logger:i,session:a}=r,c=t.value;if(!c)return{redirect:s,cookies:e};try{if(a.strategy==="jwt"){let l=r.cookies.sessionToken.name,u=await n.decode({...n,token:c,salt:l});await o.signOut?.({token:u})}else{let l=await r.adapter?.deleteSession(c);await o.signOut?.({session:l})}}catch(l){i.error(new Xn(l))}return e.push(...t.clean()),{redirect:s,cookies:e}}async function Bf(e,t){let{adapter:r,jwt:n,session:{strategy:o}}=e,s=t.value;if(!s)return null;if(o==="jwt"){let i=e.cookies.sessionToken.name,a=await n.decode({...n,token:s,salt:i});if(a&&a.sub)return{id:a.sub,name:a.name,email:a.email,image:a.picture}}else{let i=await r?.getSessionAndUser(s);if(i)return i.user}return null}async function ja(e,t,r,n){let o=Ks(t),{provider:s}=o,{action:i}=e.query??{};if(i!=="register"&&i!=="authenticate"&&typeof i<"u")return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let a=await Bf(t,r),c=a?{user:a,exists:!0}:await s.getUserInfo(t,e),l=c?.user;switch(Of(i,!!a,c)){case"authenticate":return Df(o,e,l,n);case"register":if(typeof l?.email=="string")return Nf(o,e,l,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function $f(e,t){let{action:r,providerId:n,error:o,method:s}=e,i=t.skipCSRFCheck===gr,{options:a,cookies:c}=await yd({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:s==="POST",csrfDisabled:i}),l=new $n(a.cookies.sessionToken,e.cookies,a.logger);if(s==="GET"){let u=bo({...a,query:e.query,cookies:c});switch(r){case"callback":return await Gs(e,a,l,c);case"csrf":return u.csrf(i,a,c);case"error":return u.error(o);case"providers":return u.providers(a.providers);case"session":return await zs(a,l,c);case"signin":return u.signin(n,o);case"signout":return u.signout();case"verify-request":return u.verifyRequest();case"webauthn-options":return await ja(e,a,l,c);default:}}else{let{csrfTokenVerified:u}=a;switch(r){case"callback":return a.provider.type==="credentials"&&po(r,u),await Gs(e,a,l,c);case"session":return po(r,u),await zs(a,l,c,!0,e.body?.data);case"signin":return po(r,u),await La(e,c,a);case"signout":return po(r,u),await Ma(c,l,a);default:}}throw new rt(`Cannot handle action: ${r}`)}function Ba(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||Xt(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let n=e.AUTH_SECRET;n&&t.secret.push(n);for(let o of[1,2,3]){let s=e[`AUTH_SECRET_${o}`];s&&t.secret.unshift(s)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??e.NODE_ENV!=="production")),t.providers=t.providers.map(n=>{let{id:o}=typeof n=="function"?n({}):n,s=o.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${s}_ID`],a=e[`AUTH_${s}_SECRET`],c=e[`AUTH_${s}_ISSUER`],l=e[`AUTH_${s}_KEY`],u=typeof n=="function"?n({clientId:i,clientSecret:a,issuer:c,apiKey:l}):n;return u.type==="oauth"||u.type==="oidc"?(u.clientId??(u.clientId=i),u.clientSecret??(u.clientSecret=a),u.issuer??(u.issuer=c)):u.type==="email"&&(u.apiKey??(u.apiKey=l)),u})}function Mr(e,t,r,n,o){let s=o?.basePath,i=n.AUTH_URL??n.NEXTAUTH_URL,a;if(i)a=new URL(i),s&&s!=="/"&&a.pathname!=="/"&&(a.pathname!==s&&Xt(o).warn("env-url-basepath-mismatch"),a.pathname="/");else{let l=r.get("x-forwarded-host")??r.get("host"),u=r.get("x-forwarded-proto")??t??"https",f=u.endsWith(":")?u:u+":";a=new URL(`${f}//${l}`)}let c=a.toString().replace(/\/$/,"");if(s){let l=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${c}/${l}/${e}`)}return new URL(`${c}/${e}`)}async function tr(e,t){let r=Xt(t),n=await dd(e,t);if(!n)return Response.json("Bad request.",{status:400});let o=Rl(n,t);if(Array.isArray(o))o.forEach(r.warn);else if(o){if(r.error(o),!new Set(["signin","signout","error","verify-request"]).has(n.action)||n.method!=="GET")return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:c,theme:l}=t,u=c?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(c.error);if(!c?.error||u){u&&r.error(new Wn(`The error page ${c?.error} should not require authentication`));let p=bo({theme:l}).error("Configuration");return la(p)}let f=`${n.url.origin}${c.error}?error=Configuration`;return Response.redirect(f)}let s=e.headers?.has("X-Auth-Return-Redirect"),i=t.raw===Ur;try{let a=await $f(n,t);if(i)return a;let c=la(a),l=c.headers.get("Location");return!s||!l?c:Response.json({url:l},{headers:c.headers})}catch(a){let c=a;r.error(c);let l=c instanceof te;if(l&&i&&!s)throw c;if(e.method==="POST"&&n.action==="session")return Response.json(null,{status:400});let f=vl(c)?c.type:"Configuration",p=new URLSearchParams({error:f});c instanceof dr&&p.set("code",c.code);let w=l&&c.kind||"error",m=t.pages?.[w]??`${t.basePath}/${w.toLowerCase()}`,h=`${n.url.origin}${m}?${p}`;return s?Response.json({url:h}):Response.redirect(h)}}var ap=pt(Yc(),1);function Uo(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:o}=e.nextUrl;return new ap.NextRequest(n.replace(o,r),e)}function Wr(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if(r==="/")return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),Ba(process.env,e,!0)}}var fu=pt(du(),1),di=pt(Yc(),1);async function jo(e,t){let r=Mr("session",e.get("x-forwarded-proto"),e,process.env,t),n=new Request(r,{headers:{cookie:e.get("cookie")??""}});return tr(n,{...t,callbacks:{...t.callbacks,async session(...o){let s=await t.callbacks?.session?.(...o)??{...o[0].session,expires:o[0].session.expires?.toISOString?.()??o[0].session.expires};return{user:o[0].user??o[0].token,...s}}}})}function Op(e){return typeof e=="function"}function hu(e,t){return typeof e=="function"?async(...r)=>{if(!r.length){let i=await(0,fu.headers)(),a=await e(void 0);return t?.(a),jo(i,a).then(c=>c.json())}if(r[0]instanceof Request){let i=r[0],a=r[1],c=await e(i);return t?.(c),li([i,a],c)}if(Op(r[0])){let i=r[0];return async(...a)=>{let c=await e(a[0]);return t?.(c),li(a,c,i)}}let n="req"in r[0]?r[0].req:r[0],o="res"in r[0]?r[0].res:r[1],s=await e(n);return t?.(s),jo(new Headers(n.headers),s).then(async i=>{let a=await i.json();for(let c of i.headers.getSetCookie())"headers"in o?o.headers.append("set-cookie",c):o.appendHeader("set-cookie",c);return a})}:(...r)=>{if(!r.length)return Promise.resolve((0,fu.headers)()).then(s=>jo(s,e).then(i=>i.json()));if(r[0]instanceof Request){let s=r[0],i=r[1];return li([s,i],e)}if(Op(r[0])){let s=r[0];return async(...i)=>li(i,e,s).then(a=>a)}let n="req"in r[0]?r[0].req:r[0],o="res"in r[0]?r[0].res:r[1];return jo(new Headers(n.headers),e).then(async s=>{let i=await s.json();for(let a of s.headers.getSetCookie())"headers"in o?o.headers.append("set-cookie",a):o.appendHeader("set-cookie",a);return i})}}async function li(e,t,r){let n=Uo(e[0]),o=await jo(n.headers,t),s=await o.json(),i=!0;t.callbacks?.authorized&&(i=await t.callbacks.authorized({request:n,auth:s}));let a=di.NextResponse.next?.();if(i instanceof Response){a=i;let l=i.headers.get("Location"),{pathname:u}=n.nextUrl;l&&Vv(u,new URL(l).pathname,t)&&(i=!0)}else if(r){let l=n;l.auth=s,a=await r(l,e[1])??di.NextResponse.next()}else if(!i){let l=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==l){let u=n.nextUrl.clone();u.pathname=l,u.searchParams.set("callbackUrl",n.nextUrl.href),a=di.NextResponse.redirect(u)}}let c=new Response(a?.body,a);for(let l of o.headers.getSetCookie())c.headers.append("set-cookie",l);return c}function Vv(e,t,r){let n=t.replace(`${e}/`,""),o=Object.values(r.pages??{});return(Yv.has(n)||o.includes(t))&&t===e}var Yv=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var vr=pt(du(),1),Ho=pt(Im(),1);async function Iu(e,t={},r,n){let o=new Headers(await(0,vr.headers)()),{redirect:s=!0,redirectTo:i,...a}=t instanceof FormData?Object.fromEntries(t):t,c=i?.toString()??o.get("Referer")??"/",l=Mr("signin",o.get("x-forwarded-proto"),o,process.env,n);if(!e)return l.searchParams.append("callbackUrl",c),s&&(0,Ho.redirect)(l.toString()),l.toString();let u=`${l}/${e}?${new URLSearchParams(r)}`,f={};for(let _ of n.providers){let{options:E,...R}=typeof _=="function"?_():_,k=E?.id??R.id;if(k===e){f={id:k,type:E?.type??R.type};break}}if(!f.id){let _=`${l}?${new URLSearchParams({callbackUrl:c})}`;return s&&(0,Ho.redirect)(_),_}f.type==="credentials"&&(u=u.replace("signin","callback")),o.set("Content-Type","application/x-www-form-urlencoded");let p=new URLSearchParams({...a,callbackUrl:c}),w=new Request(u,{method:"POST",headers:o,body:p}),m=await tr(w,{...n,raw:Ur,skipCSRFCheck:gr}),h=await(0,vr.cookies)();for(let _ of m?.cookies??[])h.set(_.name,_.value,_.options);let v=(m instanceof Response?m.headers.get("Location"):m.redirect)??u;return s?(0,Ho.redirect)(v):v}async function Ou(e,t){let r=new Headers(await(0,vr.headers)());r.set("Content-Type","application/x-www-form-urlencoded");let n=Mr("signout",r.get("x-forwarded-proto"),r,process.env,t),o=e?.redirectTo??r.get("Referer")??"/",s=new URLSearchParams({callbackUrl:o}),i=new Request(n,{method:"POST",headers:r,body:s}),a=await tr(i,{...t,raw:Ur,skipCSRFCheck:gr}),c=await(0,vr.cookies)();for(let l of a?.cookies??[])c.set(l.name,l.value,l.options);return e?.redirect??!0?(0,Ho.redirect)(a.redirect):a}async function Nu(e,t){let r=new Headers(await(0,vr.headers)());r.set("Content-Type","application/json");let n=Mr("session",r.get("x-forwarded-proto"),r,process.env,t),o=JSON.stringify({data:e}),s=new Request(n,{method:"POST",headers:r,body:o}),i=await tr(s,{...t,raw:Ur,skipCSRFCheck:gr}),a=await(0,vr.cookies)();for(let c of i?.cookies??[])a.set(c.name,c.value,c.options);return i.body}function Du(e){if(typeof e=="function"){let r=async n=>{let o=await e(n);return Wr(o),tr(Uo(n),o)};return{handlers:{GET:r,POST:r},auth:hu(e,n=>Wr(n)),signIn:async(n,o,s)=>{let i=await e(void 0);return Wr(i),Iu(n,o,s,i)},signOut:async n=>{let o=await e(void 0);return Wr(o),Ou(n,o)},unstable_update:async n=>{let o=await e(void 0);return Wr(o),Nu(n,o)}}}Wr(e);let t=r=>tr(Uo(r),e);return{handlers:{GET:t,POST:t},auth:hu(e),signIn:(r,n,o)=>Iu(r,n,o,e),signOut:r=>Ou(r,e),unstable_update:r=>Nu(r,e)}}function yi(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}function Om(e){let t=e;return{createUser:({id:r,...n})=>t.user.create(Sn(n)),getUser:r=>t.user.findUnique({where:{id:r}}),getUserByEmail:r=>t.user.findUnique({where:{email:r}}),async getUserByAccount(r){return(await t.account.findUnique({where:{provider_providerAccountId:r},select:{user:!0}}))?.user??null},updateUser:({id:r,...n})=>t.user.update({where:{id:r},...Sn(n)}),deleteUser:r=>t.user.delete({where:{id:r}}),linkAccount:r=>t.account.create({data:r}),unlinkAccount:r=>t.account.delete({where:{provider_providerAccountId:r}}),async getSessionAndUser(r){let n=await t.session.findUnique({where:{sessionToken:r},include:{user:!0}});if(!n)return null;let{user:o,...s}=n;return{user:o,session:s}},createSession:r=>t.session.create(Sn(r)),updateSession:r=>t.session.update({where:{sessionToken:r.sessionToken},...Sn(r)}),deleteSession:r=>t.session.delete({where:{sessionToken:r}}),async createVerificationToken(r){let n=await t.verificationToken.create(Sn(r));return n.id&&delete n.id,n},async useVerificationToken(r){try{let n=await t.verificationToken.delete({where:{identifier_token:r}});return n.id&&delete n.id,n}catch(n){if(n.code==="P2025")return null;throw n}},async getAccount(r,n){return t.account.findFirst({where:{providerAccountId:r,provider:n}})},async createAuthenticator(r){return t.authenticator.create(Sn(r))},async getAuthenticator(r){return t.authenticator.findUnique({where:{credentialID:r}})},async listAuthenticatorsByUserId(r){return t.authenticator.findMany({where:{userId:r}})},async updateAuthenticatorCounter(r,n){return t.authenticator.update({where:{credentialID:r},data:{counter:n}})}}}function Sn(e){let t={};for(let r in e)e[r]!==void 0&&(t[r]=e[r]);return{data:t}}var SS=Object.create,Rn=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,RS=Object.getOwnPropertyNames,xS=Object.getPrototypeOf,TS=Object.prototype.hasOwnProperty,PS=(e,t,r)=>t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,S=(e,t)=>Rn(e,"name",{value:t,configurable:!0}),Xe=(e,t)=>()=>(e&&(t=e(e=0)),t),de=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),It=(e,t)=>{for(var r in t)Rn(e,r,{get:t[r],enumerable:!0})},Lm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RS(t))!TS.call(e,o)&&o!==r&&Rn(e,o,{get:()=>t[o],enumerable:!(n=AS(t,o))||n.enumerable});return e},xn=(e,t,r)=>(r=e!=null?SS(xS(e)):{},Lm(t||!e||!e.__esModule?Rn(r,"default",{value:e,enumerable:!0}):r,e)),Be=e=>Lm(Rn({},"__esModule",{value:!0}),e),ne=(e,t,r)=>PS(e,typeof t!="symbol"?t+"":t,r),CS=de(e=>{"use strict";Y(),e.byteLength=c,e.toByteArray=u,e.fromByteArray=w;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,i=o.length;s<i;++s)t[s]=o[s],r[o.charCodeAt(s)]=s;var s,i;r[45]=62,r[95]=63;function a(m){var h=m.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=h);var v=y===h?0:4-y%4;return[y,v]}S(a,"getLens");function c(m){var h=a(m),y=h[0],v=h[1];return(y+v)*3/4-v}S(c,"byteLength");function l(m,h,y){return(h+y)*3/4-y}S(l,"_byteLength");function u(m){var h,y=a(m),v=y[0],_=y[1],E=new n(l(m,v,_)),R=0,k=_>0?v-4:v,A;for(A=0;A<k;A+=4)h=r[m.charCodeAt(A)]<<18|r[m.charCodeAt(A+1)]<<12|r[m.charCodeAt(A+2)]<<6|r[m.charCodeAt(A+3)],E[R++]=h>>16&255,E[R++]=h>>8&255,E[R++]=h&255;return _===2&&(h=r[m.charCodeAt(A)]<<2|r[m.charCodeAt(A+1)]>>4,E[R++]=h&255),_===1&&(h=r[m.charCodeAt(A)]<<10|r[m.charCodeAt(A+1)]<<4|r[m.charCodeAt(A+2)]>>2,E[R++]=h>>8&255,E[R++]=h&255),E}S(u,"toByteArray");function f(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}S(f,"tripletToBase64");function p(m,h,y){for(var v,_=[],E=h;E<y;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),_.push(f(v));return _.join("")}S(p,"encodeChunk");function w(m){for(var h,y=m.length,v=y%3,_=[],E=16383,R=0,k=y-v;R<k;R+=E)_.push(p(m,R,R+E>k?k:R+E));return v===1?(h=m[y-1],_.push(t[h>>2]+t[h<<4&63]+"==")):v===2&&(h=(m[y-2]<<8)+m[y-1],_.push(t[h>>10]+t[h>>4&63]+t[h<<2&63]+"=")),_.join("")}S(w,"fromByteArray")}),kS=de(e=>{Y(),e.read=function(t,r,n,o,s){var i,a,c=s*8-o-1,l=(1<<c)-1,u=l>>1,f=-7,p=n?s-1:0,w=n?-1:1,m=t[r+p];for(p+=w,i=m&(1<<-f)-1,m>>=-f,f+=c;f>0;i=i*256+t[r+p],p+=w,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=o;f>0;a=a*256+t[r+p],p+=w,f-=8);if(i===0)i=1-u;else{if(i===l)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,o),i=i-u}return(m?-1:1)*a*Math.pow(2,i-o)},e.write=function(t,r,n,o,s,i){var a,c,l,u=i*8-s-1,f=(1<<u)-1,p=f>>1,w=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=o?0:i-1,h=o?1:-1,y=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,a=f):(a=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?r+=w/l:r+=w*Math.pow(2,1-p),r*l>=2&&(a++,l/=2),a+p>=f?(c=0,a=f):a+p>=1?(c=(r*l-1)*Math.pow(2,s),a=a+p):(c=r*Math.pow(2,p-1)*Math.pow(2,s),a=0));s>=8;t[n+m]=c&255,m+=h,c/=256,s-=8);for(a=a<<s|c,u+=s;u>0;t[n+m]=a&255,m+=h,a/=256,u-=8);t[n+m-h]|=y*128}}),IS=de(e=>{"use strict";Y();var t=CS(),r=kS(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let d=new Uint8Array(1),g={foo:S(function(){return 42},"foo")};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(d,g),d.foo()===42}catch{return!1}}S(s,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:S(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:S(function(){if(a.isBuffer(this))return this.byteOffset},"get")});function i(d){if(d>o)throw new RangeError('The value "'+d+'" is invalid for option "size"');let g=new Uint8Array(d);return Object.setPrototypeOf(g,a.prototype),g}S(i,"createBuffer");function a(d,g,b){if(typeof d=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(d)}return c(d,g,b)}S(a,"Buffer"),a.poolSize=8192;function c(d,g,b){if(typeof d=="string")return p(d,g);if(ArrayBuffer.isView(d))return m(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(He(d,ArrayBuffer)||d&&He(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(d,SharedArrayBuffer)||d&&He(d.buffer,SharedArrayBuffer)))return h(d,g,b);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let C=d.valueOf&&d.valueOf();if(C!=null&&C!==d)return a.from(C,g,b);let O=y(d);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return a.from(d[Symbol.toPrimitive]("string"),g,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}S(c,"from"),a.from=function(d,g,b){return c(d,g,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}S(l,"assertSize");function u(d,g,b){return l(d),d<=0?i(d):g!==void 0?typeof b=="string"?i(d).fill(g,b):i(d).fill(g):i(d)}S(u,"alloc"),a.alloc=function(d,g,b){return u(d,g,b)};function f(d){return l(d),i(d<0?0:v(d)|0)}S(f,"allocUnsafe"),a.allocUnsafe=function(d){return f(d)},a.allocUnsafeSlow=function(d){return f(d)};function p(d,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);let b=E(d,g)|0,C=i(b),O=C.write(d,g);return O!==b&&(C=C.slice(0,O)),C}S(p,"fromString");function w(d){let g=d.length<0?0:v(d.length)|0,b=i(g);for(let C=0;C<g;C+=1)b[C]=d[C]&255;return b}S(w,"fromArrayLike");function m(d){if(He(d,Uint8Array)){let g=new Uint8Array(d);return h(g.buffer,g.byteOffset,g.byteLength)}return w(d)}S(m,"fromArrayView");function h(d,g,b){if(g<0||d.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<g+(b||0))throw new RangeError('"length" is outside of buffer bounds');let C;return g===void 0&&b===void 0?C=new Uint8Array(d):b===void 0?C=new Uint8Array(d,g):C=new Uint8Array(d,g,b),Object.setPrototypeOf(C,a.prototype),C}S(h,"fromArrayBuffer");function y(d){if(a.isBuffer(d)){let g=v(d.length)|0,b=i(g);return b.length===0||d.copy(b,0,0,g),b}if(d.length!==void 0)return typeof d.length!="number"||lr(d.length)?i(0):w(d);if(d.type==="Buffer"&&Array.isArray(d.data))return w(d.data)}S(y,"fromObject");function v(d){if(d>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return d|0}S(v,"checked");function _(d){return+d!=d&&(d=0),a.alloc(+d)}S(_,"SlowBuffer"),a.isBuffer=S(function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},"isBuffer"),a.compare=S(function(d,g){if(He(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),He(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(d)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===g)return 0;let b=d.length,C=g.length;for(let O=0,D=Math.min(b,C);O<D;++O)if(d[O]!==g[O]){b=d[O],C=g[O];break}return b<C?-1:C<b?1:0},"compare"),a.isEncoding=S(function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=S(function(d,g){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let b;if(g===void 0)for(g=0,b=0;b<d.length;++b)g+=d[b].length;let C=a.allocUnsafe(g),O=0;for(b=0;b<d.length;++b){let D=d[b];if(He(D,Uint8Array))O+D.length>C.length?(a.isBuffer(D)||(D=a.from(D)),D.copy(C,O)):Uint8Array.prototype.set.call(C,D,O);else if(a.isBuffer(D))D.copy(C,O);else throw new TypeError('"list" argument must be an Array of Buffers');O+=D.length}return C},"concat");function E(d,g){if(a.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||He(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);let b=d.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&b===0)return 0;let O=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return Jt(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return Mn(d).length;default:if(O)return C?-1:Jt(d).length;g=(""+g).toLowerCase(),O=!0}}S(E,"byteLength"),a.byteLength=E;function R(d,g,b){let C=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,g>>>=0,b<=g))return"";for(d||(d="utf8");;)switch(d){case"hex":return ae(this,g,b);case"utf8":case"utf-8":return U(this,g,b);case"ascii":return K(this,g,b);case"latin1":case"binary":return Z(this,g,b);case"base64":return H(this,g,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,g,b);default:if(C)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),C=!0}}S(R,"slowToString"),a.prototype._isBuffer=!0;function k(d,g,b){let C=d[g];d[g]=d[b],d[b]=C}S(k,"swap"),a.prototype.swap16=S(function(){let d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<d;g+=2)k(this,g,g+1);return this},"swap16"),a.prototype.swap32=S(function(){let d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<d;g+=4)k(this,g,g+3),k(this,g+1,g+2);return this},"swap32"),a.prototype.swap64=S(function(){let d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<d;g+=8)k(this,g,g+7),k(this,g+1,g+6),k(this,g+2,g+5),k(this,g+3,g+4);return this},"swap64"),a.prototype.toString=S(function(){let d=this.length;return d===0?"":arguments.length===0?U(this,0,d):R.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=S(function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},"equals"),a.prototype.inspect=S(function(){let d="",g=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(d+=" ... "),"<Buffer "+d+">"},"inspect"),n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=S(function(d,g,b,C,O){if(He(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(g===void 0&&(g=0),b===void 0&&(b=d?d.length:0),C===void 0&&(C=0),O===void 0&&(O=this.length),g<0||b>d.length||C<0||O>this.length)throw new RangeError("out of range index");if(C>=O&&g>=b)return 0;if(C>=O)return-1;if(g>=b)return 1;if(g>>>=0,b>>>=0,C>>>=0,O>>>=0,this===d)return 0;let D=O-C,L=b-g,pe=Math.min(D,L),ve=this.slice(C,O),V=d.slice(g,b);for(let F=0;F<pe;++F)if(ve[F]!==V[F]){D=ve[F],L=V[F];break}return D<L?-1:L<D?1:0},"compare");function A(d,g,b,C,O){if(d.length===0)return-1;if(typeof b=="string"?(C=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,lr(b)&&(b=O?0:d.length-1),b<0&&(b=d.length+b),b>=d.length){if(O)return-1;b=d.length-1}else if(b<0)if(O)b=0;else return-1;if(typeof g=="string"&&(g=a.from(g,C)),a.isBuffer(g))return g.length===0?-1:x(d,g,b,C,O);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(d,g,b):Uint8Array.prototype.lastIndexOf.call(d,g,b):x(d,[g],b,C,O);throw new TypeError("val must be string, number or Buffer")}S(A,"bidirectionalIndexOf");function x(d,g,b,C,O){let D=1,L=d.length,pe=g.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(d.length<2||g.length<2)return-1;D=2,L/=2,pe/=2,b/=2}function ve(F,we){return D===1?F[we]:F.readUInt16BE(we*D)}S(ve,"read");let V;if(O){let F=-1;for(V=b;V<L;V++)if(ve(d,V)===ve(g,F===-1?0:V-F)){if(F===-1&&(F=V),V-F+1===pe)return F*D}else F!==-1&&(V-=V-F),F=-1}else for(b+pe>L&&(b=L-pe),V=b;V>=0;V--){let F=!0;for(let we=0;we<pe;we++)if(ve(d,V+we)!==ve(g,we)){F=!1;break}if(F)return V}return-1}S(x,"arrayIndexOf"),a.prototype.includes=S(function(d,g,b){return this.indexOf(d,g,b)!==-1},"includes"),a.prototype.indexOf=S(function(d,g,b){return A(this,d,g,b,!0)},"indexOf"),a.prototype.lastIndexOf=S(function(d,g,b){return A(this,d,g,b,!1)},"lastIndexOf");function P(d,g,b,C){b=Number(b)||0;let O=d.length-b;C?(C=Number(C),C>O&&(C=O)):C=O;let D=g.length;C>D/2&&(C=D/2);let L;for(L=0;L<C;++L){let pe=parseInt(g.substr(L*2,2),16);if(lr(pe))return L;d[b+L]=pe}return L}S(P,"hexWrite");function T(d,g,b,C){return Gt(Jt(g,d.length-b),d,b,C)}S(T,"utf8Write");function N(d,g,b,C){return Gt(Ln(g),d,b,C)}S(N,"asciiWrite");function I(d,g,b,C){return Gt(Mn(g),d,b,C)}S(I,"base64Write");function $(d,g,b,C){return Gt(ur(g,d.length-b),d,b,C)}S($,"ucs2Write"),a.prototype.write=S(function(d,g,b,C){if(g===void 0)C="utf8",b=this.length,g=0;else if(b===void 0&&typeof g=="string")C=g,b=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(b)?(b=b>>>0,C===void 0&&(C="utf8")):(C=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let O=this.length-g;if((b===void 0||b>O)&&(b=O),d.length>0&&(b<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let D=!1;for(;;)switch(C){case"hex":return P(this,d,g,b);case"utf8":case"utf-8":return T(this,d,g,b);case"ascii":case"latin1":case"binary":return N(this,d,g,b);case"base64":return I(this,d,g,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,d,g,b);default:if(D)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),D=!0}},"write"),a.prototype.toJSON=S(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function H(d,g,b){return g===0&&b===d.length?t.fromByteArray(d):t.fromByteArray(d.slice(g,b))}S(H,"base64Slice");function U(d,g,b){b=Math.min(d.length,b);let C=[],O=g;for(;O<b;){let D=d[O],L=null,pe=D>239?4:D>223?3:D>191?2:1;if(O+pe<=b){let ve,V,F,we;switch(pe){case 1:D<128&&(L=D);break;case 2:ve=d[O+1],(ve&192)===128&&(we=(D&31)<<6|ve&63,we>127&&(L=we));break;case 3:ve=d[O+1],V=d[O+2],(ve&192)===128&&(V&192)===128&&(we=(D&15)<<12|(ve&63)<<6|V&63,we>2047&&(we<55296||we>57343)&&(L=we));break;case 4:ve=d[O+1],V=d[O+2],F=d[O+3],(ve&192)===128&&(V&192)===128&&(F&192)===128&&(we=(D&15)<<18|(ve&63)<<12|(V&63)<<6|F&63,we>65535&&we<1114112&&(L=we))}}L===null?(L=65533,pe=1):L>65535&&(L-=65536,C.push(L>>>10&1023|55296),L=56320|L&1023),C.push(L),O+=pe}return B(C)}S(U,"utf8Slice");var M=4096;function B(d){let g=d.length;if(g<=M)return String.fromCharCode.apply(String,d);let b="",C=0;for(;C<g;)b+=String.fromCharCode.apply(String,d.slice(C,C+=M));return b}S(B,"decodeCodePointsArray");function K(d,g,b){let C="";b=Math.min(d.length,b);for(let O=g;O<b;++O)C+=String.fromCharCode(d[O]&127);return C}S(K,"asciiSlice");function Z(d,g,b){let C="";b=Math.min(d.length,b);for(let O=g;O<b;++O)C+=String.fromCharCode(d[O]);return C}S(Z,"latin1Slice");function ae(d,g,b){let C=d.length;(!g||g<0)&&(g=0),(!b||b<0||b>C)&&(b=C);let O="";for(let D=g;D<b;++D)O+=Ni[d[D]];return O}S(ae,"hexSlice");function be(d,g,b){let C=d.slice(g,b),O="";for(let D=0;D<C.length-1;D+=2)O+=String.fromCharCode(C[D]+C[D+1]*256);return O}S(be,"utf16leSlice"),a.prototype.slice=S(function(d,g){let b=this.length;d=~~d,g=g===void 0?b:~~g,d<0?(d+=b,d<0&&(d=0)):d>b&&(d=b),g<0?(g+=b,g<0&&(g=0)):g>b&&(g=b),g<d&&(g=d);let C=this.subarray(d,g);return Object.setPrototypeOf(C,a.prototype),C},"slice");function ce(d,g,b){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+g>b)throw new RangeError("Trying to access beyond buffer length")}S(ce,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=S(function(d,g,b){d=d>>>0,g=g>>>0,b||ce(d,g,this.length);let C=this[d],O=1,D=0;for(;++D<g&&(O*=256);)C+=this[d+D]*O;return C},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=S(function(d,g,b){d=d>>>0,g=g>>>0,b||ce(d,g,this.length);let C=this[d+--g],O=1;for(;g>0&&(O*=256);)C+=this[d+--g]*O;return C},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=S(function(d,g){return d=d>>>0,g||ce(d,1,this.length),this[d]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=S(function(d,g){return d=d>>>0,g||ce(d,2,this.length),this[d]|this[d+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=S(function(d,g){return d=d>>>0,g||ce(d,2,this.length),this[d]<<8|this[d+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=S(function(d,g){return d=d>>>0,g||ce(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=S(function(d,g){return d=d>>>0,g||ce(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=at(S(function(d){d=d>>>0,Dt(d,"offset");let g=this[d],b=this[d+7];(g===void 0||b===void 0)&&Kt(d,this.length-8);let C=g+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,O=this[++d]+this[++d]*2**8+this[++d]*2**16+b*2**24;return BigInt(C)+(BigInt(O)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=at(S(function(d){d=d>>>0,Dt(d,"offset");let g=this[d],b=this[d+7];(g===void 0||b===void 0)&&Kt(d,this.length-8);let C=g*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],O=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+b;return(BigInt(C)<<BigInt(32))+BigInt(O)},"readBigUInt64BE")),a.prototype.readIntLE=S(function(d,g,b){d=d>>>0,g=g>>>0,b||ce(d,g,this.length);let C=this[d],O=1,D=0;for(;++D<g&&(O*=256);)C+=this[d+D]*O;return O*=128,C>=O&&(C-=Math.pow(2,8*g)),C},"readIntLE"),a.prototype.readIntBE=S(function(d,g,b){d=d>>>0,g=g>>>0,b||ce(d,g,this.length);let C=g,O=1,D=this[d+--C];for(;C>0&&(O*=256);)D+=this[d+--C]*O;return O*=128,D>=O&&(D-=Math.pow(2,8*g)),D},"readIntBE"),a.prototype.readInt8=S(function(d,g){return d=d>>>0,g||ce(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},"readInt8"),a.prototype.readInt16LE=S(function(d,g){d=d>>>0,g||ce(d,2,this.length);let b=this[d]|this[d+1]<<8;return b&32768?b|4294901760:b},"readInt16LE"),a.prototype.readInt16BE=S(function(d,g){d=d>>>0,g||ce(d,2,this.length);let b=this[d+1]|this[d]<<8;return b&32768?b|4294901760:b},"readInt16BE"),a.prototype.readInt32LE=S(function(d,g){return d=d>>>0,g||ce(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},"readInt32LE"),a.prototype.readInt32BE=S(function(d,g){return d=d>>>0,g||ce(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},"readInt32BE"),a.prototype.readBigInt64LE=at(S(function(d){d=d>>>0,Dt(d,"offset");let g=this[d],b=this[d+7];(g===void 0||b===void 0)&&Kt(d,this.length-8);let C=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(b<<24);return(BigInt(C)<<BigInt(32))+BigInt(g+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)},"readBigInt64LE")),a.prototype.readBigInt64BE=at(S(function(d){d=d>>>0,Dt(d,"offset");let g=this[d],b=this[d+7];(g===void 0||b===void 0)&&Kt(d,this.length-8);let C=(g<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(C)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+b)},"readBigInt64BE")),a.prototype.readFloatLE=S(function(d,g){return d=d>>>0,g||ce(d,4,this.length),r.read(this,d,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=S(function(d,g){return d=d>>>0,g||ce(d,4,this.length),r.read(this,d,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=S(function(d,g){return d=d>>>0,g||ce(d,8,this.length),r.read(this,d,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=S(function(d,g){return d=d>>>0,g||ce(d,8,this.length),r.read(this,d,!1,52,8)},"readDoubleBE");function ye(d,g,b,C,O,D){if(!a.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>O||g<D)throw new RangeError('"value" argument is out of bounds');if(b+C>d.length)throw new RangeError("Index out of range")}S(ye,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=S(function(d,g,b,C){if(d=+d,g=g>>>0,b=b>>>0,!C){let L=Math.pow(2,8*b)-1;ye(this,d,g,b,L,0)}let O=1,D=0;for(this[g]=d&255;++D<b&&(O*=256);)this[g+D]=d/O&255;return g+b},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=S(function(d,g,b,C){if(d=+d,g=g>>>0,b=b>>>0,!C){let L=Math.pow(2,8*b)-1;ye(this,d,g,b,L,0)}let O=b-1,D=1;for(this[g+O]=d&255;--O>=0&&(D*=256);)this[g+O]=d/D&255;return g+b},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,1,255,0),this[g]=d&255,g+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,2,65535,0),this[g]=d&255,this[g+1]=d>>>8,g+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,2,65535,0),this[g]=d>>>8,this[g+1]=d&255,g+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,4,4294967295,0),this[g+3]=d>>>24,this[g+2]=d>>>16,this[g+1]=d>>>8,this[g]=d&255,g+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,4,4294967295,0),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4},"writeUInt32BE");function $e(d,g,b,C,O){Pr(g,C,O,d,b,7);let D=Number(g&BigInt(4294967295));d[b++]=D,D=D>>8,d[b++]=D,D=D>>8,d[b++]=D,D=D>>8,d[b++]=D;let L=Number(g>>BigInt(32)&BigInt(4294967295));return d[b++]=L,L=L>>8,d[b++]=L,L=L>>8,d[b++]=L,L=L>>8,d[b++]=L,b}S($e,"wrtBigUInt64LE");function et(d,g,b,C,O){Pr(g,C,O,d,b,7);let D=Number(g&BigInt(4294967295));d[b+7]=D,D=D>>8,d[b+6]=D,D=D>>8,d[b+5]=D,D=D>>8,d[b+4]=D;let L=Number(g>>BigInt(32)&BigInt(4294967295));return d[b+3]=L,L=L>>8,d[b+2]=L,L=L>>8,d[b+1]=L,L=L>>8,d[b]=L,b+8}S(et,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=at(S(function(d,g=0){return $e(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=at(S(function(d,g=0){return et(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=S(function(d,g,b,C){if(d=+d,g=g>>>0,!C){let pe=Math.pow(2,8*b-1);ye(this,d,g,b,pe-1,-pe)}let O=0,D=1,L=0;for(this[g]=d&255;++O<b&&(D*=256);)d<0&&L===0&&this[g+O-1]!==0&&(L=1),this[g+O]=(d/D>>0)-L&255;return g+b},"writeIntLE"),a.prototype.writeIntBE=S(function(d,g,b,C){if(d=+d,g=g>>>0,!C){let pe=Math.pow(2,8*b-1);ye(this,d,g,b,pe-1,-pe)}let O=b-1,D=1,L=0;for(this[g+O]=d&255;--O>=0&&(D*=256);)d<0&&L===0&&this[g+O+1]!==0&&(L=1),this[g+O]=(d/D>>0)-L&255;return g+b},"writeIntBE"),a.prototype.writeInt8=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,1,127,-128),d<0&&(d=255+d+1),this[g]=d&255,g+1},"writeInt8"),a.prototype.writeInt16LE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,2,32767,-32768),this[g]=d&255,this[g+1]=d>>>8,g+2},"writeInt16LE"),a.prototype.writeInt16BE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,2,32767,-32768),this[g]=d>>>8,this[g+1]=d&255,g+2},"writeInt16BE"),a.prototype.writeInt32LE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,4,2147483647,-2147483648),this[g]=d&255,this[g+1]=d>>>8,this[g+2]=d>>>16,this[g+3]=d>>>24,g+4},"writeInt32LE"),a.prototype.writeInt32BE=S(function(d,g,b){return d=+d,g=g>>>0,b||ye(this,d,g,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4},"writeInt32BE"),a.prototype.writeBigInt64LE=at(S(function(d,g=0){return $e(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=at(S(function(d,g=0){return et(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function it(d,g,b,C,O,D){if(b+C>d.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}S(it,"checkIEEE754");function tt(d,g,b,C,O){return g=+g,b=b>>>0,O||it(d,g,b,4,34028234663852886e22,-34028234663852886e22),r.write(d,g,b,C,23,4),b+4}S(tt,"writeFloat"),a.prototype.writeFloatLE=S(function(d,g,b){return tt(this,d,g,!0,b)},"writeFloatLE"),a.prototype.writeFloatBE=S(function(d,g,b){return tt(this,d,g,!1,b)},"writeFloatBE");function ht(d,g,b,C,O){return g=+g,b=b>>>0,O||it(d,g,b,8,17976931348623157e292,-17976931348623157e292),r.write(d,g,b,C,52,8),b+8}S(ht,"writeDouble"),a.prototype.writeDoubleLE=S(function(d,g,b){return ht(this,d,g,!0,b)},"writeDoubleLE"),a.prototype.writeDoubleBE=S(function(d,g,b){return ht(this,d,g,!1,b)},"writeDoubleBE"),a.prototype.copy=S(function(d,g,b,C){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(b||(b=0),!C&&C!==0&&(C=this.length),g>=d.length&&(g=d.length),g||(g=0),C>0&&C<b&&(C=b),C===b||d.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),d.length-g<C-b&&(C=d.length-g+b);let O=C-b;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,b,C):Uint8Array.prototype.set.call(d,this.subarray(b,C),g),O},"copy"),a.prototype.fill=S(function(d,g,b,C){if(typeof d=="string"){if(typeof g=="string"?(C=g,g=0,b=this.length):typeof b=="string"&&(C=b,b=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(d.length===1){let D=d.charCodeAt(0);(C==="utf8"&&D<128||C==="latin1")&&(d=D)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(g<0||this.length<g||this.length<b)throw new RangeError("Out of range index");if(b<=g)return this;g=g>>>0,b=b===void 0?this.length:b>>>0,d||(d=0);let O;if(typeof d=="number")for(O=g;O<b;++O)this[O]=d;else{let D=a.isBuffer(d)?d:a.from(d,C),L=D.length;if(L===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(O=0;O<b-g;++O)this[O+g]=D[O%L]}return this},"fill");var Wt={};function Ft(d,g,b){var C;Wt[d]=(C=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}},S(C,"NodeError"),C)}S(Ft,"E"),Ft("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ft("ERR_INVALID_ARG_TYPE",function(d,g){return`The "${d}" argument must be of type number. Received type ${typeof g}`},TypeError),Ft("ERR_OUT_OF_RANGE",function(d,g,b){let C=`The value of "${d}" is out of range.`,O=b;return Number.isInteger(b)&&Math.abs(b)>2**32?O=Yo(String(b)):typeof b=="bigint"&&(O=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(O=Yo(O)),O+="n"),C+=` It must be ${g}. Received ${O}`,C},RangeError);function Yo(d){let g="",b=d.length,C=d[0]==="-"?1:0;for(;b>=C+4;b-=3)g=`_${d.slice(b-3,b)}${g}`;return`${d.slice(0,b)}${g}`}S(Yo,"addNumericalSeparator");function Kr(d,g,b){Dt(g,"offset"),(d[g]===void 0||d[g+b]===void 0)&&Kt(g,d.length-(b+1))}S(Kr,"checkBounds");function Pr(d,g,b,C,O,D){if(d>b||d<g){let L=typeof g=="bigint"?"n":"",pe;throw D>3?g===0||g===BigInt(0)?pe=`>= 0${L} and < 2${L} ** ${(D+1)*8}${L}`:pe=`>= -(2${L} ** ${(D+1)*8-1}${L}) and < 2 ** ${(D+1)*8-1}${L}`:pe=`>= ${g}${L} and <= ${b}${L}`,new Wt.ERR_OUT_OF_RANGE("value",pe,d)}Kr(C,O,D)}S(Pr,"checkIntBI");function Dt(d,g){if(typeof d!="number")throw new Wt.ERR_INVALID_ARG_TYPE(g,"number",d)}S(Dt,"validateNumber");function Kt(d,g,b){throw Math.floor(d)!==d?(Dt(d,b),new Wt.ERR_OUT_OF_RANGE(b||"offset","an integer",d)):g<0?new Wt.ERR_BUFFER_OUT_OF_BOUNDS:new Wt.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${g}`,d)}S(Kt,"boundsError");var Qo=/[^+/0-9A-Za-z-_]/g;function Xo(d){if(d=d.split("=")[0],d=d.trim().replace(Qo,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}S(Xo,"base64clean");function Jt(d,g){g=g||1/0;let b,C=d.length,O=null,D=[];for(let L=0;L<C;++L){if(b=d.charCodeAt(L),b>55295&&b<57344){if(!O){if(b>56319){(g-=3)>-1&&D.push(239,191,189);continue}else if(L+1===C){(g-=3)>-1&&D.push(239,191,189);continue}O=b;continue}if(b<56320){(g-=3)>-1&&D.push(239,191,189),O=b;continue}b=(O-55296<<10|b-56320)+65536}else O&&(g-=3)>-1&&D.push(239,191,189);if(O=null,b<128){if((g-=1)<0)break;D.push(b)}else if(b<2048){if((g-=2)<0)break;D.push(b>>6|192,b&63|128)}else if(b<65536){if((g-=3)<0)break;D.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((g-=4)<0)break;D.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return D}S(Jt,"utf8ToBytes");function Ln(d){let g=[];for(let b=0;b<d.length;++b)g.push(d.charCodeAt(b)&255);return g}S(Ln,"asciiToBytes");function ur(d,g){let b,C,O,D=[];for(let L=0;L<d.length&&!((g-=2)<0);++L)b=d.charCodeAt(L),C=b>>8,O=b%256,D.push(O),D.push(C);return D}S(ur,"utf16leToBytes");function Mn(d){return t.toByteArray(Xo(d))}S(Mn,"base64ToBytes");function Gt(d,g,b,C){let O;for(O=0;O<C&&!(O+b>=g.length||O>=d.length);++O)g[O+b]=d[O];return O}S(Gt,"blitBuffer");function He(d,g){return d instanceof g||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===g.name}S(He,"isInstance");function lr(d){return d!==d}S(lr,"numberIsNaN");var Ni=function(){let d="0123456789abcdef",g=new Array(256);for(let b=0;b<16;++b){let C=b*16;for(let O=0;O<16;++O)g[C+O]=d[b]+d[O]}return g}();function at(d){return typeof BigInt>"u"?jn:d}S(at,"defineBigIntMethod");function jn(){throw new Error("BigInt not supported")}S(jn,"BufferBigIntNotDefined")}),gi,Bu,OS,Fe,re,le,Y=Xe(()=>{"use strict";gi=globalThis,Bu=globalThis.setImmediate??(e=>setTimeout(e,0)),OS=globalThis.clearImmediate??(e=>clearTimeout(e)),Fe=globalThis.crypto??{},Fe.subtle??(Fe.subtle={}),re=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:IS().Buffer,le=globalThis.process??{},le.env??(le.env={});try{le.nextTick(()=>{})}catch{let e=Promise.resolve();le.nextTick=e.then.bind(e)}}),Fr=de((e,t)=>{"use strict";Y();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:S(function(A,x,P){return Function.prototype.apply.call(A,x,P)},"ReflectApply"),o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=S(function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))},"ReflectOwnKeys"):o=S(function(A){return Object.getOwnPropertyNames(A)},"ReflectOwnKeys");function s(A){console&&console.warn&&console.warn(A)}S(s,"ProcessEmitWarning");var i=Number.isNaN||S(function(A){return A!==A},"NumberIsNaN");function a(){a.init.call(this)}S(a,"EventEmitter"),t.exports=a,t.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}S(l,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:S(function(){return c},"get"),set:S(function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");c=A},"set")}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=S(function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},"setMaxListeners");function u(A){return A._maxListeners===void 0?a.defaultMaxListeners:A._maxListeners}S(u,"_getMaxListeners"),a.prototype.getMaxListeners=S(function(){return u(this)},"getMaxListeners"),a.prototype.emit=S(function(A){for(var x=[],P=1;P<arguments.length;P++)x.push(arguments[P]);var T=A==="error",N=this._events;if(N!==void 0)T=T&&N.error===void 0;else if(!T)return!1;if(T){var I;if(x.length>0&&(I=x[0]),I instanceof Error)throw I;var $=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw $.context=I,$}var H=N[A];if(H===void 0)return!1;if(typeof H=="function")n(H,this,x);else for(var U=H.length,M=y(H,U),P=0;P<U;++P)n(M[P],this,x);return!0},"emit");function f(A,x,P,T){var N,I,$;if(l(P),I=A._events,I===void 0?(I=A._events=Object.create(null),A._eventsCount=0):(I.newListener!==void 0&&(A.emit("newListener",x,P.listener?P.listener:P),I=A._events),$=I[x]),$===void 0)$=I[x]=P,++A._eventsCount;else if(typeof $=="function"?$=I[x]=T?[P,$]:[$,P]:T?$.unshift(P):$.push(P),N=u(A),N>0&&$.length>N&&!$.warned){$.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=A,H.type=x,H.count=$.length,s(H)}return A}S(f,"_addListener"),a.prototype.addListener=S(function(A,x){return f(this,A,x,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=S(function(A,x){return f(this,A,x,!0)},"prependListener");function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}S(p,"onceWrapper");function w(A,x,P){var T={fired:!1,wrapFn:void 0,target:A,type:x,listener:P},N=p.bind(T);return N.listener=P,T.wrapFn=N,N}S(w,"_onceWrap"),a.prototype.once=S(function(A,x){return l(x),this.on(A,w(this,A,x)),this},"once"),a.prototype.prependOnceListener=S(function(A,x){return l(x),this.prependListener(A,w(this,A,x)),this},"prependOnceListener"),a.prototype.removeListener=S(function(A,x){var P,T,N,I,$;if(l(x),T=this._events,T===void 0)return this;if(P=T[A],P===void 0)return this;if(P===x||P.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete T[A],T.removeListener&&this.emit("removeListener",A,P.listener||x));else if(typeof P!="function"){for(N=-1,I=P.length-1;I>=0;I--)if(P[I]===x||P[I].listener===x){$=P[I].listener,N=I;break}if(N<0)return this;N===0?P.shift():v(P,N),P.length===1&&(T[A]=P[0]),T.removeListener!==void 0&&this.emit("removeListener",A,$||x)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=S(function(A){var x,P,T;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[A]),this;if(arguments.length===0){var N=Object.keys(P),I;for(T=0;T<N.length;++T)I=N[T],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=P[A],typeof x=="function")this.removeListener(A,x);else if(x!==void 0)for(T=x.length-1;T>=0;T--)this.removeListener(A,x[T]);return this},"removeAllListeners");function m(A,x,P){var T=A._events;if(T===void 0)return[];var N=T[x];return N===void 0?[]:typeof N=="function"?P?[N.listener||N]:[N]:P?_(N):y(N,N.length)}S(m,"_listeners"),a.prototype.listeners=S(function(A){return m(this,A,!0)},"listeners"),a.prototype.rawListeners=S(function(A){return m(this,A,!1)},"rawListeners"),a.listenerCount=function(A,x){return typeof A.listenerCount=="function"?A.listenerCount(x):h.call(A,x)},a.prototype.listenerCount=h;function h(A){var x=this._events;if(x!==void 0){var P=x[A];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}S(h,"listenerCount"),a.prototype.eventNames=S(function(){return this._eventsCount>0?o(this._events):[]},"eventNames");function y(A,x){for(var P=new Array(x),T=0;T<x;++T)P[T]=A[T];return P}S(y,"arrayClone");function v(A,x){for(;x+1<A.length;x++)A[x]=A[x+1];A.pop()}S(v,"spliceOne");function _(A){for(var x=new Array(A.length),P=0;P<x.length;++P)x[P]=A[P].listener||A[P];return x}S(_,"unwrapListeners");function E(A,x){return new Promise(function(P,T){function N($){A.removeListener(x,I),T($)}S(N,"errorListener");function I(){typeof A.removeListener=="function"&&A.removeListener("error",N),P([].slice.call(arguments))}S(I,"resolver"),k(A,x,I,{once:!0}),x!=="error"&&R(A,N,{once:!0})})}S(E,"once");function R(A,x,P){typeof A.on=="function"&&k(A,"error",x,P)}S(R,"addErrorHandlerIfEventEmitter");function k(A,x,P,T){if(typeof A.on=="function")T.once?A.once(x,P):A.on(x,P);else if(typeof A.addEventListener=="function")A.addEventListener(x,S(function N(I){T.once&&A.removeEventListener(x,N),P(I)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}S(k,"eventTargetAgnosticAddListener")}),Fo={};It(Fo,{default:()=>Mm});var Mm,wi=Xe(()=>{"use strict";Y(),Mm={}});function Wo(e){let t=1779033703,r=3144134277,n=1013904242,o=2773480762,s=1359893119,i=2600822924,a=528734635,c=1541459225,l=0,u=0,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=S((_,E)=>_>>>E|_<<32-E,"rrot"),w=new Uint32Array(64),m=new Uint8Array(64),h=S(()=>{for(let N=0,I=0;N<16;N++,I+=4)w[N]=m[I]<<24|m[I+1]<<16|m[I+2]<<8|m[I+3];for(let N=16;N<64;N++){let I=p(w[N-15],7)^p(w[N-15],18)^w[N-15]>>>3,$=p(w[N-2],17)^p(w[N-2],19)^w[N-2]>>>10;w[N]=w[N-16]+I+w[N-7]+$|0}let _=t,E=r,R=n,k=o,A=s,x=i,P=a,T=c;for(let N=0;N<64;N++){let I=p(A,6)^p(A,11)^p(A,25),$=A&x^~A&P,H=T+I+$+f[N]+w[N]|0,U=p(_,2)^p(_,13)^p(_,22),M=_&E^_&R^E&R,B=U+M|0;T=P,P=x,x=A,A=k+H|0,k=R,R=E,E=_,_=H+B|0}t=t+_|0,r=r+E|0,n=n+R|0,o=o+k|0,s=s+A|0,i=i+x|0,a=a+P|0,c=c+T|0,u=0},"process"),y=S(_=>{typeof _=="string"&&(_=new TextEncoder().encode(_));for(let E=0;E<_.length;E++)m[u++]=_[E],u===64&&h();l+=_.length},"add"),v=S(()=>{if(m[u++]=128,u==64&&h(),u+8>64){for(;u<64;)m[u++]=0;h()}for(;u<58;)m[u++]=0;let _=l*8;m[u++]=_/1099511627776&255,m[u++]=_/4294967296&255,m[u++]=_>>>24,m[u++]=_>>>16&255,m[u++]=_>>>8&255,m[u++]=_&255,h();let E=new Uint8Array(32);return E[0]=t>>>24,E[1]=t>>>16&255,E[2]=t>>>8&255,E[3]=t&255,E[4]=r>>>24,E[5]=r>>>16&255,E[6]=r>>>8&255,E[7]=r&255,E[8]=n>>>24,E[9]=n>>>16&255,E[10]=n>>>8&255,E[11]=n&255,E[12]=o>>>24,E[13]=o>>>16&255,E[14]=o>>>8&255,E[15]=o&255,E[16]=s>>>24,E[17]=s>>>16&255,E[18]=s>>>8&255,E[19]=s&255,E[20]=i>>>24,E[21]=i>>>16&255,E[22]=i>>>8&255,E[23]=i&255,E[24]=a>>>24,E[25]=a>>>16&255,E[26]=a>>>8&255,E[27]=a&255,E[28]=c>>>24,E[29]=c>>>16&255,E[30]=c>>>8&255,E[31]=c&255,E},"digest");return e===void 0?{add:y,digest:v}:(y(e),v())}var NS=Xe(()=>{"use strict";Y(),S(Wo,"sha256")}),ar,Mu,DS=Xe(()=>{"use strict";Y(),ar=class dt{constructor(){ne(this,"_dataLength",0),ne(this,"_bufferLength",0),ne(this,"_state",new Int32Array(4)),ne(this,"_buffer",new ArrayBuffer(68)),ne(this,"_buffer8"),ne(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(t,r=!1){return this.onePassHasher.start().appendByteArray(t).end(r)}static hashStr(t,r=!1){return this.onePassHasher.start().appendStr(t).end(r)}static hashAsciiStr(t,r=!1){return this.onePassHasher.start().appendAsciiStr(t).end(r)}static _hex(t){let r=dt.hexChars,n=dt.hexOut,o,s,i,a;for(a=0;a<4;a+=1)for(s=a*8,o=t[a],i=0;i<8;i+=2)n[s+1+i]=r.charAt(o&15),o>>>=4,n[s+0+i]=r.charAt(o&15),o>>>=4;return n.join("")}static _md5cycle(t,r){let n=t[0],o=t[1],s=t[2],i=t[3];n+=(o&s|~o&i)+r[0]-680876936|0,n=(n<<7|n>>>25)+o|0,i+=(n&o|~n&s)+r[1]-389564586|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&o)+r[2]+606105819|0,s=(s<<17|s>>>15)+i|0,o+=(s&i|~s&n)+r[3]-1044525330|0,o=(o<<22|o>>>10)+s|0,n+=(o&s|~o&i)+r[4]-176418897|0,n=(n<<7|n>>>25)+o|0,i+=(n&o|~n&s)+r[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&o)+r[6]-1473231341|0,s=(s<<17|s>>>15)+i|0,o+=(s&i|~s&n)+r[7]-45705983|0,o=(o<<22|o>>>10)+s|0,n+=(o&s|~o&i)+r[8]+1770035416|0,n=(n<<7|n>>>25)+o|0,i+=(n&o|~n&s)+r[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&o)+r[10]-42063|0,s=(s<<17|s>>>15)+i|0,o+=(s&i|~s&n)+r[11]-1990404162|0,o=(o<<22|o>>>10)+s|0,n+=(o&s|~o&i)+r[12]+1804603682|0,n=(n<<7|n>>>25)+o|0,i+=(n&o|~n&s)+r[13]-40341101|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&o)+r[14]-1502002290|0,s=(s<<17|s>>>15)+i|0,o+=(s&i|~s&n)+r[15]+1236535329|0,o=(o<<22|o>>>10)+s|0,n+=(o&i|s&~i)+r[1]-165796510|0,n=(n<<5|n>>>27)+o|0,i+=(n&s|o&~s)+r[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,s+=(i&o|n&~o)+r[11]+643717713|0,s=(s<<14|s>>>18)+i|0,o+=(s&n|i&~n)+r[0]-373897302|0,o=(o<<20|o>>>12)+s|0,n+=(o&i|s&~i)+r[5]-701558691|0,n=(n<<5|n>>>27)+o|0,i+=(n&s|o&~s)+r[10]+38016083|0,i=(i<<9|i>>>23)+n|0,s+=(i&o|n&~o)+r[15]-660478335|0,s=(s<<14|s>>>18)+i|0,o+=(s&n|i&~n)+r[4]-405537848|0,o=(o<<20|o>>>12)+s|0,n+=(o&i|s&~i)+r[9]+568446438|0,n=(n<<5|n>>>27)+o|0,i+=(n&s|o&~s)+r[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,s+=(i&o|n&~o)+r[3]-187363961|0,s=(s<<14|s>>>18)+i|0,o+=(s&n|i&~n)+r[8]+1163531501|0,o=(o<<20|o>>>12)+s|0,n+=(o&i|s&~i)+r[13]-1444681467|0,n=(n<<5|n>>>27)+o|0,i+=(n&s|o&~s)+r[2]-51403784|0,i=(i<<9|i>>>23)+n|0,s+=(i&o|n&~o)+r[7]+1735328473|0,s=(s<<14|s>>>18)+i|0,o+=(s&n|i&~n)+r[12]-1926607734|0,o=(o<<20|o>>>12)+s|0,n+=(o^s^i)+r[5]-378558|0,n=(n<<4|n>>>28)+o|0,i+=(n^o^s)+r[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^o)+r[11]+1839030562|0,s=(s<<16|s>>>16)+i|0,o+=(s^i^n)+r[14]-35309556|0,o=(o<<23|o>>>9)+s|0,n+=(o^s^i)+r[1]-1530992060|0,n=(n<<4|n>>>28)+o|0,i+=(n^o^s)+r[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^o)+r[7]-155497632|0,s=(s<<16|s>>>16)+i|0,o+=(s^i^n)+r[10]-1094730640|0,o=(o<<23|o>>>9)+s|0,n+=(o^s^i)+r[13]+681279174|0,n=(n<<4|n>>>28)+o|0,i+=(n^o^s)+r[0]-358537222|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^o)+r[3]-722521979|0,s=(s<<16|s>>>16)+i|0,o+=(s^i^n)+r[6]+76029189|0,o=(o<<23|o>>>9)+s|0,n+=(o^s^i)+r[9]-640364487|0,n=(n<<4|n>>>28)+o|0,i+=(n^o^s)+r[12]-421815835|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^o)+r[15]+530742520|0,s=(s<<16|s>>>16)+i|0,o+=(s^i^n)+r[2]-995338651|0,o=(o<<23|o>>>9)+s|0,n+=(s^(o|~i))+r[0]-198630844|0,n=(n<<6|n>>>26)+o|0,i+=(o^(n|~s))+r[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~o))+r[14]-1416354905|0,s=(s<<15|s>>>17)+i|0,o+=(i^(s|~n))+r[5]-57434055|0,o=(o<<21|o>>>11)+s|0,n+=(s^(o|~i))+r[12]+1700485571|0,n=(n<<6|n>>>26)+o|0,i+=(o^(n|~s))+r[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~o))+r[10]-1051523|0,s=(s<<15|s>>>17)+i|0,o+=(i^(s|~n))+r[1]-2054922799|0,o=(o<<21|o>>>11)+s|0,n+=(s^(o|~i))+r[8]+1873313359|0,n=(n<<6|n>>>26)+o|0,i+=(o^(n|~s))+r[15]-30611744|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~o))+r[6]-1560198380|0,s=(s<<15|s>>>17)+i|0,o+=(i^(s|~n))+r[13]+1309151649|0,o=(o<<21|o>>>11)+s|0,n+=(s^(o|~i))+r[4]-145523070|0,n=(n<<6|n>>>26)+o|0,i+=(o^(n|~s))+r[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~o))+r[2]+718787259|0,s=(s<<15|s>>>17)+i|0,o+=(i^(s|~n))+r[9]-343485551|0,o=(o<<21|o>>>11)+s|0,t[0]=n+t[0]|0,t[1]=o+t[1]|0,t[2]=s+t[2]|0,t[3]=i+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(dt.stateIdentity),this}appendStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,s,i;for(i=0;i<t.length;i+=1){if(s=t.charCodeAt(i),s<128)r[o++]=s;else if(s<2048)r[o++]=(s>>>6)+192,r[o++]=s&63|128;else if(s<55296||s>56319)r[o++]=(s>>>12)+224,r[o++]=s>>>6&63|128,r[o++]=s&63|128;else{if(s=(s-55296)*1024+(t.charCodeAt(++i)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[o++]=(s>>>18)+240,r[o++]=s>>>12&63|128,r[o++]=s>>>6&63|128,r[o++]=s&63|128}o>=64&&(this._dataLength+=64,dt._md5cycle(this._state,n),o-=64,n[0]=n[16])}return this._bufferLength=o,this}appendAsciiStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,s,i=0;for(;;){for(s=Math.min(t.length-i,64-o);s--;)r[o++]=t.charCodeAt(i++);if(o<64)break;this._dataLength+=64,dt._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}appendByteArray(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,s,i=0;for(;;){for(s=Math.min(t.length-i,64-o);s--;)r[o++]=t[i++];if(o<64)break;this._dataLength+=64,dt._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}getState(){let t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){let r=t.buffer,n=t.state,o=this._state,s;for(this._dataLength=t.length,this._bufferLength=t.buflen,o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],s=0;s<r.length;s+=1)this._buffer8[s]=r.charCodeAt(s)}end(t=!1){let r=this._bufferLength,n=this._buffer8,o=this._buffer32,s=(r>>2)+1;this._dataLength+=r;let i=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,o.set(dt.buffer32Identity.subarray(s),s),r>55&&(dt._md5cycle(this._state,o),o.set(dt.buffer32Identity)),i<=4294967295)o[14]=i;else{let a=i.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;let c=parseInt(a[2],16),l=parseInt(a[1],16)||0;o[14]=c,o[15]=l}return dt._md5cycle(this._state,o),t?this._state:dt._hex(this._state)}},S(ar,"Md5"),ne(ar,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),ne(ar,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),ne(ar,"hexChars","0123456789abcdef"),ne(ar,"hexOut",[]),ne(ar,"onePassHasher",new ar),Mu=ar}),$u={};It($u,{createHash:()=>Bm,createHmac:()=>$m,randomBytes:()=>jm});function jm(e){return Fe.getRandomValues(re.alloc(e))}function Bm(e){if(e==="sha256")return{update:S(function(t){return{digest:S(function(){return re.from(Wo(t))},"digest")}},"update")};if(e==="md5")return{update:S(function(t){return{digest:S(function(){return typeof t=="string"?Mu.hashStr(t):Mu.hashByteArray(t)},"digest")}},"update")};throw new Error(`Hash type '${e}' not supported`)}function $m(e,t){if(e!=="sha256")throw new Error(`Only sha256 is supported (requested: '${e}')`);return{update:S(function(r){return{digest:S(function(){typeof t=="string"&&(t=new TextEncoder().encode(t)),typeof r=="string"&&(r=new TextEncoder().encode(r));let n=t.length;if(n>64)t=Wo(t);else if(n<64){let c=new Uint8Array(64);c.set(t),t=c}let o=new Uint8Array(64),s=new Uint8Array(64);for(let c=0;c<64;c++)o[c]=54^t[c],s[c]=92^t[c];let i=new Uint8Array(r.length+64);i.set(o,0),i.set(r,64);let a=new Uint8Array(96);return a.set(s,0),a.set(Wo(i),64),re.from(Wo(a))},"digest")}},"update")}}var Hm=Xe(()=>{"use strict";Y(),NS(),DS(),S(jm,"randomBytes"),S(Bm,"createHash"),S($m,"createHmac")}),qm=de(e=>{"use strict";Y(),e.parse=function(o,s){return new r(o,s).parse()};var t=class Wm{constructor(s,i){this.source=s,this.transform=i||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var s=this.source[this.position++];return s==="\\"?{value:this.source[this.position++],escaped:!0}:{value:s,escaped:!1}}record(s){this.recorded.push(s)}newEntry(s){var i;(this.recorded.length>0||s)&&(i=this.recorded.join(""),i==="NULL"&&!s&&(i=null),i!==null&&(i=this.transform(i)),this.entries.push(i),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var s=this.nextCharacter();if(s.value==="=")break}}parse(s){var i,a,c;for(this.consumeDimensions();!this.isEof();)if(i=this.nextCharacter(),i.value==="{"&&!c)this.dimension++,this.dimension>1&&(a=new Wm(this.source.substr(this.position-1),this.transform),this.entries.push(a.parse(!0)),this.position+=a.position-2);else if(i.value==="}"&&!c){if(this.dimension--,!this.dimension&&(this.newEntry(),s))return this.entries}else i.value==='"'&&!i.escaped?(c&&this.newEntry(!0),c=!c):i.value===","&&!c?this.newEntry():this.record(i.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};S(t,"ArrayParser");var r=t;function n(o){return o}S(n,"identity")}),Fm=de((e,t)=>{Y();var r=qm();t.exports={create:S(function(n,o){return{parse:S(function(){return r.parse(n,o)},"parse")}},"create")}}),US=de((e,t)=>{"use strict";Y();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,s=/^-?infinity$/;t.exports=S(function(u){if(s.test(u))return Number(u.replace("i","I"));var f=r.exec(u);if(!f)return i(u)||null;var p=!!f[8],w=parseInt(f[1],10);p&&(w=c(w));var m=parseInt(f[2],10)-1,h=f[3],y=parseInt(f[4],10),v=parseInt(f[5],10),_=parseInt(f[6],10),E=f[7];E=E?1e3*parseFloat(E):0;var R,k=a(u);return k!=null?(R=new Date(Date.UTC(w,m,h,y,v,_,E)),l(w)&&R.setUTCFullYear(w),k!==0&&R.setTime(R.getTime()-k)):(R=new Date(w,m,h,y,v,_,E),l(w)&&R.setFullYear(w)),R},"parseDate");function i(u){var f=n.exec(u);if(f){var p=parseInt(f[1],10),w=!!f[4];w&&(p=c(p));var m=parseInt(f[2],10)-1,h=f[3],y=new Date(p,m,h);return l(p)&&y.setFullYear(p),y}}S(i,"getDate");function a(u){if(u.endsWith("+00"))return 0;var f=o.exec(u.split(" ")[1]);if(f){var p=f[1];if(p==="Z")return 0;var w=p==="-"?-1:1,m=parseInt(f[2],10)*3600+parseInt(f[3]||0,10)*60+parseInt(f[4]||0,10);return m*w*1e3}}S(a,"timeZoneOffset");function c(u){return-(u-1)}S(c,"bcYearToNegativeYear");function l(u){return u>=0&&u<100}S(l,"is0To99")}),LS=de((e,t)=>{Y(),t.exports=n;var r=Object.prototype.hasOwnProperty;function n(o){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var a in i)r.call(i,a)&&(o[a]=i[a])}return o}S(n,"extend")}),MS=de((e,t)=>{"use strict";Y();var r=LS();t.exports=n;function n(_){if(!(this instanceof n))return new n(_);r(this,v(_))}S(n,"PostgresInterval");var o=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var _=o.filter(this.hasOwnProperty,this);return this.milliseconds&&_.indexOf("seconds")<0&&_.push("seconds"),_.length===0?"0":_.map(function(E){var R=this[E]||0;return E==="seconds"&&this.milliseconds&&(R=(R+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),R+" "+E},this).join(" ")};var s={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},i=["years","months","days"],a=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){var _=i.map(R,this).join(""),E=a.map(R,this).join("");return"P"+_+"T"+E;function R(k){var A=this[k]||0;return k==="seconds"&&this.milliseconds&&(A=(A+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),A+s[k]}};var c="([+-]?\\d+)",l=c+"\\s+years?",u=c+"\\s+mons?",f=c+"\\s+days?",p="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",w=new RegExp([l,u,f,p].map(function(_){return"("+_+")?"}).join("\\s*")),m={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},h=["hours","minutes","seconds","milliseconds"];function y(_){var E=_+"000000".slice(_.length);return parseInt(E,10)/1e3}S(y,"parseMilliseconds");function v(_){if(!_)return{};var E=w.exec(_),R=E[8]==="-";return Object.keys(m).reduce(function(k,A){var x=m[A],P=E[x];return!P||(P=A==="milliseconds"?y(P):parseInt(P,10),!P)||(R&&~h.indexOf(A)&&(P*=-1),k[A]=P),k},{})}S(v,"parse")}),jS=de((e,t)=>{"use strict";Y(),t.exports=S(function(r){if(/^\\x/.test(r))return new re(r.substr(2),"hex");for(var n="",o=0;o<r.length;)if(r[o]!=="\\")n+=r[o],++o;else if(/[0-7]{3}/.test(r.substr(o+1,3)))n+=String.fromCharCode(parseInt(r.substr(o+1,3),8)),o+=4;else{for(var s=1;o+s<r.length&&r[o+s]==="\\";)s++;for(var i=0;i<Math.floor(s/2);++i)n+="\\";o+=Math.floor(s/2)*2}return new re(n,"binary")},"parseBytea")}),BS=de((e,t)=>{Y();var r=qm(),n=Fm(),o=US(),s=MS(),i=jS();function a(T){return S(function(N){return N===null?N:T(N)},"nullAllowed")}S(a,"allowNull");function c(T){return T===null?T:T==="TRUE"||T==="t"||T==="true"||T==="y"||T==="yes"||T==="on"||T==="1"}S(c,"parseBool");function l(T){return T?r.parse(T,c):null}S(l,"parseBoolArray");function u(T){return parseInt(T,10)}S(u,"parseBaseTenInt");function f(T){return T?r.parse(T,a(u)):null}S(f,"parseIntegerArray");function p(T){return T?r.parse(T,a(function(N){return R(N).trim()})):null}S(p,"parseBigIntegerArray");var w=S(function(T){if(!T)return null;var N=n.create(T,function(I){return I!==null&&(I=A(I)),I});return N.parse()},"parsePointArray"),m=S(function(T){if(!T)return null;var N=n.create(T,function(I){return I!==null&&(I=parseFloat(I)),I});return N.parse()},"parseFloatArray"),h=S(function(T){if(!T)return null;var N=n.create(T);return N.parse()},"parseStringArray"),y=S(function(T){if(!T)return null;var N=n.create(T,function(I){return I!==null&&(I=o(I)),I});return N.parse()},"parseDateArray"),v=S(function(T){if(!T)return null;var N=n.create(T,function(I){return I!==null&&(I=s(I)),I});return N.parse()},"parseIntervalArray"),_=S(function(T){return T?r.parse(T,a(i)):null},"parseByteAArray"),E=S(function(T){return parseInt(T,10)},"parseInteger"),R=S(function(T){var N=String(T);return/^\d+$/.test(N)?N:T},"parseBigInteger"),k=S(function(T){return T?r.parse(T,a(JSON.parse)):null},"parseJsonArray"),A=S(function(T){return T[0]!=="("?null:(T=T.substring(1,T.length-1).split(","),{x:parseFloat(T[0]),y:parseFloat(T[1])})},"parsePoint"),x=S(function(T){if(T[0]!=="<"&&T[1]!=="(")return null;for(var N="(",I="",$=!1,H=2;H<T.length-1;H++){if($||(N+=T[H]),T[H]===")"){$=!0;continue}else if(!$)continue;T[H]!==","&&(I+=T[H])}var U=A(N);return U.radius=parseFloat(I),U},"parseCircle"),P=S(function(T){T(20,R),T(21,E),T(23,E),T(26,E),T(700,parseFloat),T(701,parseFloat),T(16,c),T(1082,o),T(1114,o),T(1184,o),T(600,A),T(651,h),T(718,x),T(1e3,l),T(1001,_),T(1005,f),T(1007,f),T(1028,f),T(1016,p),T(1017,w),T(1021,m),T(1022,m),T(1231,m),T(1014,h),T(1015,h),T(1008,h),T(1009,h),T(1040,h),T(1041,h),T(1115,y),T(1182,y),T(1185,y),T(1186,s),T(1187,v),T(17,i),T(114,JSON.parse.bind(JSON)),T(3802,JSON.parse.bind(JSON)),T(199,k),T(3807,k),T(3907,h),T(2951,h),T(791,h),T(1183,h),T(1270,h)},"init");t.exports={init:P}}),$S=de((e,t)=>{"use strict";Y();var r=1e6;function n(o){var s=o.readInt32BE(0),i=o.readUInt32BE(4),a="";s<0&&(s=~s+(i===0),i=~i+1>>>0,a="-");var c="",l,u,f,p,w,m;{if(l=s%r,s=s/r>>>0,u=4294967296*l+i,i=u/r>>>0,f=""+(u-r*i),i===0&&s===0)return a+f+c;for(p="",w=6-f.length,m=0;m<w;m++)p+="0";c=p+f+c}{if(l=s%r,s=s/r>>>0,u=4294967296*l+i,i=u/r>>>0,f=""+(u-r*i),i===0&&s===0)return a+f+c;for(p="",w=6-f.length,m=0;m<w;m++)p+="0";c=p+f+c}{if(l=s%r,s=s/r>>>0,u=4294967296*l+i,i=u/r>>>0,f=""+(u-r*i),i===0&&s===0)return a+f+c;for(p="",w=6-f.length,m=0;m<w;m++)p+="0";c=p+f+c}return l=s%r,u=4294967296*l+i,f=""+u%r,a+f+c}S(n,"readInt8"),t.exports=n}),HS=de((e,t)=>{Y();var r=$S(),n=S(function(h,y,v,_,E){v=v||0,_=_||!1,E=E||function($,H,U){return $*Math.pow(2,U)+H};var R=v>>3,k=S(function($){return _?~$&255:$},"inv"),A=255,x=8-v%8;y<x&&(A=255<<8-y&255,x=y),v&&(A=A>>v%8);var P=0;v%8+y>=8&&(P=E(0,k(h[R])&A,x));for(var T=y+v>>3,N=R+1;N<T;N++)P=E(P,k(h[N]),8);var I=(y+v)%8;return I>0&&(P=E(P,k(h[T])>>8-I,I)),P},"parseBits"),o=S(function(h,y,v){var _=Math.pow(2,v-1)-1,E=n(h,1),R=n(h,v,1);if(R===0)return 0;var k=1,A=S(function(P,T,N){P===0&&(P=1);for(var I=1;I<=N;I++)k/=2,(T&1<<N-I)>0&&(P+=k);return P},"parsePrecisionBits"),x=n(h,y,v+1,!1,A);return R==Math.pow(2,v+1)-1?x===0?E===0?1/0:-1/0:NaN:(E===0?1:-1)*Math.pow(2,R-_)*x},"parseFloatFromBits"),s=S(function(h){return n(h,1)==1?-1*(n(h,15,1,!0)+1):n(h,15,1)},"parseInt16"),i=S(function(h){return n(h,1)==1?-1*(n(h,31,1,!0)+1):n(h,31,1)},"parseInt32"),a=S(function(h){return o(h,23,8)},"parseFloat32"),c=S(function(h){return o(h,52,11)},"parseFloat64"),l=S(function(h){var y=n(h,16,32);if(y==49152)return NaN;for(var v=Math.pow(1e4,n(h,16,16)),_=0,E=[],R=n(h,16),k=0;k<R;k++)_+=n(h,16,64+16*k)*v,v/=1e4;var A=Math.pow(10,n(h,16,48));return(y===0?1:-1)*Math.round(_*A)/A},"parseNumeric"),u=S(function(h,y){var v=n(y,1),_=n(y,63,1),E=new Date((v===0?1:-1)*_/1e3+9466848e5);return h||E.setTime(E.getTime()+E.getTimezoneOffset()*6e4),E.usec=_%1e3,E.getMicroSeconds=function(){return this.usec},E.setMicroSeconds=function(R){this.usec=R},E.getUTCMicroSeconds=function(){return this.usec},E},"parseDate"),f=S(function(h){for(var y=n(h,32),v=n(h,32,32),_=n(h,32,64),E=96,R=[],k=0;k<y;k++)R[k]=n(h,32,E),E+=32,E+=32;var A=S(function(P){var T=n(h,32,E);if(E+=32,T==4294967295)return null;var N;if(P==23||P==20)return N=n(h,T*8,E),E+=T*8,N;if(P==25)return N=h.toString(this.encoding,E>>3,(E+=T<<3)>>3),N;console.log("ERROR: ElementType not implemented: "+P)},"parseElement"),x=S(function(P,T){var N=[],I;if(P.length>1){var $=P.shift();for(I=0;I<$;I++)N[I]=x(P,T);P.unshift($)}else for(I=0;I<P[0];I++)N[I]=A(T);return N},"parse");return x(R,_)},"parseArray"),p=S(function(h){return h.toString("utf8")},"parseText"),w=S(function(h){return h===null?null:n(h,8)>0},"parseBool"),m=S(function(h){h(20,r),h(21,s),h(23,i),h(26,i),h(1700,l),h(700,a),h(701,c),h(16,w),h(1114,u.bind(null,!1)),h(1184,u.bind(null,!0)),h(1e3,f),h(1007,f),h(1016,f),h(1008,f),h(1009,f),h(25,p)},"init");t.exports={init:m}}),qS=de((e,t)=>{Y(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),bi=de(e=>{Y();var t=BS(),r=HS(),n=Fm(),o=qS();e.getTypeParser=a,e.setTypeParser=c,e.arrayParser=n,e.builtins=o;var s={text:{},binary:{}};function i(l){return String(l)}S(i,"noParse");function a(l,u){return u=u||"text",s[u]&&s[u][l]||i}S(a,"getTypeParser");function c(l,u,f){typeof u=="function"&&(f=u,u="text"),s[u][l]=f}S(c,"setTypeParser"),t.init(function(l,u){s.text[l]=u}),r.init(function(l,u){s.binary[l]=u})}),_i=de((e,t)=>{"use strict";Y(),t.exports={host:"localhost",user:le.platform==="win32"?le.env.USERNAME:le.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=bi(),n=r.getTypeParser(20,"text"),o=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(s){r.setTypeParser(20,"text",s?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",s?r.getTypeParser(1007,"text"):o)})}),vi=de((e,t)=>{"use strict";Y();var r=(Hm(),Be($u)),n=_i();function o(m){var h=m.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+h+'"'}S(o,"escapeElement");function s(m){for(var h="{",y=0;y<m.length;y++)y>0&&(h=h+","),m[y]===null||typeof m[y]>"u"?h=h+"NULL":Array.isArray(m[y])?h=h+s(m[y]):m[y]instanceof re?h+="\\\\x"+m[y].toString("hex"):h+=o(i(m[y]));return h=h+"}",h}S(s,"arrayString");var i=S(function(m,h){if(m==null)return null;if(m instanceof re)return m;if(ArrayBuffer.isView(m)){var y=re.from(m.buffer,m.byteOffset,m.byteLength);return y.length===m.byteLength?y:y.slice(m.byteOffset,m.byteOffset+m.byteLength)}return m instanceof Date?n.parseInputDatesAsUTC?u(m):l(m):Array.isArray(m)?s(m):typeof m=="object"?a(m,h):m.toString()},"prepareValue");function a(m,h){if(m&&typeof m.toPostgres=="function"){if(h=h||[],h.indexOf(m)!==-1)throw new Error('circular reference detected while preparing "'+m+'" for query');return h.push(m),i(m.toPostgres(i),h)}return JSON.stringify(m)}S(a,"prepareObject");function c(m,h){for(m=""+m;m.length<h;)m="0"+m;return m}S(c,"pad");function l(m){var h=-m.getTimezoneOffset(),y=m.getFullYear(),v=y<1;v&&(y=Math.abs(y)+1);var _=c(y,4)+"-"+c(m.getMonth()+1,2)+"-"+c(m.getDate(),2)+"T"+c(m.getHours(),2)+":"+c(m.getMinutes(),2)+":"+c(m.getSeconds(),2)+"."+c(m.getMilliseconds(),3);return h<0?(_+="-",h*=-1):_+="+",_+=c(Math.floor(h/60),2)+":"+c(h%60,2),v&&(_+=" BC"),_}S(l,"dateToString");function u(m){var h=m.getUTCFullYear(),y=h<1;y&&(h=Math.abs(h)+1);var v=c(h,4)+"-"+c(m.getUTCMonth()+1,2)+"-"+c(m.getUTCDate(),2)+"T"+c(m.getUTCHours(),2)+":"+c(m.getUTCMinutes(),2)+":"+c(m.getUTCSeconds(),2)+"."+c(m.getUTCMilliseconds(),3);return v+="+00:00",y&&(v+=" BC"),v}S(u,"dateToStringUTC");function f(m,h,y){return m=typeof m=="string"?{text:m}:m,h&&(typeof h=="function"?m.callback=h:m.values=h),y&&(m.callback=y),m}S(f,"normalizeQueryConfig");var p=S(function(m){return r.createHash("md5").update(m,"utf-8").digest("hex")},"md5"),w=S(function(m,h,y){var v=p(h+m),_=p(re.concat([re.from(v),y]));return"md5"+_},"postgresMd5PasswordHash");t.exports={prepareValue:S(function(m){return i(m)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:w,md5:p}}),WS=de((e,t)=>{"use strict";Y();var r=(Hm(),Be($u));function n(h){if(h.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let y=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:y,response:"n,,n=*,r="+y,message:"SASLInitialResponse"}}S(n,"startSession");function o(h,y,v){if(h.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof y!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let _=l(v);if(_.nonce.startsWith(h.clientNonce)){if(_.nonce.length===h.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var E=re.from(_.salt,"base64"),R=m(y,E,_.iteration),k=w(R,"Client Key"),A=p(k),x="n=*,r="+h.clientNonce,P="r="+_.nonce+",s="+_.salt+",i="+_.iteration,T="c=biws,r="+_.nonce,N=x+","+P+","+T,I=w(A,N),$=f(k,I),H=$.toString("base64"),U=w(R,"Server Key"),M=w(U,N);h.message="SASLResponse",h.serverSignature=M.toString("base64"),h.response=T+",p="+H}S(o,"continueSession");function s(h,y){if(h.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof y!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:v}=u(y);if(v!==h.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}S(s,"finalizeSession");function i(h){if(typeof h!="string")throw new TypeError("SASL: text must be a string");return h.split("").map((y,v)=>h.charCodeAt(v)).every(y=>y>=33&&y<=43||y>=45&&y<=126)}S(i,"isPrintableChars");function a(h){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(h)}S(a,"isBase64");function c(h){if(typeof h!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(h.split(",").map(y=>{if(!/^.=/.test(y))throw new Error("SASL: Invalid attribute pair entry");let v=y[0],_=y.substring(2);return[v,_]}))}S(c,"parseAttributePairs");function l(h){let y=c(h),v=y.get("r");if(v){if(!i(v))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let _=y.get("s");if(_){if(!a(_))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let E=y.get("i");if(E){if(!/^[1-9][0-9]*$/.test(E))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let R=parseInt(E,10);return{nonce:v,salt:_,iteration:R}}S(l,"parseServerFirstMessage");function u(h){let y=c(h).get("v");if(y){if(!a(y))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:y}}S(u,"parseServerFinalMessage");function f(h,y){if(!re.isBuffer(h))throw new TypeError("first argument must be a Buffer");if(!re.isBuffer(y))throw new TypeError("second argument must be a Buffer");if(h.length!==y.length)throw new Error("Buffer lengths must match");if(h.length===0)throw new Error("Buffers cannot be empty");return re.from(h.map((v,_)=>h[_]^y[_]))}S(f,"xorBuffers");function p(h){return r.createHash("sha256").update(h).digest()}S(p,"sha256");function w(h,y){return r.createHmac("sha256",h).update(y).digest()}S(w,"hmacSha256");function m(h,y,v){for(var _=w(h,re.concat([y,re.from([0,0,0,1])])),E=_,R=0;R<v-1;R++)_=w(h,_),E=f(E,_);return E}S(m,"Hi"),t.exports={startSession:n,continueSession:o,finalizeSession:s}}),Hu={};It(Hu,{join:()=>Km});function Km(...e){return e.join("/")}var Jm=Xe(()=>{"use strict";Y(),S(Km,"join")}),qu={};It(qu,{stat:()=>Gm});function Gm(e,t){t(new Error("No filesystem"))}var zm=Xe(()=>{"use strict";Y(),S(Gm,"stat")}),Wu={};It(Wu,{default:()=>Vm});var Vm,Ym=Xe(()=>{"use strict";Y(),Vm={}}),Qm={};It(Qm,{StringDecoder:()=>Xm});var Uu,Xm,FS=Xe(()=>{"use strict";Y(),Uu=class{constructor(t){ne(this,"td"),this.td=new TextDecoder(t)}write(t){return this.td.decode(t,{stream:!0})}end(t){return this.td.decode(t)}},S(Uu,"StringDecoder"),Xm=Uu}),KS=de((e,t)=>{"use strict";Y();var{Transform:r}=(Ym(),Be(Wu)),{StringDecoder:n}=(FS(),Be(Qm)),o=Symbol("last"),s=Symbol("decoder");function i(f,p,w){let m;if(this.overflow){if(m=this[s].write(f).split(this.matcher),m.length===1)return w();m.shift(),this.overflow=!1}else this[o]+=this[s].write(f),m=this[o].split(this.matcher);this[o]=m.pop();for(let h=0;h<m.length;h++)try{c(this,this.mapper(m[h]))}catch(y){return w(y)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){w(new Error("maximum buffer reached"));return}w()}S(i,"transform");function a(f){if(this[o]+=this[s].end(),this[o])try{c(this,this.mapper(this[o]))}catch(p){return f(p)}f()}S(a,"flush");function c(f,p){p!==void 0&&f.push(p)}S(c,"push");function l(f){return f}S(l,"noop");function u(f,p,w){switch(f=f||/\r?\n/,p=p||l,w=w||{},arguments.length){case 1:typeof f=="function"?(p=f,f=/\r?\n/):typeof f=="object"&&!(f instanceof RegExp)&&!f[Symbol.split]&&(w=f,f=/\r?\n/);break;case 2:typeof f=="function"?(w=p,p=f,f=/\r?\n/):typeof p=="object"&&(w=p,p=l)}w=Object.assign({},w),w.autoDestroy=!0,w.transform=i,w.flush=a,w.readableObjectMode=!0;let m=new r(w);return m[o]="",m[s]=new n("utf8"),m.matcher=f,m.mapper=p,m.maxLength=w.maxLength,m.skipOverflow=w.skipOverflow||!1,m.overflow=!1,m._destroy=function(h,y){this._writableState.errorEmitted=!1,y(h)},m}S(u,"split"),t.exports=u}),JS=de((e,t)=>{"use strict";Y();var r=(Jm(),Be(Hu)),n=(Ym(),Be(Wu)).Stream,o=KS(),s=(wi(),Be(Fo)),i=5432,a=le.platform==="win32",c=le.stderr,l=56,u=7,f=61440,p=32768;function w(k){return(k&f)==p}S(w,"isRegFile");var m=["host","port","database","user","password"],h=m.length,y=m[h-1];function v(){var k=c instanceof n&&c.writable===!0;if(k){var A=Array.prototype.slice.call(arguments).concat(`
`);c.write(s.format.apply(s,A))}}S(v,"warn"),Object.defineProperty(t.exports,"isWin",{get:S(function(){return a},"get"),set:S(function(k){a=k},"set")}),t.exports.warnTo=function(k){var A=c;return c=k,A},t.exports.getFileName=function(k){var A=k||le.env,x=A.PGPASSFILE||(a?r.join(A.APPDATA||"./","postgresql","pgpass.conf"):r.join(A.HOME||"./",".pgpass"));return x},t.exports.usePgPass=function(k,A){return Object.prototype.hasOwnProperty.call(le.env,"PGPASSWORD")?!1:a?!0:(A=A||"<unkn>",w(k.mode)?k.mode&(l|u)?(v('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',A),!1):!0:(v('WARNING: password file "%s" is not a plain file',A),!1))};var _=t.exports.match=function(k,A){return m.slice(0,-1).reduce(function(x,P,T){return T==1&&Number(k[P]||i)===Number(A[P])?x&&!0:x&&(A[P]==="*"||A[P]===k[P])},!0)};t.exports.getPassword=function(k,A,x){var P,T=A.pipe(o());function N(H){var U=E(H);U&&R(U)&&_(k,U)&&(P=U[y],T.end())}S(N,"onLine");var I=S(function(){A.destroy(),x(P)},"onEnd"),$=S(function(H){A.destroy(),v("WARNING: error on reading file: %s",H),x(void 0)},"onErr");A.on("error",$),T.on("data",N).on("end",I).on("error",$)};var E=t.exports.parseLine=function(k){if(k.length<11||k.match(/^\s+#/))return null;for(var A="",x="",P=0,T=0,N=0,I={},$=!1,H=S(function(M,B,K){var Z=k.substring(B,K);Object.hasOwnProperty.call(le.env,"PGPASS_NO_DEESCAPE")||(Z=Z.replace(/\\([:\\])/g,"$1")),I[m[M]]=Z},"addToObj"),U=0;U<k.length-1;U+=1){if(A=k.charAt(U+1),x=k.charAt(U),$=P==h-1,$){H(P,T);break}U>=0&&A==":"&&x!=="\\"&&(H(P,T,U+1),T=U+2,P+=1)}return I=Object.keys(I).length===h?I:null,I},R=t.exports.isValidEntry=function(k){for(var A={0:function(I){return I.length>0},1:function(I){return I==="*"?!0:(I=Number(I),isFinite(I)&&I>0&&I<9007199254740992&&Math.floor(I)===I)},2:function(I){return I.length>0},3:function(I){return I.length>0},4:function(I){return I.length>0}},x=0;x<m.length;x+=1){var P=A[x],T=k[m[x]]||"",N=P(T);if(!N)return!1}return!0}}),GS=de((e,t)=>{"use strict";Y();var r=(Jm(),Be(Hu)),n=(zm(),Be(qu)),o=JS();t.exports=function(s,i){var a=o.getFileName();n.stat(a,function(c,l){if(c||!o.usePgPass(l,a))return i(void 0);var u=n.createReadStream(a);o.getPassword(s,u,i)})},t.exports.warnTo=o.warnTo}),Fu=de((e,t)=>{"use strict";Y();var r=bi();function n(o){this._types=o||r,this.text={},this.binary={}}S(n,"TypeOverrides"),n.prototype.getOverrides=function(o){switch(o){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(o,s,i){typeof s=="function"&&(i=s,s="text"),this.getOverrides(s)[o]=i},n.prototype.getTypeParser=function(o,s){return s=s||"text",this.getOverrides(s)[o]||this._types.getTypeParser(o,s)},t.exports=n}),Zm={};It(Zm,{default:()=>ey});var ey,zS=Xe(()=>{"use strict";Y(),ey={}}),ty={};It(ty,{parse:()=>Ku});function Ku(e,t=!1){let{protocol:r}=new URL(e),n="http:"+e.substring(r.length),{username:o,password:s,host:i,hostname:a,port:c,pathname:l,search:u,searchParams:f,hash:p}=new URL(n);s=decodeURIComponent(s),o=decodeURIComponent(o),l=decodeURIComponent(l);let w=o+":"+s,m=t?Object.fromEntries(f.entries()):u;return{href:e,protocol:r,auth:w,username:o,password:s,host:i,hostname:a,port:c,pathname:l,search:u,query:m,hash:p}}var ry=Xe(()=>{"use strict";Y(),S(Ku,"parse")}),VS=de((e,t)=>{"use strict";Y();var r=(ry(),Be(ty)),n=(zm(),Be(qu));function o(s){if(s.charAt(0)==="/"){var a=s.split(" ");return{host:a[0],database:a[1]}}var i=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(s)?encodeURI(s).replace(/\%25(\d\d)/g,"%$1"):s,!0),a=i.query;for(var c in a)Array.isArray(a[c])&&(a[c]=a[c][a[c].length-1]);var l=(i.auth||":").split(":");if(a.user=l[0],a.password=l.splice(1).join(":"),a.port=i.port,i.protocol=="socket:")return a.host=decodeURI(i.pathname),a.database=i.query.db,a.client_encoding=i.query.encoding,a;a.host||(a.host=i.hostname);var u=i.pathname;if(!a.host&&u&&/^%2f/i.test(u)){var f=u.split("/");a.host=decodeURIComponent(f[0]),u=f.splice(1).join("/")}switch(u&&u.charAt(0)==="/"&&(u=u.slice(1)||null),a.database=u&&decodeURI(u),(a.ssl==="true"||a.ssl==="1")&&(a.ssl=!0),a.ssl==="0"&&(a.ssl=!1),(a.sslcert||a.sslkey||a.sslrootcert||a.sslmode)&&(a.ssl={}),a.sslcert&&(a.ssl.cert=n.readFileSync(a.sslcert).toString()),a.sslkey&&(a.ssl.key=n.readFileSync(a.sslkey).toString()),a.sslrootcert&&(a.ssl.ca=n.readFileSync(a.sslrootcert).toString()),a.sslmode){case"disable":{a.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{a.ssl.rejectUnauthorized=!1;break}}return a}S(o,"parse"),t.exports=o,o.parse=o}),Ju=de((e,t)=>{"use strict";Y();var r=(zS(),Be(Zm)),n=_i(),o=VS().parse,s=S(function(f,p,w){return w===void 0?w=le.env["PG"+f.toUpperCase()]:w===!1||(w=le.env[w]),p[f]||w||n[f]},"val"),i=S(function(){switch(le.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),a=S(function(f){return"'"+(""+f).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),c=S(function(f,p,w){var m=p[w];m!=null&&f.push(w+"="+a(m))},"add"),l=class{constructor(p){p=typeof p=="string"?o(p):p||{},p.connectionString&&(p=Object.assign({},p,o(p.connectionString))),this.user=s("user",p),this.database=s("database",p),this.database===void 0&&(this.database=this.user),this.port=parseInt(s("port",p),10),this.host=s("host",p),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:s("password",p)}),this.binary=s("binary",p),this.options=s("options",p),this.ssl=typeof p.ssl>"u"?i():p.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=s("client_encoding",p),this.replication=s("replication",p),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=s("application_name",p,"PGAPPNAME"),this.fallback_application_name=s("fallback_application_name",p,!1),this.statement_timeout=s("statement_timeout",p,!1),this.lock_timeout=s("lock_timeout",p,!1),this.idle_in_transaction_session_timeout=s("idle_in_transaction_session_timeout",p,!1),this.query_timeout=s("query_timeout",p,!1),p.connectionTimeoutMillis===void 0?this.connect_timeout=le.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(p.connectionTimeoutMillis/1e3),p.keepAlive===!1?this.keepalives=0:p.keepAlive===!0&&(this.keepalives=1),typeof p.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(p.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(p){var w=[];c(w,this,"user"),c(w,this,"password"),c(w,this,"port"),c(w,this,"application_name"),c(w,this,"fallback_application_name"),c(w,this,"connect_timeout"),c(w,this,"options");var m=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(w,m,"sslmode"),c(w,m,"sslca"),c(w,m,"sslkey"),c(w,m,"sslcert"),c(w,m,"sslrootcert"),this.database&&w.push("dbname="+a(this.database)),this.replication&&w.push("replication="+a(this.replication)),this.host&&w.push("host="+a(this.host)),this.isDomainSocket)return p(null,w.join(" "));this.client_encoding&&w.push("client_encoding="+a(this.client_encoding)),r.lookup(this.host,function(h,y){return h?p(h,null):(w.push("hostaddr="+a(y)),p(null,w.join(" ")))})}};S(l,"ConnectionParameters");var u=l;t.exports=u}),YS=de((e,t)=>{"use strict";Y();var r=bi(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,o=class{constructor(a,c){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=c,this.RowCtor=null,this.rowAsArray=a==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var c;a.text?c=n.exec(a.text):c=n.exec(a.command),c&&(this.command=c[1],c[3]?(this.oid=parseInt(c[2],10),this.rowCount=parseInt(c[3],10)):c[2]&&(this.rowCount=parseInt(c[2],10)))}_parseRowAsArray(a){for(var c=new Array(a.length),l=0,u=a.length;l<u;l++){var f=a[l];f!==null?c[l]=this._parsers[l](f):c[l]=null}return c}parseRow(a){for(var c={},l=0,u=a.length;l<u;l++){var f=a[l],p=this.fields[l].name;f!==null?c[p]=this._parsers[l](f):c[p]=null}return c}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=new Array(a.length));for(var c=0;c<a.length;c++){var l=a[c];this._types?this._parsers[c]=this._types.getTypeParser(l.dataTypeID,l.format||"text"):this._parsers[c]=r.getTypeParser(l.dataTypeID,l.format||"text")}}};S(o,"Result");var s=o;t.exports=s}),QS=de((e,t)=>{"use strict";Y();var{EventEmitter:r}=Fr(),n=YS(),o=vi(),s=class extends r{constructor(c,l,u){super(),c=o.normalizeQueryConfig(c,l,u),this.text=c.text,this.values=c.values,this.rows=c.rows,this.types=c.types,this.name=c.name,this.binary=c.binary,this.portal=c.portal||"",this.callback=c.callback,this._rowMode=c.rowMode,le.domain&&c.callback&&(this.callback=le.domain.bind(c.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(c){this._checkForMultirow(),this._result.addFields(c.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(c){let l;if(!this._canceledDueToError){try{l=this._result.parseRow(c.fields)}catch(u){this._canceledDueToError=u;return}this.emit("row",l,this._result),this._accumulateRows&&this._result.addRow(l)}}handleCommandComplete(c,l){this._checkForMultirow(),this._result.addCommandComplete(c),this.rows&&l.sync()}handleEmptyQuery(c){this.rows&&c.sync()}handleError(c,l){if(this._canceledDueToError&&(c=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(c);this.emit("error",c)}handleReadyForQuery(c){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,c);if(this.callback)try{this.callback(null,this._results)}catch(l){le.nextTick(()=>{throw l})}this.emit("end",this._results)}submit(c){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let l=c.parsedStatements[this.name];return this.text&&l&&this.text!==l?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(c):c.query(this.text),null)}hasBeenParsed(c){return this.name&&c.parsedStatements[this.name]}handlePortalSuspended(c){this._getRows(c,this.rows)}_getRows(c,l){c.execute({portal:this.portal,rows:l}),l?c.flush():c.sync()}prepare(c){this.isPreparedStatement=!0,this.hasBeenParsed(c)||c.parse({text:this.text,name:this.name,types:this.types});try{c.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:o.prepareValue})}catch(l){this.handleError(l,c);return}c.describe({type:"P",name:this.portal||""}),this._getRows(c,this.rows)}handleCopyInResponse(c){c.sendCopyFail("No source stream defined")}handleCopyData(c,l){}};S(s,"Query");var i=s;t.exports=i}),ny={};It(ny,{Socket:()=>Tn,isIP:()=>oy});function oy(e){return 0}var Nm,Lu,qo,Tn,Gu=Xe(()=>{"use strict";Y(),Nm=xn(Fr(),1),S(oy,"isIP"),Lu=/^[^.]+\./,qo=class ee extends Nm.EventEmitter{constructor(){super(...arguments),ne(this,"opts",{}),ne(this,"connecting",!1),ne(this,"pending",!0),ne(this,"writable",!0),ne(this,"encrypted",!1),ne(this,"authorized",!1),ne(this,"destroyed",!1),ne(this,"ws",null),ne(this,"writeBuffer"),ne(this,"tlsState",0),ne(this,"tlsRead"),ne(this,"tlsWrite")}static get poolQueryViaFetch(){return ee.opts.poolQueryViaFetch??ee.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){ee.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return ee.opts.fetchEndpoint??ee.defaults.fetchEndpoint}static set fetchEndpoint(t){ee.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return ee.opts.fetchFunction??ee.defaults.fetchFunction}static set fetchFunction(t){ee.opts.fetchFunction=t}static get webSocketConstructor(){return ee.opts.webSocketConstructor??ee.defaults.webSocketConstructor}static set webSocketConstructor(t){ee.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??ee.webSocketConstructor}set webSocketConstructor(t){this.opts.webSocketConstructor=t}static get wsProxy(){return ee.opts.wsProxy??ee.defaults.wsProxy}static set wsProxy(t){ee.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??ee.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return ee.opts.coalesceWrites??ee.defaults.coalesceWrites}static set coalesceWrites(t){ee.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??ee.coalesceWrites}set coalesceWrites(t){this.opts.coalesceWrites=t}static get useSecureWebSocket(){return ee.opts.useSecureWebSocket??ee.defaults.useSecureWebSocket}static set useSecureWebSocket(t){ee.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??ee.useSecureWebSocket}set useSecureWebSocket(t){this.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return ee.opts.forceDisablePgSSL??ee.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){ee.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??ee.forceDisablePgSSL}set forceDisablePgSSL(t){this.opts.forceDisablePgSSL=t}static get disableSNI(){return ee.opts.disableSNI??ee.defaults.disableSNI}static set disableSNI(t){ee.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??ee.disableSNI}set disableSNI(t){this.opts.disableSNI=t}static get pipelineConnect(){return ee.opts.pipelineConnect??ee.defaults.pipelineConnect}static set pipelineConnect(t){ee.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??ee.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){return ee.opts.subtls??ee.defaults.subtls}static set subtls(t){ee.opts.subtls=t}get subtls(){return this.opts.subtls??ee.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){return ee.opts.pipelineTLS??ee.defaults.pipelineTLS}static set pipelineTLS(t){ee.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??ee.pipelineTLS}set pipelineTLS(t){this.opts.pipelineTLS=t}static get rootCerts(){return ee.opts.rootCerts??ee.defaults.rootCerts}static set rootCerts(t){ee.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??ee.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,r){let n=this.wsProxy;if(n===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof n=="function"?n(t,r):`${n}?address=${t}:${r}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(t,r,n){this.connecting=!0,n&&this.once("connect",n);let o=S(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),s=S((a,c=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",l=>{this.emit("error",l),this.emit("close")}),a.addEventListener("message",l=>{if(this.tlsState===0){let u=re.from(l.data);this.emit("data",u)}}),a.addEventListener("close",()=>{this.emit("close")}),c?o():a.addEventListener("open",o)},"configureWebSocket"),i;try{i=this.wsProxyAddrForHost(r,typeof t=="string"?parseInt(t,10):t)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+i;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(a),s(this.ws);else try{this.ws=new WebSocket(a),s(this.ws)}catch{this.ws=new __unstable_WebSocket(a),s(this.ws)}}catch(a){let c=(this.useSecureWebSocket?"https:":"http:")+"//"+i;fetch(c,{headers:{Upgrade:"websocket"}}).then(l=>{if(this.ws=l.webSocket,this.ws==null)throw a;this.ws.accept(),s(this.ws,!0)}).catch(l=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${l.message}`)),this.emit("close")})}}async startTls(t){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let r=this.subtls.TrustedCert.fromPEM(this.rootCerts),n=new this.subtls.WebSocketReadQueue(this.ws),o=n.read.bind(n),s=this.rawWrite.bind(this),[i,a]=await this.subtls.startTls(t,r,o,s,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=i,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.tlsRead();if(t===void 0)break;{let r=re.from(t);this.emit("data",r)}}}rawWrite(t){if(!this.coalesceWrites){this.ws.send(t);return}if(this.writeBuffer===void 0)this.writeBuffer=t,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let r=new Uint8Array(this.writeBuffer.length+t.length);r.set(this.writeBuffer),r.set(t,this.writeBuffer.length),this.writeBuffer=r}}write(t,r="utf8",n=o=>{}){return t.length===0?(n(),!0):(typeof t=="string"&&(t=re.from(t,r)),this.tlsState===0?(this.rawWrite(t),n()):this.tlsState===1?this.once("secureConnection",()=>{this.write(t,r,n)}):(this.tlsWrite(t),n()),!0)}end(t=re.alloc(0),r="utf8",n=()=>{}){return this.write(t,r,()=>{this.ws.close(),n()}),this}destroy(){return this.destroyed=!0,this.end()}},S(qo,"Socket"),ne(qo,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:S((e,t,r)=>{let n;return r?.jwtAuth?n=e.replace(Lu,"apiauth."):n=e.replace(Lu,"api."),"https://"+n+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:S(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),ne(qo,"opts",{}),Tn=qo}),sy=de(e=>{"use strict";Y(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(U,M,B){super(U),this.length=M,this.name=B}};S(t,"DatabaseError");var r=t;e.DatabaseError=r;var n=class{constructor(U,M){this.length=U,this.chunk=M,this.name="copyData"}};S(n,"CopyDataMessage");var o=n;e.CopyDataMessage=o;var s=class{constructor(U,M,B,K){this.length=U,this.name=M,this.binary=B,this.columnTypes=new Array(K)}};S(s,"CopyResponse");var i=s;e.CopyResponse=i;var a=class{constructor(U,M,B,K,Z,ae,be){this.name=U,this.tableID=M,this.columnID=B,this.dataTypeID=K,this.dataTypeSize=Z,this.dataTypeModifier=ae,this.format=be}};S(a,"Field");var c=a;e.Field=c;var l=class{constructor(U,M){this.length=U,this.fieldCount=M,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};S(l,"RowDescriptionMessage");var u=l;e.RowDescriptionMessage=u;var f=class{constructor(U,M){this.length=U,this.parameterCount=M,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};S(f,"ParameterDescriptionMessage");var p=f;e.ParameterDescriptionMessage=p;var w=class{constructor(U,M,B){this.length=U,this.parameterName=M,this.parameterValue=B,this.name="parameterStatus"}};S(w,"ParameterStatusMessage");var m=w;e.ParameterStatusMessage=m;var h=class{constructor(U,M){this.length=U,this.salt=M,this.name="authenticationMD5Password"}};S(h,"AuthenticationMD5Password");var y=h;e.AuthenticationMD5Password=y;var v=class{constructor(U,M,B){this.length=U,this.processID=M,this.secretKey=B,this.name="backendKeyData"}};S(v,"BackendKeyDataMessage");var _=v;e.BackendKeyDataMessage=_;var E=class{constructor(U,M,B,K){this.length=U,this.processId=M,this.channel=B,this.payload=K,this.name="notification"}};S(E,"NotificationResponseMessage");var R=E;e.NotificationResponseMessage=R;var k=class{constructor(U,M){this.length=U,this.status=M,this.name="readyForQuery"}};S(k,"ReadyForQueryMessage");var A=k;e.ReadyForQueryMessage=A;var x=class{constructor(U,M){this.length=U,this.text=M,this.name="commandComplete"}};S(x,"CommandCompleteMessage");var P=x;e.CommandCompleteMessage=P;var T=class{constructor(U,M){this.length=U,this.fields=M,this.name="dataRow",this.fieldCount=M.length}};S(T,"DataRowMessage");var N=T;e.DataRowMessage=N;var I=class{constructor(U,M){this.length=U,this.message=M,this.name="notice"}};S(I,"NoticeMessage");var $=I;e.NoticeMessage=$}),XS=de(e=>{"use strict";Y(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(o=256){this.size=o,this.offset=5,this.headerPosition=0,this.buffer=re.allocUnsafe(o)}ensure(o){var s=this.buffer.length-this.offset;if(s<o){var i=this.buffer,a=i.length+(i.length>>1)+o;this.buffer=re.allocUnsafe(a),i.copy(this.buffer)}}addInt32(o){return this.ensure(4),this.buffer[this.offset++]=o>>>24&255,this.buffer[this.offset++]=o>>>16&255,this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addInt16(o){return this.ensure(2),this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addCString(o){if(!o)this.ensure(1);else{var s=re.byteLength(o);this.ensure(s+1),this.buffer.write(o,this.offset,"utf-8"),this.offset+=s}return this.buffer[this.offset++]=0,this}addString(o=""){var s=re.byteLength(o);return this.ensure(s),this.buffer.write(o,this.offset),this.offset+=s,this}add(o){return this.ensure(o.length),o.copy(this.buffer,this.offset),this.offset+=o.length,this}join(o){if(o){this.buffer[this.headerPosition]=o;let s=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(s,this.headerPosition+1)}return this.buffer.slice(o?0:5,this.offset)}flush(o){var s=this.join(o);return this.offset=5,this.headerPosition=0,this.buffer=re.allocUnsafe(this.size),s}};S(t,"Writer");var r=t;e.Writer=r}),ZS=de(e=>{"use strict";Y(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=XS(),r=new t.Writer,n=S(U=>{r.addInt16(3).addInt16(0);for(let K of Object.keys(U))r.addCString(K).addCString(U[K]);r.addCString("client_encoding").addCString("UTF8");var M=r.addCString("").flush(),B=M.length+4;return new t.Writer().addInt32(B).add(M).flush()},"startup"),o=S(()=>{let U=re.allocUnsafe(8);return U.writeInt32BE(8,0),U.writeInt32BE(80877103,4),U},"requestSsl"),s=S(U=>r.addCString(U).flush(112),"password"),i=S(function(U,M){return r.addCString(U).addInt32(re.byteLength(M)).addString(M),r.flush(112)},"sendSASLInitialResponseMessage"),a=S(function(U){return r.addString(U).flush(112)},"sendSCRAMClientFinalMessage"),c=S(U=>r.addCString(U).flush(81),"query"),l=[],u=S(U=>{let M=U.name||"";M.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",M,M.length),console.error("This can cause conflicts and silent errors executing queries"));let B=U.types||l;for(var K=B.length,Z=r.addCString(M).addCString(U.text).addInt16(K),ae=0;ae<K;ae++)Z.addInt32(B[ae]);return r.flush(80)},"parse"),f=new t.Writer,p=S(function(U,M){for(let B=0;B<U.length;B++){let K=M?M(U[B],B):U[B];K==null?(r.addInt16(0),f.addInt32(-1)):K instanceof re?(r.addInt16(1),f.addInt32(K.length),f.add(K)):(r.addInt16(0),f.addInt32(re.byteLength(K)),f.addString(K))}},"writeValues"),w=S((U={})=>{let M=U.portal||"",B=U.statement||"",K=U.binary||!1,Z=U.values||l,ae=Z.length;return r.addCString(M).addCString(B),r.addInt16(ae),p(Z,U.valueMapper),r.addInt16(ae),r.add(f.flush()),r.addInt16(K?1:0),r.flush(66)},"bind"),m=re.from([69,0,0,0,9,0,0,0,0,0]),h=S(U=>{if(!U||!U.portal&&!U.rows)return m;let M=U.portal||"",B=U.rows||0,K=re.byteLength(M),Z=4+K+1+4,ae=re.allocUnsafe(1+Z);return ae[0]=69,ae.writeInt32BE(Z,1),ae.write(M,5,"utf-8"),ae[K+5]=0,ae.writeUInt32BE(B,ae.length-4),ae},"execute"),y=S((U,M)=>{let B=re.allocUnsafe(16);return B.writeInt32BE(16,0),B.writeInt16BE(1234,4),B.writeInt16BE(5678,6),B.writeInt32BE(U,8),B.writeInt32BE(M,12),B},"cancel"),v=S((U,M)=>{let B=4+re.byteLength(M)+1,K=re.allocUnsafe(1+B);return K[0]=U,K.writeInt32BE(B,1),K.write(M,5,"utf-8"),K[B]=0,K},"cstringMessage"),_=r.addCString("P").flush(68),E=r.addCString("S").flush(68),R=S(U=>U.name?v(68,`${U.type}${U.name||""}`):U.type==="P"?_:E,"describe"),k=S(U=>{let M=`${U.type}${U.name||""}`;return v(67,M)},"close"),A=S(U=>r.add(U).flush(100),"copyData"),x=S(U=>v(102,U),"copyFail"),P=S(U=>re.from([U,0,0,0,4]),"codeOnlyBuffer"),T=P(72),N=P(83),I=P(88),$=P(99),H={startup:n,password:s,requestSsl:o,sendSASLInitialResponseMessage:i,sendSCRAMClientFinalMessage:a,query:c,parse:u,bind:w,execute:h,describe:R,close:k,flush:S(()=>T,"flush"),sync:S(()=>N,"sync"),end:S(()=>I,"end"),copyData:A,copyDone:S(()=>$,"copyDone"),copyFail:x,cancel:y};e.serialize=H}),eA=de(e=>{"use strict";Y(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=re.allocUnsafe(0),r=class{constructor(s=0){this.offset=s,this.buffer=t,this.encoding="utf-8"}setBuffer(s,i){this.offset=s,this.buffer=i}int16(){let s=this.buffer.readInt16BE(this.offset);return this.offset+=2,s}byte(){let s=this.buffer[this.offset];return this.offset++,s}int32(){let s=this.buffer.readInt32BE(this.offset);return this.offset+=4,s}string(s){let i=this.buffer.toString(this.encoding,this.offset,this.offset+s);return this.offset+=s,i}cstring(){let s=this.offset,i=s;for(;this.buffer[i++]!==0;);return this.offset=i,this.buffer.toString(this.encoding,s,i-1)}bytes(s){let i=this.buffer.slice(this.offset,this.offset+s);return this.offset+=s,i}};S(r,"BufferReader");var n=r;e.BufferReader=n}),tA=de(e=>{"use strict";Y(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=sy(),r=eA(),n=1,o=4,s=n+o,i=re.allocUnsafe(0),a=class{constructor(u){if(this.buffer=i,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,u?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=u?.mode||"text"}parse(u,f){this.mergeBuffer(u);let p=this.bufferOffset+this.bufferLength,w=this.bufferOffset;for(;w+s<=p;){let m=this.buffer[w],h=this.buffer.readUInt32BE(w+n),y=n+h;if(y+w<=p){let v=this.handlePacket(w+s,m,h,this.buffer);f(v),w+=y}else break}w===p?(this.buffer=i,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=p-w,this.bufferOffset=w)}mergeBuffer(u){if(this.bufferLength>0){let f=this.bufferLength+u.byteLength;if(f+this.bufferOffset>this.buffer.byteLength){let p;if(f<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)p=this.buffer;else{let w=this.buffer.byteLength*2;for(;f>=w;)w*=2;p=re.allocUnsafe(w)}this.buffer.copy(p,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=p,this.bufferOffset=0}u.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=f}else this.buffer=u,this.bufferOffset=0,this.bufferLength=u.byteLength}handlePacket(u,f,p,w){switch(f){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(u,p,w);case 67:return this.parseCommandCompleteMessage(u,p,w);case 90:return this.parseReadyForQueryMessage(u,p,w);case 65:return this.parseNotificationMessage(u,p,w);case 82:return this.parseAuthenticationResponse(u,p,w);case 83:return this.parseParameterStatusMessage(u,p,w);case 75:return this.parseBackendKeyData(u,p,w);case 69:return this.parseErrorMessage(u,p,w,"error");case 78:return this.parseErrorMessage(u,p,w,"notice");case 84:return this.parseRowDescriptionMessage(u,p,w);case 116:return this.parseParameterDescriptionMessage(u,p,w);case 71:return this.parseCopyInMessage(u,p,w);case 72:return this.parseCopyOutMessage(u,p,w);case 100:return this.parseCopyData(u,p,w);default:return new t.DatabaseError("received invalid response: "+f.toString(16),p,"error")}}parseReadyForQueryMessage(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.string(1);return new t.ReadyForQueryMessage(f,w)}parseCommandCompleteMessage(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.cstring();return new t.CommandCompleteMessage(f,w)}parseCopyData(u,f,p){let w=p.slice(u,u+(f-4));return new t.CopyDataMessage(f,w)}parseCopyInMessage(u,f,p){return this.parseCopyMessage(u,f,p,"copyInResponse")}parseCopyOutMessage(u,f,p){return this.parseCopyMessage(u,f,p,"copyOutResponse")}parseCopyMessage(u,f,p,w){this.reader.setBuffer(u,p);let m=this.reader.byte()!==0,h=this.reader.int16(),y=new t.CopyResponse(f,w,m,h);for(let v=0;v<h;v++)y.columnTypes[v]=this.reader.int16();return y}parseNotificationMessage(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.int32(),m=this.reader.cstring(),h=this.reader.cstring();return new t.NotificationResponseMessage(f,w,m,h)}parseRowDescriptionMessage(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.int16(),m=new t.RowDescriptionMessage(f,w);for(let h=0;h<w;h++)m.fields[h]=this.parseField();return m}parseField(){let u=this.reader.cstring(),f=this.reader.int32(),p=this.reader.int16(),w=this.reader.int32(),m=this.reader.int16(),h=this.reader.int32(),y=this.reader.int16()===0?"text":"binary";return new t.Field(u,f,p,w,m,h,y)}parseParameterDescriptionMessage(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.int16(),m=new t.ParameterDescriptionMessage(f,w);for(let h=0;h<w;h++)m.dataTypeIDs[h]=this.reader.int32();return m}parseDataRowMessage(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.int16(),m=new Array(w);for(let h=0;h<w;h++){let y=this.reader.int32();m[h]=y===-1?null:this.reader.string(y)}return new t.DataRowMessage(f,m)}parseParameterStatusMessage(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.cstring(),m=this.reader.cstring();return new t.ParameterStatusMessage(f,w,m)}parseBackendKeyData(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.int32(),m=this.reader.int32();return new t.BackendKeyDataMessage(f,w,m)}parseAuthenticationResponse(u,f,p){this.reader.setBuffer(u,p);let w=this.reader.int32(),m={name:"authenticationOk",length:f};switch(w){case 0:break;case 3:m.length===8&&(m.name="authenticationCleartextPassword");break;case 5:if(m.length===12){m.name="authenticationMD5Password";let y=this.reader.bytes(4);return new t.AuthenticationMD5Password(f,y)}break;case 10:m.name="authenticationSASL",m.mechanisms=[];let h;do h=this.reader.cstring(),h&&m.mechanisms.push(h);while(h);break;case 11:m.name="authenticationSASLContinue",m.data=this.reader.string(f-8);break;case 12:m.name="authenticationSASLFinal",m.data=this.reader.string(f-8);break;default:throw new Error("Unknown authenticationOk message type "+w)}return m}parseErrorMessage(u,f,p,w){this.reader.setBuffer(u,p);let m={},h=this.reader.string(1);for(;h!=="\0";)m[h]=this.reader.cstring(),h=this.reader.string(1);let y=m.M,v=w==="notice"?new t.NoticeMessage(f,y):new t.DatabaseError(y,f,w);return v.severity=m.S,v.code=m.C,v.detail=m.D,v.hint=m.H,v.position=m.P,v.internalPosition=m.p,v.internalQuery=m.q,v.where=m.W,v.schema=m.s,v.table=m.t,v.column=m.c,v.dataType=m.d,v.constraint=m.n,v.file=m.F,v.line=m.L,v.routine=m.R,v}};S(a,"Parser");var c=a;e.Parser=c}),iy=de(e=>{"use strict";Y(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=sy();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:S(function(){return t.DatabaseError},"get")});var r=ZS();Object.defineProperty(e,"serialize",{enumerable:!0,get:S(function(){return r.serialize},"get")});var n=tA();function o(s,i){let a=new n.Parser;return s.on("data",c=>a.parse(c,i)),new Promise(c=>s.on("end",()=>c()))}S(o,"parse"),e.parse=o}),ay={};It(ay,{connect:()=>cy});function cy({socket:e,servername:t}){return e.startTls(t),e}var rA=Xe(()=>{"use strict";Y(),S(cy,"connect")}),uy=de((e,t)=>{"use strict";Y();var r=(Gu(),Be(ny)),n=Fr().EventEmitter,{parse:o,serialize:s}=iy(),i=s.flush(),a=s.sync(),c=s.end(),l=class extends n{constructor(p){super(),p=p||{},this.stream=p.stream||new r.Socket,this._keepAlive=p.keepAlive,this._keepAliveInitialDelayMillis=p.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=p.ssl||!1,this._ending=!1,this._emitMessage=!1;var w=this;this.on("newListener",function(m){m==="message"&&(w._emitMessage=!0)})}connect(p,w){var m=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(p,w),this.stream.once("connect",function(){m._keepAlive&&m.stream.setKeepAlive(!0,m._keepAliveInitialDelayMillis),m.emit("connect")});let h=S(function(y){m._ending&&(y.code==="ECONNRESET"||y.code==="EPIPE")||m.emit("error",y)},"reportStreamError");if(this.stream.on("error",h),this.stream.on("close",function(){m.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(y){var v=y.toString("utf8");switch(v){case"S":break;case"N":return m.stream.end(),m.emit("error",new Error("The server does not support SSL connections"));default:return m.stream.end(),m.emit("error",new Error("There was an error establishing an SSL connection"))}var _=(rA(),Be(ay));let E={socket:m.stream};m.ssl!==!0&&(Object.assign(E,m.ssl),"key"in m.ssl&&(E.key=m.ssl.key)),r.isIP(w)===0&&(E.servername=w);try{m.stream=_.connect(E)}catch(R){return m.emit("error",R)}m.attachListeners(m.stream),m.stream.on("error",h),m.emit("sslconnect")})}attachListeners(p){p.on("end",()=>{this.emit("end")}),o(p,w=>{var m=w.name==="error"?"errorMessage":w.name;this._emitMessage&&this.emit("message",w),this.emit(m,w)})}requestSsl(){this.stream.write(s.requestSsl())}startup(p){this.stream.write(s.startup(p))}cancel(p,w){this._send(s.cancel(p,w))}password(p){this._send(s.password(p))}sendSASLInitialResponseMessage(p,w){this._send(s.sendSASLInitialResponseMessage(p,w))}sendSCRAMClientFinalMessage(p){this._send(s.sendSCRAMClientFinalMessage(p))}_send(p){return this.stream.writable?this.stream.write(p):!1}query(p){this._send(s.query(p))}parse(p){this._send(s.parse(p))}bind(p){this._send(s.bind(p))}execute(p){this._send(s.execute(p))}flush(){this.stream.writable&&this.stream.write(i)}sync(){this._ending=!0,this._send(i),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(c,()=>{this.stream.end()})}close(p){this._send(s.close(p))}describe(p){this._send(s.describe(p))}sendCopyFromChunk(p){this._send(s.copyData(p))}endCopyFrom(){this._send(s.copyDone())}sendCopyFail(p){this._send(s.copyFail(p))}};S(l,"Connection");var u=l;t.exports=u}),nA=de((e,t)=>{"use strict";Y();var r=Fr().EventEmitter,n=(wi(),Be(Fo)),o=vi(),s=WS(),i=GS(),a=Fu(),c=Ju(),l=QS(),u=_i(),f=uy(),p=class extends r{constructor(h){super(),this.connectionParameters=new c(h),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var y=h||{};this._Promise=y.Promise||gi.Promise,this._types=new a(y.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=y.connection||new f({stream:y.stream,ssl:this.connectionParameters.ssl,keepAlive:y.keepAlive||!1,keepAliveInitialDelayMillis:y.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=y.binary||u.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=y.connectionTimeoutMillis||0}_errorAllQueries(h){let y=S(v=>{le.nextTick(()=>{v.handleError(h,this.connection)})},"enqueueError");this.activeQuery&&(y(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(y),this.queryQueue.length=0}_connect(h){var y=this,v=this.connection;if(this._connectionCallback=h,this._connecting||this._connected){let _=new Error("Client has already been connected. You cannot reuse a client.");le.nextTick(()=>{h(_)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{v._ending=!0,v.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?v.connect(this.host+"/.s.PGSQL."+this.port):v.connect(this.port,this.host),v.on("connect",function(){y.ssl?v.requestSsl():v.startup(y.getStartupConf())}),v.on("sslconnect",function(){v.startup(y.getStartupConf())}),this._attachListeners(v),v.once("end",()=>{let _=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(_),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(_):this._handleErrorEvent(_):this._connectionError||this._handleErrorEvent(_)),le.nextTick(()=>{this.emit("end")})})}connect(h){if(h){this._connect(h);return}return new this._Promise((y,v)=>{this._connect(_=>{_?v(_):y()})})}_attachListeners(h){h.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),h.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),h.on("authenticationSASL",this._handleAuthSASL.bind(this)),h.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),h.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),h.on("backendKeyData",this._handleBackendKeyData.bind(this)),h.on("error",this._handleErrorEvent.bind(this)),h.on("errorMessage",this._handleErrorMessage.bind(this)),h.on("readyForQuery",this._handleReadyForQuery.bind(this)),h.on("notice",this._handleNotice.bind(this)),h.on("rowDescription",this._handleRowDescription.bind(this)),h.on("dataRow",this._handleDataRow.bind(this)),h.on("portalSuspended",this._handlePortalSuspended.bind(this)),h.on("emptyQuery",this._handleEmptyQuery.bind(this)),h.on("commandComplete",this._handleCommandComplete.bind(this)),h.on("parseComplete",this._handleParseComplete.bind(this)),h.on("copyInResponse",this._handleCopyInResponse.bind(this)),h.on("copyData",this._handleCopyData.bind(this)),h.on("notification",this._handleNotification.bind(this))}_checkPgPass(h){let y=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(v=>{if(v!==void 0){if(typeof v!="string"){y.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=v}else this.connectionParameters.password=this.password=null;h()}).catch(v=>{y.emit("error",v)}):this.password!==null?h():i(this.connectionParameters,v=>{v!==void 0&&(this.connectionParameters.password=this.password=v),h()})}_handleAuthCleartextPassword(h){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(h){this._checkPgPass(()=>{let y=o.postgresMd5PasswordHash(this.user,this.password,h.salt);this.connection.password(y)})}_handleAuthSASL(h){this._checkPgPass(()=>{this.saslSession=s.startSession(h.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(h){s.continueSession(this.saslSession,this.password,h.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(h){s.finalizeSession(this.saslSession,h.data),this.saslSession=null}_handleBackendKeyData(h){this.processID=h.processID,this.secretKey=h.secretKey}_handleReadyForQuery(h){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:y}=this;this.activeQuery=null,this.readyForQuery=!0,y&&y.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(h){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(h);this.emit("error",h)}}_handleErrorEvent(h){if(this._connecting)return this._handleErrorWhileConnecting(h);this._queryable=!1,this._errorAllQueries(h),this.emit("error",h)}_handleErrorMessage(h){if(this._connecting)return this._handleErrorWhileConnecting(h);let y=this.activeQuery;if(!y){this._handleErrorEvent(h);return}this.activeQuery=null,y.handleError(h,this.connection)}_handleRowDescription(h){this.activeQuery.handleRowDescription(h)}_handleDataRow(h){this.activeQuery.handleDataRow(h)}_handlePortalSuspended(h){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(h){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(h){this.activeQuery.handleCommandComplete(h,this.connection)}_handleParseComplete(h){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(h){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(h){this.activeQuery.handleCopyData(h,this.connection)}_handleNotification(h){this.emit("notification",h)}_handleNotice(h){this.emit("notice",h)}getStartupConf(){var h=this.connectionParameters,y={user:h.user,database:h.database},v=h.application_name||h.fallback_application_name;return v&&(y.application_name=v),h.replication&&(y.replication=""+h.replication),h.statement_timeout&&(y.statement_timeout=String(parseInt(h.statement_timeout,10))),h.lock_timeout&&(y.lock_timeout=String(parseInt(h.lock_timeout,10))),h.idle_in_transaction_session_timeout&&(y.idle_in_transaction_session_timeout=String(parseInt(h.idle_in_transaction_session_timeout,10))),h.options&&(y.options=h.options),y}cancel(h,y){if(h.activeQuery===y){var v=this.connection;this.host&&this.host.indexOf("/")===0?v.connect(this.host+"/.s.PGSQL."+this.port):v.connect(this.port,this.host),v.on("connect",function(){v.cancel(h.processID,h.secretKey)})}else h.queryQueue.indexOf(y)!==-1&&h.queryQueue.splice(h.queryQueue.indexOf(y),1)}setTypeParser(h,y,v){return this._types.setTypeParser(h,y,v)}getTypeParser(h,y){return this._types.getTypeParser(h,y)}escapeIdentifier(h){return'"'+h.replace(/"/g,'""')+'"'}escapeLiteral(h){for(var y=!1,v="'",_=0;_<h.length;_++){var E=h[_];E==="'"?v+=E+E:E==="\\"?(v+=E+E,y=!0):v+=E}return v+="'",y===!0&&(v=" E"+v),v}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let h=this.activeQuery.submit(this.connection);h&&le.nextTick(()=>{this.activeQuery.handleError(h,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(h,y,v){var _,E,R,k,A;if(h==null)throw new TypeError("Client was passed a null or undefined query");return typeof h.submit=="function"?(R=h.query_timeout||this.connectionParameters.query_timeout,E=_=h,typeof y=="function"&&(_.callback=_.callback||y)):(R=this.connectionParameters.query_timeout,_=new l(h,y,v),_.callback||(E=new this._Promise((x,P)=>{_.callback=(T,N)=>T?P(T):x(N)}))),R&&(A=_.callback,k=setTimeout(()=>{var x=new Error("Query read timeout");le.nextTick(()=>{_.handleError(x,this.connection)}),A(x),_.callback=()=>{};var P=this.queryQueue.indexOf(_);P>-1&&this.queryQueue.splice(P,1),this._pulseQueryQueue()},R),_.callback=(x,P)=>{clearTimeout(k),A(x,P)}),this.binary&&!_.binary&&(_.binary=!0),_._result&&!_._result._types&&(_._result._types=this._types),this._queryable?this._ending?(le.nextTick(()=>{_.handleError(new Error("Client was closed and is not queryable"),this.connection)}),E):(this.queryQueue.push(_),this._pulseQueryQueue(),E):(le.nextTick(()=>{_.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),E)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(h){if(this._ending=!0,!this.connection._connecting)if(h)h();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),h)this.connection.once("end",h);else return new this._Promise(y=>{this.connection.once("end",y)})}};S(p,"Client");var w=p;w.Query=l,t.exports=w}),oA=de((e,t)=>{"use strict";Y();var r=Fr().EventEmitter,n=S(function(){},"NOOP"),o=S((m,h)=>{let y=m.findIndex(h);return y===-1?void 0:m.splice(y,1)[0]},"removeWhere"),s=class{constructor(h,y,v){this.client=h,this.idleListener=y,this.timeoutId=v}};S(s,"IdleItem");var i=s,a=class{constructor(h){this.callback=h}};S(a,"PendingItem");var c=a;function l(){throw new Error("Release called on client which has already been released to the pool.")}S(l,"throwOnDoubleRelease");function u(m,h){if(h)return{callback:h,result:void 0};let y,v,_=S(function(R,k){R?y(R):v(k)},"cb"),E=new m(function(R,k){v=R,y=k}).catch(R=>{throw Error.captureStackTrace(R),R});return{callback:_,result:E}}S(u,"promisify");function f(m,h){return S(function y(v){v.client=h,h.removeListener("error",y),h.on("error",()=>{m.log("additional client error after disconnection due to error",v)}),m._remove(h),m.emit("error",v,h)},"idleListener")}S(f,"makeIdleListener");var p=class extends r{constructor(h,y){super(),this.options=Object.assign({},h),h!=null&&"password"in h&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:h.password}),h!=null&&h.ssl&&h.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||y||zu().Client,this.Promise=this.options.Promise||gi.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(y=>{this._remove(y.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let h=this._pendingQueue.shift();if(this._idle.length){let y=this._idle.pop();clearTimeout(y.timeoutId);let v=y.client;v.ref&&v.ref();let _=y.idleListener;return this._acquireClient(v,h,_,!1)}if(!this._isFull())return this.newClient(h);throw new Error("unexpected condition")}_remove(h){let y=o(this._idle,v=>v.client===h);y!==void 0&&clearTimeout(y.timeoutId),this._clients=this._clients.filter(v=>v!==h),h.end(),this.emit("remove",h)}connect(h){if(this.ending){let _=new Error("Cannot use a pool after calling end on the pool");return h?h(_):this.Promise.reject(_)}let y=u(this.Promise,h),v=y.result;if(this._isFull()||this._idle.length){if(this._idle.length&&le.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new c(y.callback)),v;let _=S((k,A,x)=>{clearTimeout(R),y.callback(k,A,x)},"queueCallback"),E=new c(_),R=setTimeout(()=>{o(this._pendingQueue,k=>k.callback===_),E.timedOut=!0,y.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(E),v}return this.newClient(new c(y.callback)),v}newClient(h){let y=new this.Client(this.options);this._clients.push(y);let v=f(this,y);this.log("checking client timeout");let _,E=!1;this.options.connectionTimeoutMillis&&(_=setTimeout(()=>{this.log("ending client due to timeout"),E=!0,y.connection?y.connection.stream.destroy():y.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),y.connect(R=>{if(_&&clearTimeout(_),y.on("error",v),R)this.log("client failed to connect",R),this._clients=this._clients.filter(k=>k!==y),E&&(R.message="Connection terminated due to connection timeout"),this._pulseQueue(),h.timedOut||h.callback(R,void 0,n);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let k=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(y),this._idle.findIndex(A=>A.client===y)!==-1&&this._acquireClient(y,new c((A,x,P)=>P()),v,!1)},this.options.maxLifetimeSeconds*1e3);k.unref(),y.once("end",()=>clearTimeout(k))}return this._acquireClient(y,h,v,!0)}})}_acquireClient(h,y,v,_){_&&this.emit("connect",h),this.emit("acquire",h),h.release=this._releaseOnce(h,v),h.removeListener("error",v),y.timedOut?_&&this.options.verify?this.options.verify(h,h.release):h.release():_&&this.options.verify?this.options.verify(h,E=>{if(E)return h.release(E),y.callback(E,void 0,n);y.callback(void 0,h,h.release)}):y.callback(void 0,h,h.release)}_releaseOnce(h,y){let v=!1;return _=>{v&&l(),v=!0,this._release(h,y,_)}}_release(h,y,v){if(h.on("error",y),h._poolUseCount=(h._poolUseCount||0)+1,this.emit("release",v,h),v||this.ending||!h._queryable||h._ending||h._poolUseCount>=this.options.maxUses){h._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(h),this._pulseQueue();return}if(this._expired.has(h)){this.log("remove expired client"),this._expired.delete(h),this._remove(h),this._pulseQueue();return}let _;this.options.idleTimeoutMillis&&(_=setTimeout(()=>{this.log("remove idle client"),this._remove(h)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&_.unref()),this.options.allowExitOnIdle&&h.unref(),this._idle.push(new i(h,y,_)),this._pulseQueue()}query(h,y,v){if(typeof h=="function"){let E=u(this.Promise,h);return Bu(function(){return E.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),E.result}typeof y=="function"&&(v=y,y=void 0);let _=u(this.Promise,v);return v=_.callback,this.connect((E,R)=>{if(E)return v(E);let k=!1,A=S(x=>{k||(k=!0,R.release(x),v(x))},"onError");R.once("error",A),this.log("dispatching query");try{R.query(h,y,(x,P)=>{if(this.log("query dispatched"),R.removeListener("error",A),!k)return k=!0,R.release(x),x?v(x):v(void 0,P)})}catch(x){return R.release(x),v(x)}}),_.result}end(h){if(this.log("ending"),this.ending){let v=new Error("Called end on pool more than once");return h?h(v):this.Promise.reject(v)}this.ending=!0;let y=u(this.Promise,h);return this._endCallback=y.callback,this._pulseQueue(),y.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((h,y)=>h+(this._expired.has(y)?1:0),0)}get totalCount(){return this._clients.length}};S(p,"Pool");var w=p;t.exports=w}),ly={};It(ly,{default:()=>dy});var dy,sA=Xe(()=>{"use strict";Y(),dy={}}),iA=de((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),aA=de((e,t)=>{"use strict";Y();var r=Fr().EventEmitter,n=(wi(),Be(Fo)),o=vi(),s=t.exports=function(a,c,l){r.call(this),a=o.normalizeQueryConfig(a,c,l),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode=a.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(u){u==="row"&&(this._emitRowEvents=!0)}.bind(this))};n.inherits(s,r);var i={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};s.prototype.handleError=function(a){var c=this.native.pq.resultErrorFields();if(c)for(var l in c){var u=i[l]||l;a[u]=c[l]}this.callback?this.callback(a):this.emit("error",a),this.state="error"},s.prototype.then=function(a,c){return this._getPromise().then(a,c)},s.prototype.catch=function(a){return this._getPromise().catch(a)},s.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(a,c){this._once("end",a),this._once("error",c)}.bind(this)),this._promise)},s.prototype.submit=function(a){this.state="running";var c=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var l=S(function(p,w,m){if(a.native.arrayMode=!1,Bu(function(){c.emit("_done")}),p)return c.handleError(p);c._emitRowEvents&&(m.length>1?w.forEach((h,y)=>{h.forEach(v=>{c.emit("row",v,m[y])})}):w.forEach(function(h){c.emit("row",h,m)})),c.state="end",c.emit("end",m),c.callback&&c.callback(null,m)},"after");if(le.domain&&(l=le.domain.bind(l)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var u=(this.values||[]).map(o.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let p=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return l(p)}return a.native.execute(this.name,u,l)}return a.native.prepare(this.name,this.text,u.length,function(p){return p?l(p):(a.namedQueries[c.name]=c.text,c.native.execute(c.name,u,l))})}else if(this.values){if(!Array.isArray(this.values)){let p=new Error("Query values must be an array");return l(p)}var f=this.values.map(o.prepareValue);a.native.query(this.text,f,l)}else a.native.query(this.text,l)}}),cA=de((e,t)=>{"use strict";Y();var r=(sA(),Be(ly)),n=Fu(),o=iA(),s=Fr().EventEmitter,i=(wi(),Be(Fo)),a=Ju(),c=aA(),l=t.exports=function(u){s.call(this),u=u||{},this._Promise=u.Promise||gi.Promise,this._types=new n(u.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var f=this.connectionParameters=new a(u);this.user=f.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:f.password}),this.database=f.database,this.host=f.host,this.port=f.port,this.namedQueries={}};l.Query=c,i.inherits(l,s),l.prototype._errorAllQueries=function(u){let f=S(p=>{le.nextTick(()=>{p.native=this.native,p.handleError(u)})},"enqueueError");this._hasActiveQuery()&&(f(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(f),this._queryQueue.length=0},l.prototype._connect=function(u){var f=this;if(this._connecting){le.nextTick(()=>u(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(p,w){if(p)return u(p);f.native.connect(w,function(m){if(m)return f.native.end(),u(m);f._connected=!0,f.native.on("error",function(h){f._queryable=!1,f._errorAllQueries(h),f.emit("error",h)}),f.native.on("notification",function(h){f.emit("notification",{channel:h.relname,payload:h.extra})}),f.emit("connect"),f._pulseQueryQueue(!0),u()})})},l.prototype.connect=function(u){if(u){this._connect(u);return}return new this._Promise((f,p)=>{this._connect(w=>{w?p(w):f()})})},l.prototype.query=function(u,f,p){var w,m,h,y,v;if(u==null)throw new TypeError("Client was passed a null or undefined query");if(typeof u.submit=="function")h=u.query_timeout||this.connectionParameters.query_timeout,m=w=u,typeof f=="function"&&(u.callback=f);else if(h=this.connectionParameters.query_timeout,w=new c(u,f,p),!w.callback){let _,E;m=new this._Promise((R,k)=>{_=R,E=k}),w.callback=(R,k)=>R?E(R):_(k)}return h&&(v=w.callback,y=setTimeout(()=>{var _=new Error("Query read timeout");le.nextTick(()=>{w.handleError(_,this.connection)}),v(_),w.callback=()=>{};var E=this._queryQueue.indexOf(w);E>-1&&this._queryQueue.splice(E,1),this._pulseQueryQueue()},h),w.callback=(_,E)=>{clearTimeout(y),v(_,E)}),this._queryable?this._ending?(w.native=this.native,le.nextTick(()=>{w.handleError(new Error("Client was closed and is not queryable"))}),m):(this._queryQueue.push(w),this._pulseQueryQueue(),m):(w.native=this.native,le.nextTick(()=>{w.handleError(new Error("Client has encountered a connection error and is not queryable"))}),m)},l.prototype.end=function(u){var f=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,u));var p;return u||(p=new this._Promise(function(w,m){u=S(h=>h?m(h):w(),"cb")})),this.native.end(function(){f._errorAllQueries(new Error("Connection terminated")),le.nextTick(()=>{f.emit("end"),u&&u()})}),p},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(u){if(this._connected&&!this._hasActiveQuery()){var f=this._queryQueue.shift();if(!f){u||this.emit("drain");return}this._activeQuery=f,f.submit(this);var p=this;f.once("_done",function(){p._pulseQueryQueue()})}},l.prototype.cancel=function(u){this._activeQuery===u?this.native.cancel(function(){}):this._queryQueue.indexOf(u)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(u),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(u,f,p){return this._types.setTypeParser(u,f,p)},l.prototype.getTypeParser=function(u,f){return this._types.getTypeParser(u,f)}}),Dm=de((e,t)=>{"use strict";Y(),t.exports=cA()}),zu=de((e,t)=>{"use strict";Y();var r=nA(),n=_i(),o=uy(),s=oA(),{DatabaseError:i}=iy(),a=S(l=>{var u;return u=class extends s{constructor(f){super(f,l)}},S(u,"BoundPool"),u},"poolFactory"),c=S(function(l){this.defaults=n,this.Client=l,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=o,this.types=bi(),this.DatabaseError=i},"PG");typeof le.env.NODE_PG_FORCE_NATIVE<"u"?t.exports=new c(Dm()):(t.exports=new c(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var l=null;try{l=new c(Dm())}catch(u){if(u.code!=="MODULE_NOT_FOUND")throw u}return Object.defineProperty(t.exports,"native",{value:l}),l}}))});Y();var fy=xn(zu());Gu();Y();Gu();ry();var uA=xn(vi()),lA=xn(Fu());function hy(e){return e instanceof re?"\\x"+e.toString("hex"):e}S(hy,"encodeBuffersAsBytea");var py=class my extends Error{constructor(t){super(t),ne(this,"name","NeonDbError"),ne(this,"severity"),ne(this,"code"),ne(this,"detail"),ne(this,"hint"),ne(this,"position"),ne(this,"internalPosition"),ne(this,"internalQuery"),ne(this,"where"),ne(this,"schema"),ne(this,"table"),ne(this,"column"),ne(this,"dataType"),ne(this,"constraint"),ne(this,"file"),ne(this,"line"),ne(this,"routine"),ne(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,my)}};S(py,"NeonDbError");var An=py,Um="transaction() expects an array of queries, or a function returning an array of queries",dA=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function yy(e,{arrayMode:t,fullResults:r,fetchOptions:n,isolationLevel:o,readOnly:s,deferrable:i,queryCallback:a,resultCallback:c,authToken:l}={}){if(!e)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let u;try{u=Ku(e)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:f,username:p,hostname:w,port:m,pathname:h}=u;if(f!=="postgres:"&&f!=="postgresql:"||!p||!w||!h)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function y(_,...E){let R,k;if(typeof _=="string")R=_,k=E[1],E=E[0]??[];else{R="";for(let x=0;x<_.length;x++)R+=_[x],x<E.length&&(R+="$"+(x+1))}E=E.map(x=>hy((0,uA.prepareValue)(x)));let A={query:R,params:E};return a&&a(A),gy(v,A,k)}S(y,"resolve"),y.transaction=async(_,E)=>{if(typeof _=="function"&&(_=_(y)),!Array.isArray(_))throw new Error(Um);_.forEach(A=>{if(A[Symbol.toStringTag]!=="NeonQueryPromise")throw new Error(Um)});let R=_.map(A=>A.parameterizedQuery),k=_.map(A=>A.opts??{});return v(R,k,E)};async function v(_,E,R){let{fetchEndpoint:k,fetchFunction:A}=Tn,x=Array.isArray(_)?{queries:_}:_,P=n??{},T=t??!1,N=r??!1,I=o,$=s,H=i;R!==void 0&&(R.fetchOptions!==void 0&&(P={...P,...R.fetchOptions}),R.arrayMode!==void 0&&(T=R.arrayMode),R.fullResults!==void 0&&(N=R.fullResults),R.isolationLevel!==void 0&&(I=R.isolationLevel),R.readOnly!==void 0&&($=R.readOnly),R.deferrable!==void 0&&(H=R.deferrable)),E!==void 0&&!Array.isArray(E)&&E.fetchOptions!==void 0&&(P={...P,...E.fetchOptions});let U=l;!Array.isArray(E)&&E?.authToken!==void 0&&(U=E.authToken);let M=typeof k=="function"?k(w,m,{jwtAuth:U!==void 0}):k,B={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},K=await wy(U);K&&(B.Authorization=`Bearer ${K}`),Array.isArray(_)&&(I!==void 0&&(B["Neon-Batch-Isolation-Level"]=I),$!==void 0&&(B["Neon-Batch-Read-Only"]=String($)),H!==void 0&&(B["Neon-Batch-Deferrable"]=String(H)));let Z;try{Z=await(A??fetch)(M,{method:"POST",body:JSON.stringify(x),headers:B,...P})}catch(ae){let be=new An(`Error connecting to database: ${ae.message}`);throw be.sourceError=ae,be}if(Z.ok){let ae=await Z.json();if(Array.isArray(_)){let be=ae.results;if(!Array.isArray(be))throw new An("Neon internal error: unexpected result format");return be.map((ce,ye)=>{let $e=E[ye]??{},et=$e.arrayMode??T,it=$e.fullResults??N;return ju(ce,{arrayMode:et,fullResults:it,parameterizedQuery:_[ye],resultCallback:c,types:$e.types})})}else{let be=E??{},ce=be.arrayMode??T,ye=be.fullResults??N;return ju(ae,{arrayMode:ce,fullResults:ye,parameterizedQuery:_,resultCallback:c,types:be.types})}}else{let{status:ae}=Z;if(ae===400){let be=await Z.json(),ce=new An(be.message);for(let ye of dA)ce[ye]=be[ye]??void 0;throw ce}else{let be=await Z.text();throw new An(`Server error (HTTP status ${ae}): ${be}`)}}}return S(v,"execute"),y}S(yy,"neon");function gy(e,t,r){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:r,then:S((n,o)=>e(t,r).then(n,o),"then"),catch:S(n=>e(t,r).catch(n),"catch"),finally:S(n=>e(t,r).finally(n),"finally")}}S(gy,"createNeonQueryPromise");function ju(e,{arrayMode:t,fullResults:r,parameterizedQuery:n,resultCallback:o,types:s}){let i=new lA.default(s),a=e.fields.map(u=>u.name),c=e.fields.map(u=>i.getTypeParser(u.dataTypeID)),l=t===!0?e.rows.map(u=>u.map((f,p)=>f===null?null:c[p](f))):e.rows.map(u=>Object.fromEntries(u.map((f,p)=>[a[p],f===null?null:c[p](f)])));return o&&o(n,e,l,{arrayMode:t,fullResults:r}),r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=l,e._parsers=c,e._types=i,e):l}S(ju,"processQueryResult");async function wy(e){if(typeof e=="string")return e;if(typeof e=="function")try{return await Promise.resolve(e())}catch(t){let r=new An("Error getting auth token.");throw t instanceof Error&&(r=new An(`Error getting auth token: ${t.message}`)),r}}S(wy,"getAuthToken");var fA=xn(Ju()),Pn=xn(zu()),by=class extends fy.Client{constructor(t){super(t),this.config=t}get neonConfig(){return this.connection.stream}connect(t){let{neonConfig:r}=this;r.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&r.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let n=this.config?.host!==void 0||this.config?.connectionString!==void 0||le.env.PGHOST!==void 0,o=le.env.USER??le.env.USERNAME;if(!n&&this.host==="localhost"&&this.user===o&&this.database===o&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${o}, db: ${o}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let s=super.connect(t),i=r.pipelineTLS&&this.ssl,a=r.pipelineConnect==="password";if(!i&&!r.pipelineConnect)return s;let c=this.connection;if(i&&c.on("connect",()=>c.stream.emit("data","S")),a){c.removeAllListeners("authenticationCleartextPassword"),c.removeAllListeners("readyForQuery"),c.once("readyForQuery",()=>c.on("readyForQuery",this._handleReadyForQuery.bind(this)));let l=this.ssl?"sslconnect":"connect";c.on(l,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return s}async _handleAuthSASLContinue(t){let r=this.saslSession,n=this.password,o=t.data;if(r.message!=="SASLInitialResponse"||typeof n!="string"||typeof o!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(o.split(",").map(K=>{if(!/^.=/.test(K))throw new Error("SASL: Invalid attribute pair entry");let Z=K[0],ae=K.substring(2);return[Z,ae]})),i=s.r,a=s.s,c=s.i;if(!i||!/^[!-+--~]+$/.test(i))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!a||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(a))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!c||!/^[1-9][0-9]*$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!i.startsWith(r.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(i.length===r.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let l=parseInt(c,10),u=re.from(a,"base64"),f=new TextEncoder,p=f.encode(n),w=await Fe.subtle.importKey("raw",p,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),m=new Uint8Array(await Fe.subtle.sign("HMAC",w,re.concat([u,re.from([0,0,0,1])]))),h=m;for(var y=0;y<l-1;y++)m=new Uint8Array(await Fe.subtle.sign("HMAC",w,m)),h=re.from(h.map((K,Z)=>h[Z]^m[Z]));let v=h,_=await Fe.subtle.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),E=new Uint8Array(await Fe.subtle.sign("HMAC",_,f.encode("Client Key"))),R=await Fe.subtle.digest("SHA-256",E),k="n=*,r="+r.clientNonce,A="r="+i+",s="+a+",i="+l,x="c=biws,r="+i,P=k+","+A+","+x,T=await Fe.subtle.importKey("raw",R,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var N=new Uint8Array(await Fe.subtle.sign("HMAC",T,f.encode(P))),I=re.from(E.map((K,Z)=>E[Z]^N[Z])),$=I.toString("base64");let H=await Fe.subtle.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),U=await Fe.subtle.sign("HMAC",H,f.encode("Server Key")),M=await Fe.subtle.importKey("raw",U,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var B=re.from(await Fe.subtle.sign("HMAC",M,f.encode(P)));r.message="SASLResponse",r.serverSignature=B.toString("base64"),r.response=x+",p="+$,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};S(by,"NeonClient");var hA=by;function _y(e,t){if(t)return{callback:t,result:void 0};let r,n,o=S(function(i,a){i?r(i):n(a)},"cb"),s=new e(function(i,a){n=i,r=a});return{callback:o,result:s}}S(_y,"promisify");var vy=class extends fy.Pool{constructor(){super(...arguments),ne(this,"Client",hA),ne(this,"hasFetchUnsupportedListeners",!1)}on(t,r){return t!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,r)}query(t,r,n){if(!Tn.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t=="function")return super.query(t,r,n);typeof r=="function"&&(n=r,r=void 0);let o=_y(this.Promise,n);n=o.callback;try{let s=new fA.default(this.options),i=encodeURIComponent,a=encodeURI,c=`postgresql://${i(s.user)}:${i(s.password)}@${i(s.host)}/${a(s.database)}`,l=typeof t=="string"?t:t.text,u=r??t.values??[];yy(c,{fullResults:!0,arrayMode:t.rowMode==="array"})(l,u,{types:t.types??this.options?.types}).then(f=>n(void 0,f)).catch(f=>n(f))}catch(s){n(s)}return o.result}};S(vy,"NeonPool");var Ei=vy,GC=Pn.ClientBase,zC=Pn.Connection,VC=Pn.DatabaseError,YC=Pn.Query,QC=Pn.defaults,Si=Pn.types;var Zu=pt(Dy(),1);function Ht(e){return{ok:!0,value:e,map(t){return Ht(t(e))},flatMap(t){return t(e)}}}function Cn(e){return{ok:!1,error:e,map(){return Cn(e)},flatMap(){return Cn(e)}}}var _e={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var Gy=pt(My(),1),XA="@prisma/adapter-neon",{builtins:fe,getTypeParser:zy}=Si,me={BIT_ARRAY:1561,BOOL_ARRAY:1e3,BYTEA_ARRAY:1001,BPCHAR_ARRAY:1014,CHAR_ARRAY:1002,CIDR_ARRAY:651,DATE_ARRAY:1182,FLOAT4_ARRAY:1021,FLOAT8_ARRAY:1022,INET_ARRAY:1041,INT2_ARRAY:1005,INT4_ARRAY:1007,INT8_ARRAY:1016,JSONB_ARRAY:3807,JSON_ARRAY:199,MONEY_ARRAY:791,NUMERIC_ARRAY:1231,OID_ARRAY:1028,TEXT_ARRAY:1009,TIMESTAMP_ARRAY:1115,TIME_ARRAY:1183,UUID_ARRAY:2951,VARBIT_ARRAY:1563,VARCHAR_ARRAY:1015,XML_ARRAY:143},Vy=class Yy extends Error{constructor(t){super(),this.type=Yy.typeNames[t]||"Unknown",this.message=`Unsupported column type ${this.type}`}};Vy.typeNames={16:"bool",17:"bytea",18:"char",19:"name",20:"int8",21:"int2",22:"int2vector",23:"int4",24:"regproc",25:"text",26:"oid",27:"tid",28:"xid",29:"cid",30:"oidvector",32:"pg_ddl_command",71:"pg_type",75:"pg_attribute",81:"pg_proc",83:"pg_class",114:"json",142:"xml",194:"pg_node_tree",269:"table_am_handler",325:"index_am_handler",600:"point",601:"lseg",602:"path",603:"box",604:"polygon",628:"line",650:"cidr",700:"float4",701:"float8",705:"unknown",718:"circle",774:"macaddr8",790:"money",829:"macaddr",869:"inet",1033:"aclitem",1042:"bpchar",1043:"varchar",1082:"date",1083:"time",1114:"timestamp",1184:"timestamptz",1186:"interval",1266:"timetz",1560:"bit",1562:"varbit",1700:"numeric",1790:"refcursor",2202:"regprocedure",2203:"regoper",2204:"regoperator",2205:"regclass",2206:"regtype",2249:"record",2275:"cstring",2276:"any",2277:"anyarray",2278:"void",2279:"trigger",2280:"language_handler",2281:"internal",2283:"anyelement",2287:"_record",2776:"anynonarray",2950:"uuid",2970:"txid_snapshot",3115:"fdw_handler",3220:"pg_lsn",3310:"tsm_handler",3361:"pg_ndistinct",3402:"pg_dependencies",3500:"anyenum",3614:"tsvector",3615:"tsquery",3642:"gtsvector",3734:"regconfig",3769:"regdictionary",3802:"jsonb",3831:"anyrange",3838:"event_trigger",3904:"int4range",3906:"numrange",3908:"tsrange",3910:"tstzrange",3912:"daterange",3926:"int8range",4072:"jsonpath",4089:"regnamespace",4096:"regrole",4191:"regcollation",4451:"int4multirange",4532:"nummultirange",4533:"tsmultirange",4534:"tstzmultirange",4535:"datemultirange",4536:"int8multirange",4537:"anymultirange",4538:"anycompatiblemultirange",4600:"pg_brin_bloom_summary",4601:"pg_brin_minmax_multi_summary",5017:"pg_mcv_list",5038:"pg_snapshot",5069:"xid8",5077:"anycompatible",5078:"anycompatiblearray",5079:"anycompatiblenonarray",5080:"anycompatiblerange"};var Qy=Vy;function ZA(e){switch(e){case fe.INT2:case fe.INT4:return _e.Int32;case fe.INT8:return _e.Int64;case fe.FLOAT4:return _e.Float;case fe.FLOAT8:return _e.Double;case fe.BOOL:return _e.Boolean;case fe.DATE:return _e.Date;case fe.TIME:case fe.TIMETZ:return _e.Time;case fe.TIMESTAMP:case fe.TIMESTAMPTZ:return _e.DateTime;case fe.NUMERIC:case fe.MONEY:return _e.Numeric;case fe.JSON:case fe.JSONB:return _e.Json;case fe.UUID:return _e.Uuid;case fe.OID:return _e.Int64;case fe.BPCHAR:case fe.TEXT:case fe.VARCHAR:case fe.BIT:case fe.VARBIT:case fe.INET:case fe.CIDR:case fe.XML:return _e.Text;case fe.BYTEA:return _e.Bytes;case me.INT2_ARRAY:case me.INT4_ARRAY:return _e.Int32Array;case me.FLOAT4_ARRAY:return _e.FloatArray;case me.FLOAT8_ARRAY:return _e.DoubleArray;case me.NUMERIC_ARRAY:case me.MONEY_ARRAY:return _e.NumericArray;case me.BOOL_ARRAY:return _e.BooleanArray;case me.CHAR_ARRAY:return _e.CharacterArray;case me.BPCHAR_ARRAY:case me.TEXT_ARRAY:case me.VARCHAR_ARRAY:case me.VARBIT_ARRAY:case me.BIT_ARRAY:case me.INET_ARRAY:case me.CIDR_ARRAY:case me.XML_ARRAY:return _e.TextArray;case me.DATE_ARRAY:return _e.DateArray;case me.TIME_ARRAY:return _e.TimeArray;case me.TIMESTAMP_ARRAY:return _e.DateTimeArray;case me.JSON_ARRAY:case me.JSONB_ARRAY:return _e.JsonArray;case me.BYTEA_ARRAY:return _e.BytesArray;case me.UUID_ARRAY:return _e.UuidArray;case me.INT8_ARRAY:case me.OID_ARRAY:return _e.Int64Array;default:if(e>=1e4)return _e.Text;throw new Qy(e)}}function Er(e){return t=>(0,Gy.parse)(t,e)}function jy(e){return e}function By(e){return e}function $y(e){return e}function e3(e){return e.split("+")[0]}function Hy(e){return e}function t3(e){return e.split("+")[0]}function qy(e){return e.slice(1)}function r3(e){return e}function Wy(e){return e}function Xy(e){return Array.from(new Uint8Array(e))}var n3=zy(fe.BYTEA),o3=zy(me.BYTEA_ARRAY);function s3(e){return o3(e).map(r=>r?Xy(r):null)}function i3(e){let t=n3(e);return Xy(t)}function Fy(e){return e}var Ky={[fe.NUMERIC]:jy,[me.NUMERIC_ARRAY]:Er(jy),[fe.TIME]:Hy,[me.TIME_ARRAY]:Er(Hy),[fe.TIMETZ]:t3,[fe.DATE]:By,[me.DATE_ARRAY]:Er(By),[fe.TIMESTAMP]:$y,[me.TIMESTAMP_ARRAY]:Er($y),[fe.TIMESTAMPTZ]:e3,[fe.MONEY]:qy,[me.MONEY_ARRAY]:Er(qy),[fe.JSON]:Wy,[fe.JSONB]:Wy,[fe.BYTEA]:i3,[me.BYTEA_ARRAY]:s3,[me.BIT_ARRAY]:Er(Fy),[me.VARBIT_ARRAY]:Er(Fy),[me.XML_ARRAY]:Er(r3)};function Jy(e){for(let t=0;t<e.length;t++){let r=e[t];if(Array.isArray(r))for(let n=0;n<r.length;n++){let o=r[n];ArrayBuffer.isView(o)&&(r[n]=Buffer.from(o.buffer,o.byteOffset,o.byteLength))}}return e}var kn=(0,Zu.Debug)("prisma:driver-adapter:neon"),a3=class{constructor(){this.provider="postgres",this.adapterName=XA}async queryRaw(e){kn("[js::query_raw] %O",e);let r=await this.performIO(e);if(!r.ok)return Cn(r.error);let{fields:n,rows:o}=r.value,s=n.map(a=>a.name),i=[];try{i=n.map(a=>ZA(a.dataTypeID))}catch(a){if(a instanceof Qy)return Cn({kind:"UnsupportedNativeDataType",type:a.type});throw a}return Ht({columnNames:s,columnTypes:i,rows:o})}async executeRaw(e){return kn("[js::execute_raw] %O",e),(await this.performIO(e)).map(r=>r.rowCount??0)}},el=class extends a3{constructor(e){super(),this.client=e}async performIO(e){let{sql:t,args:r}=e;try{let n=await this.client.query({text:t,values:Jy(r),rowMode:"array",types:{getTypeParser:(o,s)=>s==="text"&&Ky[o]?Ky[o]:Si.getTypeParser(o,s)}},Jy(r));return Ht(n)}catch(n){if(kn("Error in performIO: %O",n),n&&typeof n.code=="string"&&typeof n.severity=="string"&&typeof n.message=="string")return Cn({kind:"Postgres",code:n.code,severity:n.severity,message:n.message,detail:n.detail,column:n.column,hint:n.hint});throw n}}},c3=class extends el{constructor(e,t){super(e),this.options=t}async commit(){return kn("[js::commit]"),this.client.release(),Promise.resolve(Ht(void 0))}async rollback(){return kn("[js::rollback]"),this.client.release(),Promise.resolve(Ht(void 0))}},u3=class extends el{constructor(e){super(e),this.conn=e}async startTransaction(){let e={usePhantomQuery:!1};return kn("%s options: %O","[js::startTransaction]",e),Ht(new c3(this.conn,e))}},Zy=class extends el{constructor(e,t){if(!(e instanceof Ei))throw new TypeError(`PrismaNeon must be initialized with an instance of Pool:
import { Pool } from '@neondatabase/serverless'
const pool = new Pool({ connectionString: url })
const adapter = new PrismaNeon(pool)
`);super(e),this.options=t,this.isRunning=!0}getConnectionInfo(){return Ht({schemaName:this.options?.schema})}async transactionContext(){let e=await this.client.connect();return Ht(new u3(e))}async close(){return this.isRunning&&(await this.client.end(),this.isRunning=!1),Ht(void 0)}};var Ag=pt(vg()),Rg=pt(Sg());Tn.webSocketConstructor=Rg.default;var S5=`${process.env.DATABASE_URL}`,A5=new Ei({connectionString:S5}),R5=new Zy(A5),ml=new Ag.PrismaClient({adapter:R5}).$extends({result:{product:{price:{compute(e){return e.price.toString()}},rating:{compute(e){return e.rating.toString()}}}}});var Dn="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),yl=Array.from({length:64},(e,t)=>t),Oi=e=>Array(e).fill(-1),Tr=[...Oi(46),0,1,...yl.slice(54,64),...Oi(7),...yl.slice(2,28),...Oi(6),...yl.slice(28,54),...Oi(5)],xg=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Tg=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],kg=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892],gl=(e,t)=>{if(t<=0||t>e.length)throw Error(`Illegal len: ${t}`);let r=0,n,o,s=[];for(;r<t;){if(n=e[r++]&255,s.push(Dn[n>>2&63]),n=(n&3)<<4,r>=t){s.push(Dn[n&63]);break}if(o=e[r++]&255,n|=o>>4&15,s.push(Dn[n&63]),n=(o&15)<<2,r>=t){s.push(Dn[n&63]);break}o=e[r++]&255,n|=o>>6&3,s.push(Dn[n&63]),s.push(Dn[o&63])}return s.join("")},x5=(e,t)=>{if(t<=0)throw Error(`Illegal len: ${t}`);let r=e.length,n=0,o=0,s,i,a,c,l,u,f=[];for(;n<r-1&&o<t&&(u=e.charCodeAt(n++),s=u<Tr.length?Tr[u]:-1,u=e.charCodeAt(n++),i=u<Tr.length?Tr[u]:-1,!(s==-1||i==-1||(l=s<<2>>>0,l|=(i&48)>>4,f.push(String.fromCharCode(l)),++o>=t||n>=r)||(u=e.charCodeAt(n++),a=u<Tr.length?Tr[u]:-1,a==-1)||(l=(i&15)<<4>>>0,l|=(a&60)>>2,f.push(String.fromCharCode(l)),++o>=t||n>=r)));)u=e.charCodeAt(n++),c=u<Tr.length?Tr[u]:-1,l=(a&3)<<6>>>0,l|=c,f.push(String.fromCharCode(l)),++o;return f.map(p=>p.charCodeAt(0))},T5=(e,t)=>{let r=null;for(typeof e=="number"&&(r=e,e=()=>null);r!==null||(r=e())!==null;)r<128?t(r&127):r<2048?(t(r>>6&31|192),t(r&63|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(r&63|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(r&63|128)),r=null},P5=(e,t)=>{let r,n=null;for(;(r=n!==null?n:e())!==null;){if(r>=55296&&r<=57343&&(n=e())!==null&&n>=56320&&n<=57343){t((r-55296)*1024+n-56320+65536),n=null;continue}t(r)}n!==null&&t(n)},C5=(e,t)=>{P5(e,function(r){T5(r,t)})},k5=setTimeout,I5=e=>{let t=[],r=0;return C5(()=>r>=e.length?null:e.charCodeAt(r++),n=>{t.push(n)}),t},Vo=(e,t,r,n)=>{let o,s=e[t],i=e[t+1];return s^=r[0],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[1],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[2],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[3],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[4],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[5],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[6],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[7],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[8],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[9],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[10],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[11],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[12],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[13],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[14],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],i^=o^r[15],o=n[i>>>24],o+=n[256|i>>16&255],o^=n[512|i>>8&255],o+=n[768|i&255],s^=o^r[16],e[t]=i^r[17],e[t+1]=s,e},Un=(e,t)=>{let r=0;for(let n=0;n<4;++n)r=r<<8|e[t]&255,t=(t+1)%e.length;return{key:r,offp:t}},Pg=(e,t,r)=>{let n=t.length,o=r.length,s=0,i=[0,0],a;for(let c=0;c<n;c++)a=Un(e,s),s=a.offp,t[c]=t[c]^a.key;for(let c=0;c<n;c+=2)i=Vo(i,0,t,r),t[c]=i[0],t[c+1]=i[1];for(let c=0;c<o;c+=2)i=Vo(i,0,t,r),r[c]=i[0],r[c+1]=i[1]},O5=(e,t,r,n)=>{let o=r.length,s=n.length,i=0,a=[0,0],c;for(let l=0;l<o;l++)c=Un(t,i),i=c.offp,r[l]=r[l]^c.key;i=0;for(let l=0;l<o;l+=2)c=Un(e,i),i=c.offp,a[0]^=c.key,c=Un(e,i),i=c.offp,a[1]^=c.key,a=Vo(a,0,r,n),r[l]=a[0],r[l+1]=a[1];for(let l=0;l<s;l+=2)c=Un(e,i),i=c.offp,a[0]^=c.key,c=Un(e,i),i=c.offp,a[1]^=c.key,a=Vo(a,0,r,n),n[l]=a[0],n[l+1]=a[1]},Cg=(e,t,r,n,o)=>{let s=kg.slice(),i=s.length;if(r<4||r>31){let p=new Error(`Illegal number of rounds (4-31): ${r}`);if(n===!1)return Promise.reject(p);throw p}if(t.length!==16){let p=new Error(`Illegal salt length: ${t.length} != 16`);if(n===!1)return Promise.reject(p);throw p}r=1<<r>>>0;let a,c,l=0,u;Int32Array?(a=new Int32Array(xg),c=new Int32Array(Tg)):(a=xg.slice(),c=Tg.slice()),O5(t,e,a,c);let f=()=>{if(o&&o(l/r),l<r){let p=Date.now();for(;l<r&&(l=l+1,Pg(e,a,c),Pg(t,a,c),!(Date.now()-p>100)););}else{for(l=0;l<64;l++)for(u=0;u<i>>1;u++)Vo(s,u<<1,a,c);let p=[];for(l=0;l<i;l++)p.push((s[l]>>24&255)>>>0),p.push((s[l]>>16&255)>>>0),p.push((s[l]>>8&255)>>>0),p.push((s[l]&255)>>>0);return n===!1?Promise.resolve(p):p}if(n===!1)return new Promise(p=>k5(()=>{f().then(p)}))};if(n===!1)return f();{let p;for(;;)if(typeof(p=f())<"u")return p||[]}},N5=e=>{try{let t;return(self.crypto||self.msCrypto).getRandomValues(t=new Uint32Array(e)),Array.prototype.slice.call(t)}catch{throw Error("WebCryptoAPI is not available")}},D5=(e=10)=>{if(typeof e!="number")throw Error("Illegal arguments: "+typeof e);e<4?e=4:e>31&&(e=31);let t=[];return t.push("$2a$"),e<10&&t.push("0"),t.push(e.toString()),t.push("$"),t.push(gl(N5(16),16)),t.join("")};function U5(e,t,r,n){if(typeof e!="string"||typeof t!="string"){let w=new Error("Invalid string / salt: Not a string");if(r===!1)return Promise.reject(w);throw w}let o,s;if(t.charAt(0)!=="$"||t.charAt(1)!=="2"){let w=new Error("Invalid salt version: "+t.substring(0,2));if(r===!1)return Promise.reject(w);throw w}if(t.charAt(2)==="$")o="\0",s=3;else{if(o=t.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||t.charAt(3)!=="$"){let w=Error("Invalid salt revision: "+t.substring(2,4));if(r===!1)return Promise.reject(w);throw w}s=4}if(t.charAt(s+2)>"$"){let w=new Error("Missing salt rounds");if(r===!1)return Promise.reject(w);throw w}let i=parseInt(t.substring(s,s+1),10)*10,a=parseInt(t.substring(s+1,s+2),10),c=i+a,l=t.substring(s+3,s+25);e+=o>="a"?"\0":"";let u=I5(e),f=x5(l,16),p=w=>{let m=[];return m.push("$2"),o>="a"&&m.push(o),m.push("$"),c<10&&m.push("0"),m.push(c.toString()),m.push("$"),m.push(gl(f,f.length)),m.push(gl(w,kg.length*4-1)),m.join("")};return r===!1?Cg(u,f,c,!1,n).then(w=>p(w)):p(Cg(u,f,c,!0,n))}var L5=(e,t=10)=>{if(typeof t=="number"&&(t=D5(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return U5(e,t,!0)};var Ig=(e,t)=>{if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:L5(e,t.substring(0,t.length-31))===t};var M5={pages:{signIn:"/auth/signin",error:"/auth/signin"},session:{strategy:"jwt",maxAge:30*24},adapter:Om(ml),providers:[yi({credentials:{email:{type:"email"},password:{type:"password"}},async authorize(e){if(e==null)return null;let t=await ml.user.findFirst({where:{email:e.email}});return t&&t.password&&Ig(e.password,t.password)?{id:t.id,name:t.name,role:t.role}:null}})]},{handlers:Ik,auth:j5,signIn:Ok,signOut:Nk}=Du(M5);})();
/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@prisma/client/runtime/index-browser.js:
  (*! Bundled license information:
  
  decimal.js/decimal.mjs:
    (*!
     *  decimal.js v10.4.3
     *  An arbitrary-precision Decimal type for JavaScript.
     *  https://github.com/MikeMcl/decimal.js
     *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
     *  MIT Licence
     *)
  *)

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)
*/
